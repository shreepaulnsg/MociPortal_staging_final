//>>built
define("xstyle/shim/transition",["../main"],function(y){function z(a){if("className"==a.propertyName){a=a.srcElement;var b=a._transitions,f=a._previousStyle,d=a.runtimeStyle,h=a.currentStyle,e;for(e in f){var c=d[e];b||(a._transitions=b={});var n=f[e],p=h[e];d[e]=c;if(n!=p&&(n||c)){var g=k(p);if(g.units){var q=k(c);q=t(g,q);var u=k(n),v=t(g,u);if(v&&q&&u.units==g.units){if(g=b[e])g.at=1;var w=w||(r=(new Date).getTime());g=b[e]={from:n||c,element:a,to:p,startTime:w,duration:a._transitionDuration*q/
v,timing:A[a._transitionTiming||"ease"],property:e,t:0};x(g)||l.push(g);f[e]=p}}}}}}function k(a){var b=a.match(B);if(b)for(a=b[1].split(","),b=0;4>b;b++)a[0]=+(a[0]||0);else{if(b=a.match(C)){b=b[1];a=[];var f=3==b.length;a[0]=parseInt(b[0]+b[f?0:1],16);a[1]=parseInt(b[f?1:2]+b[f?1:3],16);a[2]=parseInt(b[f?2:4]+b[f?2:5],16);a.units="rgb";return a}return(b=a.match(D))?(a=[b[1]],a.units=b[2],a):[]}a.units="rgb";return a}function t(a,b){for(var f=0,d=0;d<a.length;d++)f+=Math.abs((b[d]||0)-(a[d]||0));
return f}function x(a){runtimeStyle=a.element.runtimeStyle;if(1<=(a.t=(r-a.startTime)/1E3/a.duration))return runtimeStyle[a.property]="",!0;var b=runtimeStyle,f=a.property;var d=k(a.from);var h=k(a.to);a=a.timing(a.t);for(var e=[],c=0;c<d.length;c++)e[c]=h[c]*a-d[c]*(a-1);d="rgb"==d.units?"#"+e[0].toString(16)+e[1].toString(16)+e[2].toString(16)+e[3].toString(16):e[0]+d.units;b[f]=d}function m(a,b,f,d){var h=(b+.01)/(a+.01)/3,e=1-(1.01-d)/(1.01-f)/3;return function(c){return 3*(1-c)*(1-c)*c*h+3*(1-
c)*c*c*e+c*c*c}}var l=[],B=/^rgba?\(([0-9,]+)\)/i,C=/#([0-9a-f]+)/i,D=/([-0-9\.]+)([\w]+)/;l=[];var r=(new Date).getTime();setInterval(function(){r=(new Date).getTime();for(var a=0,b=l.length;a<b;a++)x(l[a])&&(l.splice(a--,1),b--)},30);var A={ease:m(.25,.1,.25,1),linear:m(0,0,1,1),"ease-in":m(.42,0,1,1),"ease-out":m(0,0,.58,1),"ease-in-out":m(.42,0,.58,1)};return{onProperty:function(a,b,f){return y.addRenderer(a,b,f,function(d){var h=d.currentStyle,e=d._previousStyle={};"transition-duration"==a&&
(d._transitionDuration=parseFloat(b));for(var c in h)e[c]=h[c];d.attachEvent("onpropertychange",z)})}}});