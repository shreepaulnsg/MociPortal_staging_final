// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/templates/AttributeInspector.html":'\x3cdiv class\x3d"esriAttributeInspector"\x3e\r\n    \x3cdiv class\x3d"atiLayerName" dojoAttachPoint\x3d"layerName"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"atiAttributes" dojoAttachPoint\x3d"attributeTable"\x3e\x3c/div\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"attachmentEditor"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"atiEditorTrackingInfo" dojoAttachPoint\x3d"editorTrackingInfoDiv"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"atiButtons" dojoAttachPoint\x3d"editButtons"\x3e\r\n        \x3cbutton  dojoType\x3d"dijit.form.Button" class\x3d"atiButton atiDeleteButton"  dojoAttachPoint\x3d"deleteBtn" dojoAttachEvent\x3d"onClick: onDeleteBtn" showLabel\x3d"true" type\x3d"button"\x3e${NLS_deleteFeature}\x3c/button\x3e\r\n        \x3cdiv class\x3d"atiNavButtons" dojoAttachPoint\x3d"navButtons"\x3e\r\n            \x3cdiv class\x3d"atiNavMessage" dojoAttachPoint\x3d"navMessage"\x3e\x3c/div\x3e\r\n            \x3cbutton  dojoType\x3d"dijit.form.Button" iconClass\x3d"atiButton atiFirstIcon" dojoAttachPoint\x3d"firstFeatureButton" dojoAttachEvent\x3d"onClick: onFirstFeature" showLabel\x3d"false" type\x3d"button"\x3e${NLS_first}\x3c/button\x3e\r\n            \x3cbutton  dojoType\x3d"dijit.form.Button" iconClass\x3d"atiButton atiPrevIcon" dojoAttachPoint\x3d"prevFeatureButton" dojoAttachEvent\x3d"onClick: onPreviousFeature" showLabel\x3d"false" type\x3d"button"\x3e${NLS_previous}\x3c/button\x3e\r\n            \x3cbutton  dojoType\x3d"dijit.form.Button" iconClass\x3d"atiButton atiNextIcon" dojoAttachPoint\x3d"nextFeatureButton" dojoAttachEvent\x3d"onClick: onNextFeature" showLabel\x3d"false" type\x3d"button"\x3e${NLS_next}\x3c/button\x3e\r\n            \x3cbutton  dojoType\x3d"dijit.form.Button" iconClass\x3d"atiButton atiLastIcon" dojoAttachPoint\x3d"lastFeatureButton" dojoAttachEvent\x3d"onClick: onLastFeature" showLabel\x3d"false" type\x3d"button"\x3e${NLS_last}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("esri/dijit/AttributeInspector","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/sniff dojo/_base/kernel dojo/has dojo/dom-style dojo/dom-construct ../kernel ../lang ../domUtils ../layers/InheritedDomain ../layers/FeatureLayer dojo/i18n!../nls/jsapi dojo/fx dojox/gfx dijit/_Widget dijit/_Templated dijit/Editor dijit/_editor/plugins/LinkDialog dijit/_editor/plugins/TextColor ./_EventedWidget ./editing/AttachmentEditor ./editing/Util ../tasks/query dijit/form/DateTextBox dijit/form/TextBox dijit/form/NumberTextBox dijit/form/FilteringSelect dijit/form/NumberSpinner dijit/form/Button dijit/form/SimpleTextarea dijit/form/ValidationTextBox dijit/form/TimeTextBox dijit/Tooltip dojo/data/ItemFileReadStore dojox/date/islamic dojox/date/islamic/Date dojox/date/islamic/locale dojo/text!./templates/AttributeInspector.html".split(" "),
function(D,m,h,v,V,E,F,u,p,G,t,x,y,H,I,W,X,J,K,L,Y,Z,M,N,w,aa,O,ba,z,A,P,ca,Q,B,R,S,T,da,ea,fa,U){var r=D([M,J,K],{declaredClass:"esri.dijit.AttributeInspector",widgetsInTemplate:!0,templateString:U,onUpdate:function(){},onDelete:function(){},onAttributeChange:function(){},onNext:function(){},onReset:function(){},onCancel:function(){},_navMessage:"( ${idx} ${of} ${numFeatures} )",_currentAttributeFieldName:null,_aiConnects:[],_selection:[],_toolTips:[],_numFeatures:0,_featureIdx:0,_currentLInfo:null,
_currentFeature:null,_rollbackInfo:null,_eventMap:{update:!0,"delete":["feature"],"attribute-change":["feature","fieldName","fieldValue"],next:["feature"],reset:!0,cancel:!0},_defaultRichTextPlugins:"bold italic underline foreColor hiliteColor | justifyLeft justifyCenter justifyRight justifyFull | insertOrderedList insertUnorderedList indent outdent | createLink".split(" "),css:{label:"atiLabel",field:"atiField",textArea:"atiTextAreaField",richText:"atiRichTextField",attachmentEditor:"atiAttachmentEditor",
red:"atiRequiredField"},constructor:function(a,b){m.mixin(this,I.widgets.attributeInspector);a=a||{};a.featureLayer||a.layerInfos||console.error("esri.AttributeInspector: please provide correct parameter in the constructor");this._datePackage=this._getDatePackage(a);this._layerInfos=a.layerInfos||[{featureLayer:a.featureLayer,options:a.options||[]}];this._layerInfos=h.filter(this._layerInfos,function(c){return!c.disableAttributeUpdate});this._hideNavButtons=a.hideNavButtons||!1},postCreate:function(){if(h.every(this._layerInfos,
function(b){return b.featureLayer.loaded}))this._initLayerInfos(),this._createAttachmentEditor(),this.onFirstFeature();else{var a=this._layerInfos.length;h.forEach(this._layerInfos,function(b){b=b.featureLayer;if(b.loaded)a--;else var c=v.connect(b,"onLoad",this,function(d){v.disconnect(c);c=null;a--;a||(this._initLayerInfos(),this._createAttachmentEditor(),this.onFirstFeature())})},this)}},destroy:function(){this._destroyAttributeTable();h.forEach(this._aiConnects,v.disconnect);delete this._aiConnects;
this._attachmentEditor&&(this._attachmentEditor.destroy(),delete this._attachmentEditor);delete this._layerInfos;this._selection=this._currentFeature=this._currentLInfo=this._attributes=this._layerInfos=null;this.inherited(arguments)},refresh:function(){this._updateSelection()},first:function(){this.onFirstFeature()},last:function(){this.onLastFeature()},next:function(){this.onNextFeature()},previous:function(){this.onPreviousFeature()},showFeature:function(a,b){b&&(this._createOnlyFirstTime=!0);
this._updateSelection([a],b);this._updateUI()},onLayerSelectionChange:function(a,b,c){this._createOnlyFirstTime=!1;this._featureIdx=c===H.SELECTION_NEW?0:this._featureIdx;this._updateSelection();this._updateUI()},onLayerSelectionClear:function(){!this._selection||0>=this._selection.length||(this._featureIdx=this._numFeatures=0,this._selection=[],this._currentLInfo=this._currentFeature=null,this._updateUI())},onLayerUpdateEnd:function(a,b,c,d){},onLayerError:function(a,b,c,d){},onLayerEditsError:function(a,
b,c,d){},onLayerEditsComplete:function(a,b,c,d){d=d||[];if(d.length){var e=this._selection,k=a.featureLayer.objectIdField;h.forEach(d,m.hitch(this,function(l){h.some(e,m.hitch(this,function(g,n){if(g.attributes[k]!==l.objectId)return!1;this._selection.splice(n,1);return!0}))}))}b=b||[];b.length&&(this._selection=w.findFeatures(b,a.featureLayer),this._featureIdx=0);d=this._numFeatures=(this._selection=w.sortFeaturesById(this._layerInfos,this._selection))?this._selection.length:0;if(b.length){if(b=
d?this._selection[this._featureIdx]:null)d=b.getLayer().getEditCapabilities(),d.canCreate&&!d.canUpdate||this._showFeature(b);this._updateUI()}c=c||[];if(c.length){var f=this._rollbackInfo;h.forEach(c,function(l){var g=w.findFeatures(c,a.featureLayer)[0];if(!l.success&&g.attributes[a.featureLayer.objectIdField]===l.objectId&&f){var n=f.field;l=f.graphic.attributes[n.name];var q=h.filter(this._currentLInfo.fieldInfos,function(C){return C.fieldName===n.name},this)[0].dijit;g.attributes[n.name]=l;"esriFieldTypeDate"===
n.type&&(l=new Date(l));this._setValue(q,l)}},this)}this._rollbackInfo=null},onFieldValueChange:function(a,b){var c=a.field,d=a.dijit,e=this._currentFeature,k=this._currentLInfo,f=c.name;a=this._isFieldRequired(c,a);if(""===d.displayedValue||"dijit.form.ValidationTextBox"!==d.declaredClass||d.isValid())if(""!==d.displayedValue&&d.displayedValue!==b&&d.isValid&&!d.isValid())this._setValue(d,e.attributes[c.name]);else{var l=!("esriFieldTypeInteger"!==c.type&&"esriFieldTypeSmallInteger"!==c.type&&"esriFieldTypeSingle"!==
c.type&&"esriFieldTypeDouble"!==c.type);if(a&&(null===b||""===b||"undefined"===typeof b||l&&isNaN(b))){f=e.attributes[c.name];if("esriFieldTypeDate"===c.type&&(f=new Date(f),d instanceof Array)){this._setValue(d[0],f);this._setValue(d[1],f);return}this._setValue(d,f)}else{if(l){if(isNaN(b)||""===b)b=null;l&&null!==b&&(b=Number(b))}"esriFieldTypeDate"===c.type&&(d instanceof Array?(b=d[0].getValue(),d=d[1].getValue(),b=b&&d?new Date(b.getFullYear(),b.getMonth(),b.getDate(),d.getHours(),d.getMinutes(),
d.getSeconds(),d.getMilliseconds()):b||d||null):(b=d.getValue(),c.domain&&(b=Number(b))),b=b&&b.getTime?b.getTime():b&&b.toGregorian?b.toGregorian().getTime():b);if(this._currentFeature.attributes[c.name]!==b){if(f===k.typeIdField){var g=this._findFirst(k.types,"id",b);h.forEach(k.fieldInfos,function(n){(c=n.field)&&c.name!==k.typeIdField&&(n=n.dijit,this._setFieldDomain(n,g,c)&&n&&(this._setValue(n,e.attributes[c.name]+""),!1===n.isValid()&&this._setValue(n,null)))},this)}this.onAttributeChange(e,
f,b)}}}else this._setValue(d,e.attributes[c.name])},onDeleteBtn:function(a){this._deleteFeature()},onNextFeature:function(a){this._onNextFeature(1)},onPreviousFeature:function(a){this._onNextFeature(-1)},onFirstFeature:function(a){this._onNextFeature(-1*this._featureIdx)},onLastFeature:function(a){this._onNextFeature(this._numFeatures-1-this._featureIdx)},_initLayerInfos:function(){var a=this._layerInfos;this._editorTrackingInfos={};h.forEach(a,this._initLayerInfo,this)},_initLayerInfo:function(a){var b=
a.featureLayer,c;this._userIds={};var d=b.id;b.credential&&(this._userIds[d]=b.credential.userId);a.userId&&(this._userIds[d]=a.userId);this._connect(b,"onSelectionComplete",m.hitch(this,"onLayerSelectionChange",a));this._connect(b,"onSelectionClear",m.hitch(this,"onLayerSelectionClear",a));this._connect(b,"onEditsComplete",m.hitch(this,"onLayerEditsComplete",a));this._connect(b,"error",m.hitch(this,"onLayerError",a));this._connect(b,"onUpdateEnd",m.hitch(this,"onLayerUpdateEnd",a));a.showAttachments=
b.hasAttachments?t.isDefined(a.showAttachments)?a.showAttachments:!0:!1;a.hideFields=a.hideFields||[];a.htmlFields=a.htmlFields||[];a.isEditable=b.isEditable()?t.isDefined(a.isEditable)?a.isEditable:!0:!1;a.typeIdField=b.typeIdField;a.layerId=b.id;a.types=b.types;b.globalIdField&&((c=this._findFirst(a.fieldInfos,"fieldName",b.globalIdField))||a.showGlobalID||a.hideFields.push(b.globalIdField));(d=this._findFirst(a.fieldInfos,"fieldName",b.objectIdField))||a.showObjectID||a.hideFields.push(b.objectIdField);
var e=this._getFields(a.featureLayer);if(e){var k=a.fieldInfos||[];k=h.map(k,function(f){return m.mixin({},f)});k.length?a.fieldInfos=h.filter(h.map(k,m.hitch(this,function(f){var l=f.stringFieldOption||(this._isInFields(f.fieldName,a.htmlFields)?r.STRING_FIELD_OPTION_RICHTEXT:r.STRING_FIELD_OPTION_TEXTBOX);return m.mixin(f,{field:this._findFirst(e,"name",f.fieldName),stringFieldOption:l})})),"return item.field;"):(e=h.filter(e,m.hitch(this,function(f){return!this._isInFields(f.name,a.hideFields)})),
a.fieldInfos=h.map(e,m.hitch(this,function(f){var l=this._isInFields(f.name,a.htmlFields)?r.STRING_FIELD_OPTION_RICHTEXT:r.STRING_FIELD_OPTION_TEXTBOX;return{fieldName:f.name,field:f,stringFieldOption:l}})));a.showGlobalID&&!c&&k.push(this._findFirst(e,"name",b.globalIdField));a.showObjectID&&!d&&k.push(this._findFirst(e,"name",b.objectIdField));c=[];b.editFieldsInfo&&(b.editFieldsInfo.creatorField&&c.push(b.editFieldsInfo.creatorField),b.editFieldsInfo.creationDateField&&c.push(b.editFieldsInfo.creationDateField),
b.editFieldsInfo.editorField&&c.push(b.editFieldsInfo.editorField),b.editFieldsInfo.editDateField&&c.push(b.editFieldsInfo.editDateField));this._editorTrackingInfos[b.id]=c}},_createAttachmentEditor:function(){this._attachmentEditor=null;var a=h.filter(this._layerInfos,function(b){return b.showAttachments});a&&a.length&&(this._attachmentEditor=new N({"class":this.css.attachmentEditor},this.attachmentEditor),this._attachmentEditor.startup())},_setCurrentLInfo:function(a){var b=this._currentLInfo?this._currentLInfo.featureLayer:
null,c=a.featureLayer;if(b&&b.id===c.id&&!b.ownershipBasedAccessControlForFeatures&&(b=c.getEditCapabilities(),!b.canCreate||b.canUpdate))return;this._currentLInfo=a;this._createTable()},_updateSelection:function(a,b){this._selection=a||[];h.forEach(this._layerInfos,this._getSelection,this);this._selection=w.sortFeaturesById(this._layerInfos,this._selection);this._numFeatures=this._selection.length;this._showFeature(this._numFeatures?this._selection[this._featureIdx]:null,b)},_getSelection:function(a){a=
a.featureLayer.getSelectedFeatures();this._selection=this._selection.concat(a)},_updateUI:function(){var a=this._numFeatures,b=this._currentLInfo;this.layerName.innerHTML=b&&0!==a?b.featureLayer?b.featureLayer.name:"":this.NLS_noFeaturesSelected;u.set(this.attributeTable,"display",a?"":"none");u.set(this.editButtons,"display",a?"":"none");u.set(this.navButtons,"display",!this._hideNavButtons&&1<a?"":"none");this.navMessage.innerHTML=t.substitute({idx:this._featureIdx+1,of:this.NLS_of,numFeatures:this._numFeatures},
this._navMessage);this._attachmentEditor&&u.set(this._attachmentEditor.domNode,"display",b&&b.showAttachments&&a?"":"none");u.set(this.deleteBtn.domNode,"display",b&&!1===b.showDeleteButton||!this._canDelete?"none":"");this.domNode.parentNode&&0<this.domNode.parentNode.scrollTop&&(this.domNode.parentNode.scrollTop=0)},_onNextFeature:function(a){this._featureIdx+=a;0>this._featureIdx?this._featureIdx=this._numFeatures-1:this._featureIdx>=this._numFeatures&&(this._featureIdx=0);a=this._selection.length?
this._selection[this._featureIdx]:null;this._showFeature(a);this._updateUI();this.onNext(a)},_deleteFeature:function(){this.onDelete(this._currentFeature)},_showFeature:function(a,b){if(a){this._currentFeature=a;b=b?b:a.getLayer();var c=b.getEditCapabilities({feature:a,userId:this._userIds[b.id]});this._canUpdate=c.canUpdate;this._canDelete=c.canDelete;if(c=this._getLInfoFromFeatureLayer(b)){this._setCurrentLInfo(c);var d=a.attributes,e=this._findFirst(c.types,"id",d[c.typeIdField]),k=null;h.forEach(c.fieldInfos,
function(f){k=f.field;var l=[];f.dijit&&1<f.dijit.length?h.forEach(f.dijit,function(g){l.push(g)}):l.push(f.dijit);h.forEach(l,m.hitch(this,function(g){if(g){var n=this._setFieldDomain(g,e,k),q=d[k.name];q=q&&n&&n.codedValues&&n.codedValues.length?n.codedValues[q]?n.codedValues[q].name:q:q;t.isDefined(q)||(q="");"dijit.form.DateTextBox"===g.declaredClass||"dijit.form.TimeTextBox"===g.declaredClass?q=""===q?null:new Date(q):"dijit.form.FilteringSelect"===g.declaredClass&&(g._lastValueReported=null,
q=d[k.name]+"");try{this._setValue(g,q),"dijit.form.FilteringSelect"===g.declaredClass&&!1===g.isValid()&&this._setValue(g,null)}catch(C){g.set("displayedValue",this.NLS_errorInvalid,!1)}}}))},this);this._attachmentEditor&&c.showAttachments&&this._attachmentEditor.showAttachments(this._currentFeature,b);(a=b.getEditSummary(a))?(this.editorTrackingInfoDiv.innerHTML=a,x.show(this.editorTrackingInfoDiv)):x.hide(this.editorTrackingInfoDiv)}}},_setFieldDomain:function(a,b,c){if(!a)return null;var d=c.domain;
b&&b.domains&&b.domains[c.name]&&!1===b.domains[c.name]instanceof y&&(d=b.domains[c.name]);if(!d)return null;d.codedValues&&0<d.codedValues.length?(a.set("store",this._toStore(h.map(d.codedValues,function(e){return{id:e.code+"",name:e.name}}))),this._setValue(a,d.codedValues[0].code+"")):(a.constraints={min:t.isDefined(d.minValue)?d.minValue:Number.MIN_VALUE,max:t.isDefined(d.maxValue)?d.maxValue:Number.MAX_VALUE},this._setValue(a,a.constraints.min));return d},_setValue:function(a,b){a.set&&(a._onChangeActive=
!1,a.set("value",b,!0),a._onChangeActive=!0)},_getFields:function(a){var b=a._getOutFields();if(!b)return null;a=a.fields;return"*"==b?a:h.filter(h.map(b,m.hitch(this,"_findFirst",a,"name")),t.isDefined)},_isInFields:function(a,b){return a&&(b||b.length)?h.some(b,function(c){return c.toLowerCase()===a.toLowerCase()}):!1},_isFieldNullable:function(a,b){return!(!1===a.nullable||b.field&&!1===b.field.nullable)},_isFieldRequired:function(a,b){return!1!==a.editable&&!1!==b.isEditable&&!this._isFieldNullable(a,
b)},_findFirst:function(a,b,c){return(a=h.filter(a,function(d){return d.hasOwnProperty(b)&&d[b]===c}))&&a.length?a[0]:null},_getLInfoFromFeatureLayer:function(a){return this._findFirst(this._layerInfos,"layerId",a?a.id:null)},_createTable:function(){this._destroyAttributeTable();this.attributeTable.innerHTML="";this._attributes=p.create("table",{cellspacing:"0",cellpadding:"0"},this.attributeTable);var a=p.create("tbody",null,this._attributes),b=this._currentLInfo,c=this._findFirst(b.types,"id",this._currentFeature.attributes[b.typeIdField]);
h.forEach(b.fieldInfos,m.hitch(this,"_createField",c,a),this);this._createOnlyFirstTime=!1},_createField:function(a,b,c){var d=this._currentLInfo,e=c.field;if(!this._isInFields(e.name,d.hideFields)&&!this._isInFields(e.name,this._editorTrackingInfos[d.featureLayer.id])){var k=!1,f;b=p.create("tr",null,b);var l=p.create("td",{innerHTML:c.label||e.alias||e.name,"class":this.css.label,"data-fieldname":e.name},b);this._isFieldRequired(e,c)&&p.create("span",{"class":this.css.red,innerHTML:" *"},l);b=p.create("td",
null,b);if(c.customField){p.place(c.customField.domNode||c.customField,p.create("div",null,b),"first");var g=c.customField}else if(!1===d.isEditable||!1===e.editable||!1===c.isEditable||"esriFieldTypeOID"===e.type||"esriFieldTypeGlobalID"===e.type||!this._canUpdate&&!this._createOnlyFirstTime)k=!0;d=d.typeIdField&&e.name.toLowerCase()==d.typeIdField.toLowerCase();l=!!this._getDomainForField(e,a);!g&&d?g=this._createTypeField(e,c,b):!g&&l&&(g=this._createDomainField(e,c,a,b));if(!g)switch(e.type){case "esriFieldTypeString":g=
this._createStringField(e,c,b);break;case "esriFieldTypeDate":g=this._createDateField(e,c,b);c.format&&c.format.time&&(f=this._createTimeField(e,c,b));break;case "esriFieldTypeInteger":case "esriFieldTypeSmallInteger":g=this._createIntField(e,c,b);break;case "esriFieldTypeSingle":case "esriFieldTypeDouble":g=this._createFltField(e,c,b);break;default:g=this._createStringField(e,c,b)}c.tooltip&&c.tooltip.length&&this._toolTips.push(new S({connectId:[g.id],label:c.tooltip}));g.onChange=m.hitch(this,
"onFieldValueChange",c);g.set("disabled",k);f?(c.dijit=[g,f],f.onChange=m.hitch(this,"onFieldValueChange",c),f.set("disabled",k)):c.dijit=g}},_createTypeField:function(a,b,c){c=p.create("div",null,c);var d=a.domain;return d&&"range"===d.type&&d.minValue===d.maxValue?new B({"class":this.css.field,trim:!0,maxLength:a.length,name:a.alias||a.name,required:this._isFieldRequired(a,b)},c):new A({"class":this.css.field,name:a.alias||a.name,required:this._isFieldRequired(a,b),store:this._toStore(h.map(this._currentLInfo.types,
function(e){return{id:e.id,name:e.name}})),searchAttr:"name"},c)},_getDomainForField:function(a,b){var c=a.domain;(a=a.name)&&b&&b.domains&&b.domains[a]&&!1===b.domains[a]instanceof y&&(c=b.domains[a]);return c||null},_createDomainField:function(a,b,c,d){c=this._getDomainForField(a,c);d=p.create("div",null,d);return c.codedValues?new A({"class":this.css.field,name:a.alias||a.name,searchAttr:"name",required:this._isFieldRequired(a,b)},d):new P({"class":this.css.field},d)},_createStringField:function(a,
b,c){c=p.create("div",null,c);var d={trim:!0,maxLength:a.length,required:this._isFieldRequired(a,b)};if(b.stringFieldOption===r.STRING_FIELD_OPTION_TEXTAREA)return d["class"]=this.css.field+" "+this.css.textArea,new Q(d,c);if(b.stringFieldOption===r.STRING_FIELD_OPTION_RICHTEXT)return d["class"]=this.css.field+" "+this.css.richText,d.height="100%",d.width="100%",d.plugins=b.richTextPlugins||this._defaultRichTextPlugins,c=new L(d,c),c.startup(),c;var e=this;d.validator=function(k,f){this._maskValidSubsetError=
!1;this._hasBeenBlurred=!0;return e._isFieldNullable(a,b)||!(""===k||null===k)};return new B(d,c)},_createTimeField:function(a,b,c){c=p.create("div",null,c);a={"class":this.css.field,trim:!0,required:this._isFieldRequired(a,b),constraints:{formatLength:"medium"}};this._datePackage&&(a.datePackage=this._datePackage);return new R(a,c)},_createDateField:function(a,b,c){c=p.create("div",null,c);a={"class":this.css.field,trim:!0,required:this._isFieldRequired(a,b)};this._datePackage&&(a.datePackage=this._datePackage);
return new O(a,c)},_createIntField:function(a,b,c){c=p.create("div",null,c);return new z({"class":this.css.field,constraints:"esriFieldTypeSmallInteger"===a.type?{min:-32768,max:32767,places:0}:{places:0},trim:!0,invalidMessage:this.NLS_validationInt,required:this._isFieldRequired(a,b)},c)},_createFltField:function(a,b,c){c=p.create("div",null,c);return new z({"class":this.css.field,constraints:{max:Infinity,min:-Infinity,places:"0,20"},trim:!0,invalidMessage:this.NLS_validationFlt,required:this._isFieldRequired(a,
b)},c)},_toStore:function(a){return new T({data:{identifier:"id",label:"name",items:a}})},_connect:function(a,b,c){this._aiConnects.push(v.connect(a,b,c))},_getDatePackage:function(a){return null===a.datePackage?null:a.datePackage?a.datePackage:"ar"===E.locale?"dojox.date.islamic":null},_destroyAttributeTable:function(){h.forEach(this._layerInfos,function(a){h.forEach(a.fieldInfos,function(b){var c=b.dijit;if(c){c._onChangeHandle=null;if(b.customField)return;c instanceof Array?h.forEach(c,m.hitch(this,
function(d){d.destroyRecursive?d.destroyRecursive():d.destroy&&d.destroy();d._onChangeHandle=null})):c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy()}b.dijit=null},this)},this);h.forEach(this._toolTips,function(a){a.destroy()});this._toolTips=[];this._attributes&&p.destroy(this._attributes)}});m.mixin(r,{STRING_FIELD_OPTION_RICHTEXT:"richtext",STRING_FIELD_OPTION_TEXTAREA:"textarea",STRING_FIELD_OPTION_TEXTBOX:"textbox"});F("extend-esri")&&m.setObject("dijit.AttributeInspector",r,G);
return r});