// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/Legend/utils",["dojo/_base/lang","../../lang","dojo/i18n!../../nls/jsapi"],function(h,l,q){var m=q.widgets.legend;return{getVisualVariableTitle:function(a,d){var b=a.field,c=a.normalizationField,e=!1,f=!1,n=!1;b=h.isFunction(b)?null:b;c=h.isFunction(c)?null:c;if(a.legendOptions&&a.legendOptions.title)var k=a.legendOptions.title;else if(a.valueExpressionTitle)k=a.valueExpressionTitle;else{if(d.renderer&&d.renderer.authoringInfo&&d.renderer.authoringInfo.visualVariables){var p=d.renderer.authoringInfo.visualVariables;
for(a=0;a<p.length;a++){var g=p[a];if("colorInfo"===g.type&&"ratio"===g.style){e=!0;break}else if("colorInfo"===g.type&&"percent"===g.style){f=!0;break}else if("colorInfo"===g.type&&"percentTotal"===g.style){n=!0;break}}}(e=n&&"showRatioPercentTotal"||f&&"showRatioPercent"||e&&"showRatio"||c&&"showNormField"||b&&"showField"||null)&&(k=l.substitute({field:b&&d.getFieldLabel(b),normField:c&&d.getFieldLabel(c)},"showField"===e?"${field}":m[e]))}return k},getRendererTitle:function(a,d){if(a){if("esri.renderer.ClassBreaksRenderer"===
a.declaredClass){var b=a.attributeField;var c=a.normalizationField;var e="percent-of-total"===a.normalizationType}b=h.isFunction(b)?null:b;c=h.isFunction(c)?null:c;if(a.legendOptions&&a.legendOptions.title)var f=a.legendOptions.title;else a.valueExpressionTitle?f=a.valueExpressionTitle:(a=c&&"showNormField"||(e?"showNormPct":null)||b&&"showField"||null)&&(f=l.substitute({field:b&&d.getFieldLabel(b),normField:c&&d.getFieldLabel(c)},"showField"===a?"${field}":m[a]))}return f}}});