// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/analysis/customgp/editors/simpleEditors","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/_base/html dojo/on dojo/Deferred dojo/promise/all dojo/json dijit/form/NumberTextBox dijit/form/Select dijit/form/Textarea dijit/form/DateTextBox dijit/form/TimeTextBox dijit/form/CheckBox dijit/form/_FormWidgetMixin ../common/dijit/URLInput ../utils esri/tasks/LinearUnit ../BaseEditor".split(" "),function(f,k,h,m,d,t,y,z,u,l,n,A,B,C,v,e,D,w,E,g){function p(a,b){return new n({value:b,
options:h.map(a,function(c){return{label:c,value:c}})})}function q(a){return a.filter&&a.filter.type?a.filter.type.toLowerCase():null}function x(a){if(a.list&&2===a.list.length){var b=+a.list[0];a=+a.list[1]}else b=a.minimum,a=a.maximum;return isNaN(b)||isNaN(a)?null:(b=Math.min(b,a),a=Math.max(b,a),[b,a])}e={};e.UnsupportEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-unsupport",editorName:"UnsupportEditor",postCreate:function(){this.inherited(arguments);d.setAttr(this.domNode,"innerHTML",
w.sanitizeHTML(this.message));"Select"===this.editorName?d.addClass(this.gEditor.domNode,"restrict-select-width"):"valuelist"===q(this.param)&&this.param.filter.list&&0<this.param.filter.list.length&&(this.gEditor=p(this.param.filter.list,this.param.defaultValue),d.addClass(this.gEditor.domNode,"restrict-select-width"))},getValue:function(){return null},validate:function(){return this.gEditor.validate()},focus:function(){this.gEditor.focus()}});e.ShowMessage=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-message",
editorName:"ShowMessage",postCreate:function(){this.inherited(arguments);d.setAttr(this.domNode,"innerHTML",w.sanitizeHTML(this.message))},getValue:function(){return null}});e.GeneralEditorWrapperEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",editorName:"GeneralEditorWrapperEditor",postCreate:function(){this.inherited(arguments);d.setStyle(this.gEditor.domNode,"width","100%");"Select"===this.editorName&&d.addClass(this.gEditor.domNode,"restrict-select-width");this.gEditor.placeAt(this.domNode)},
getValue:function(){var a=this.gEditor.getValue();return"string"===typeof a&&""===k.trim(a)?null:a},validate:function(){return this.gEditor.validate()},focus:function(){this.gEditor.focus()}});e.BooleanEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-boolean",editorName:"BooleanEditor",postCreate:function(){this.inherited(arguments);this.value=void 0===this.param.defaultValue?!1:this.param.defaultValue;this.editor=new v({checked:this.value});this.editor.placeAt(this.domNode)},getValue:function(){return this.editor.get("checked")}});
e.LongNumberEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-long",editorName:"LongNumberEditor",postCreate:function(){this.inherited(arguments);this.value=isNaN(this.param.defaultValue)?NaN:this.param.defaultValue;var a=q(this.param);if("range"===a){if(a=x(this.param.filter))this.editor=new l({value:this.value,intermediateChanges:!0,constraints:{places:0,min:a[0],max:a[1]}})}else"valuelist"===a&&this.param.filter.list&&0<this.param.filter.list.length&&(this.editor=p(this.param.filter.list,
this.param.defaultValue));this.editor||(this.editor=new l({value:this.value,intermediateChanges:!0,constraints:{places:0}}));this.editor.placeAt(this.domNode)},getValue:function(){var a=this.editor.get("value");return isNaN(a)?null:a},validate:function(){return this.editor.validate()},focus:function(){this.editor.focus()}});e.DoubleNumberEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-double",editorName:"DoubleNumberEditor",postCreate:function(){this.inherited(arguments);this.value=isNaN(this.param.defaultValue)?
NaN:this.param.defaultValue;var a=q(this.param);if("range"===a){if(a=x(this.param.filter))this.editor=new l({value:this.value,intermediateChanges:!0,constraints:{min:a[0],max:a[1]}})}else"valuelist"===a&&this.param.filter.list&&0<this.param.filter.list.length&&(this.editor=p(this.param.filter.list,this.param.defaultValue));this.editor||(this.editor=new l({value:this.value,intermediateChanges:!0}));this.editor.placeAt(this.domNode)},getValue:function(){var a=this.editor.get("value");return isNaN(a)?
null:a},validate:function(){return this.editor.validate()},focus:function(){this.editor.focus()}});e.MultiValueChooser=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue-chooser",editorName:"MultiValueChooser",postCreate:function(){this.inherited(arguments);this.checkBoxs=[];h.forEach(this.param.choiceList,function(a){var b=new v({label:a,checked:this.param.defaultValue&&-1<this.param.defaultValue.indexOf(a)?!0:!1});a=m.create("label",{"for":b.id,innerHTML:a,"class":"esriLeadingMargin05",
style:"display:inline-block;clear:both;"});b.placeAt(this.domNode);m.place(a,this.domNode,"last");m.create("br",null,this.domNode,"last");this.checkBoxs.push(b)},this)},getValue:function(){var a=[];h.forEach(this.checkBoxs,function(b){b.get("checked")&&a.push(b.label)},this);return a}});e.MultiValueEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue",editorName:"MultiValueEditor",postCreate:function(){this.inherited(arguments);this.editors=[];var a=d.create("div",{"class":"input-list"},
this.domNode),b=k.clone(this.param,a);b.dataType=this.param.dataType.substr(13,this.param.dataType.length);b.originParam=this.param;setTimeout(k.hitch(this,this._initChildEditors,b,a),100);this._createAddInputNode(b,a)},_initChildEditors:function(a,b){this.param.defaultValue&&0<this.param.defaultValue.length?h.forEach(this.param.defaultValue,function(c){a.defaultValue=c;this._createSingleInputContainerNode(a,b)},this):(delete a.defaultValue,this._createSingleInputContainerNode(a,b))},getValue:function(){var a=
[];h.forEach(this.editors,function(b){a.push(b.getValue())},this);return a},getGPValue:function(){var a=new y,b=[];h.forEach(this.editors,function(c){b.push(c.getGPValue())},this);z(b).then(function(c){a.resolve(c)},function(c){a.reject(c)});return a},destroy:function(){h.forEach(this.editors,function(a){a.destroy()});this.editors=[];this.inherited(arguments)},_createSingleInputContainerNode:function(a,b){b=d.create("div",{"class":"single-input"},b);a=this.editorManager.createEditor(a,"input",this.context,
{widgetUID:this.widgetUID,config:this.config});var c=d.getContentBox(this.domNode).w-30-3;d.setStyle(a.domNode,{display:"inline-block",width:c+"px"});a.placeAt(b);this._createRemoveInputNode(b);b.inputEditor=a;this.editors.push(a);return b},_createRemoveInputNode:function(a){var b=d.create("div",{"class":"remove",innerHTML:"-"},a);this.own(t(b,"click",k.hitch(this,function(){this.editors.splice(this.editors.indexOf(a.inputEditor),1);a.inputEditor.destroy();d.destroy(a)})));return b},_createAddInputNode:function(a,
b){var c=d.create("div",{"class":"add-input"},this.domNode),r=d.create("div",{"class":"add-btn",innerHTML:"+"},c);this.own(t(r,"click",k.hitch(this,function(){this._createSingleInputContainerNode(a,b)})));return c}});e.LinerUnitEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-liner-unit",editorName:"LinerUnitEditor",postCreate:function(){this.inherited(arguments);this.distance=this.param.defaultValue?this.param.defaultValue.distance:0;this.units=this.param.defaultValue?this.param.defaultValue.units:
"esriMeters";this.inputDijit=new l({value:this.distance,intermediateChanges:!0});this.selectDijit=new n({value:this.units,options:[{label:this.nls.meters,value:"esriMeters"},{label:this.nls.kilometers,value:"esriKilometers"},{label:this.nls.feet,value:"esriFeet"},{label:this.nls.miles,value:"esriMiles"},{label:this.nls.nauticalMiles,value:"esriNauticalMiles"},{label:this.nls.yards,value:"esriYards"}]});d.addClass(this.selectDijit.domNode,"restrict-select-width");this.inputDijit.placeAt(this.domNode);
this.selectDijit.placeAt(this.domNode)},getValue:function(){var a=new E;a.distance=this.inputDijit.getValue();a.units=this.selectDijit.getValue();return a},validate:function(){return this.inputDijit.validate()&&this.selectDijit.validate()},focus:function(){!1===this.inputDijit.isValid?this.inputDijit.focus():this.selectDijit.focus()}});e.DateTimeEditor=f(g,{baseClass:"jimu-gp-editor-base jimu-gp-editor-datatime",editorName:"DateTimeEditor",postCreate:function(){var a=new Date(this.param.defaultValue);
this.value=this.param.defaultValue?new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()):null;this.inherited(arguments);this.dateDijit=new B({value:this.value,style:{width:"60%"}});this.timeDijit=new C({value:this.value,style:{width:"40%"},constraints:{timePattern:"HH:mm:ss",clickableIncrement:"T00:15:00",visibleIncrement:"T00:15:00"}});this.dateDijit.placeAt(this.domNode);this.timeDijit.placeAt(this.domNode)},startup:function(){this.dateDijit.startup();this.timeDijit.startup()},
getValue:function(){var a=new Date,b=this.dateDijit.getValue(),c=this.timeDijit.getValue();return null!==b&&null!==c?(a.setFullYear(b.getFullYear()),a.setMonth(b.getMonth()),a.setDate(b.getDate()),a.setHours(c.getHours()),a.setMinutes(c.getMinutes()),a.setSeconds(c.getSeconds()),a.getTime()):null}});e.GetUrlObjectFromLayer=f([g,n],{editorName:"GetUrlObjectFromLayer",postCreate:function(){this.options=[];h.forEach(this.map.graphicsLayerIds,function(a){a=this.map.getLayer(a);"esri.layers.FeatureLayer"!==
a.declaredClass||this.geometryType&&a.geometryType!==this.geometryType||this.options.push({label:a.label||a.title||a.name||a.id,value:a.id})},this);this.inherited(arguments);this.setValue(this.value);d.addClass(this.domNode,"jimu-gp-editor-sffl");d.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var a;h.forEach(this.map.graphicsLayerIds,function(c){var r=this.map.getLayer(c);c===this.getValue()&&(a=r.url)},this);var b={url:a};b=this.wrapGPValue(b);
return this.wrapValueToDeferred(b)}});e.ObjectUrlEditor=f([g,D],{editorName:"ObjectUrlEditor",postCreate:function(){this.rest=!1;this.inherited(arguments);d.addClass(this.domNode,"jimu-gp-editor-ourl");d.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var a=this.getValue()?{url:this.getValue()}:null;a=this.wrapGPValue(a);return this.wrapValueToDeferred(a)}});e.SimpleJsonEditor=f([g,A],{editorName:"SimpleJsonEditor",postMixInProperties:function(){this.inherited(arguments);
"object"===typeof this.value&&(this.value=u.stringify(this.value))},postCreate:function(){this.inherited(arguments);d.addClass(this.domNode,"jimu-gp-editor-json");d.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var a=this.getValue()?u.parse(this.getValue()):null;a=this.wrapGPValue(a);return this.wrapValueToDeferred(a)}});return e});