// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/analysis/templates/ExtractRaster.html":'\x3cdiv class\x3d"esriAnalysis"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" style\x3d"margin-top:0.5em; margin-bottom: 0.5em;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_hotspotsToolContentTitle" class\x3d"analysisTitle"\x3e\r\n         \x3ctable class\x3d"esriFormTable" \x3e \r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"esriToolIconTd"\x3e\x3cdiv class\x3d"extractRasterIcon"\x3e\x3c/div\x3e\x3c/td\x3e\r\n              \x3ctd class\x3d"esriAlignLeading esriAnalysisTitle" data-dojo-attach-point\x3d"_toolTitle"\x3e\r\n                \x3clabel data-dojo-attach-point\x3d"_titleLbl"\x3e${i18n.extractRaster}\x3c/label\x3e\r\n                \x3cnav class\x3d"breadcrumbs"  data-dojo-attach-point\x3d"_analysisModeLblNode" style\x3d"display:none;"\x3e\r\n                  \x3ca href\x3d"#" class\x3d"crumb breadcrumbs__modelabel" data-dojo-attach-event\x3d"onclick:_handleModeCrumbClick" data-dojo-attach-point\x3d"_analysisModeCrumb"\x3e\x3c/a\x3e\r\n                  \x3ca href\x3d"#" class\x3d"crumb is-active" data-dojo-attach-point\x3d"_analysisTitleCrumb" style\x3d"font-size:16px;"\x3e${i18n.extractRaster}\x3c/a\x3e\r\n                \x3c/nav\x3e                  \r\n              \x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing" style\x3d"padding:0;"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading"\x3e\r\n                      \x3ca href\x3d"#" class\x3d\'esriFloatLeading helpIcon\' esriHelpTopic\x3d"toolDescription"\x3e\x3c/a\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n                      \x3ca href\x3d"#" data-dojo-attach-point\x3d"_closeBtn" title\x3d"${i18n.close}" class\x3d"esriAnalysisCloseIcon"\x3e\x3c/a\x3e\r\n                    \x3c/div\x3e              \r\n                \x3c/div\x3e  \r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n         \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both; border-bottom: #CCC thin solid; height:1px;width:100%;"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/form/Form" data-dojo-attach-point\x3d"_form" readOnly\x3d"true"\x3e\r\n    \x3ctable class\x3d"esriFormTable"\x3e \r\n      \x3ctbody\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_titleRow"\x3e\r\n          \x3ctd colspan\x3d"3" class\x3d"sectionHeader" data-dojo-attach-point\x3d"_interpolateToolDescription"\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_analysisLabelRow" style\x3d"display:none;"\x3e\r\n          \x3ctd colspan\x3d"2" style\x3d"padding-bottom:0;"\x3e\r\n            \x3clabel class\x3d"esriFloatLeading  esriTrailingMargin025 esriAnalysisNumberLabel"\x3e${i18n.oneLabel}\x3c/label\x3e\r\n            \x3clabel class\x3d"esriAnalysisStepsLabel"\x3e${i18n.analysisLayerLabel}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"shortTextInput" style\x3d"padding-bottom:0;"\x3e\r\n            \x3ca href\x3d"#" class\x3d\'esriFloatTrailing helpIcon\' esriHelpTopic\x3d"inputLayer"\x3e\x3c/a\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_selectAnalysisRow" style\x3d"display:none;"\x3e\r\n          \x3ctd colspan\x3d"3" style\x3d"padding-top:0;"\x3e\r\n            \x3cselect class\x3d"esriLeadingMargin1 longInput esriLongLabel" style\x3d"margin-top:1.0em;" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"_analysisSelect" data-dojo-attach-event\x3d"onChange:_handleAnalysisLayerChange"\x3e\x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e\r\n            \x3clabel data-dojo-attach-point\x3d"_labelTwo" class\x3d"esriFloatLeading esriTrailingMargin025 esriAnalysisNumberLabel"\x3e${i18n.oneLabel}\x3c/label\x3e\r\n            \x3clabel data-dojo-attach-point\x3d"_measurelabel" class\x3d"esriAnalysisStepsLabel"\x3e${i18n.clipping}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"shortTextInput"\x3e\r\n            \x3ca href\x3d"#" class\x3d\'esriFloatTrailing helpIcon\' data-dojo-attach-point\x3d"_analysisFieldHelpLink" esriHelpTopic\x3d"clippingGeometry"\x3e\x3c/a\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"3" style\x3d"padding-top:0"\x3e\r\n            \x3cselect class\x3d"esriLeadingMargin1 longInput esriLongLabel" style\x3d"margin-top:1.0em;" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"_clippingMethodSelect" data-dojo-attach-event\x3d"onChange:_handleClippingMethodChange"\x3e\r\n              \x3coption value\x3d"byExtent"\x3e${i18n.clippingExtent}\x3c/option\x3e\r\n              \x3coption value\x3d"byGeometry"\x3e ${i18n.clippingGeometry}\x3c/option\x3e\r\n              \x3coption value\x3d"byFeature"\x3e ${i18n.clippingFeature}\x3c/option\x3e\r\n            \x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_byGeometry" style\x3d"display:none"\x3e\r\n          \x3ctd style\x3d"width:10%;"\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/form/ToggleButton" data-dojo-attach-point\x3d"_polyDrawBtn" class\x3d"esriFloatLeading esriActionButton" data-dojo-props\x3d"showLabel:false,iconClass:\'toolbarIcon polygonIcon\',label:\'${i18n.drawLabel}\'" data-dojo-attach-event\x3d"onChange:_handlePolyBtnChange"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_byFeature" style\x3d"display:none"\x3e\r\n          \x3ctd colspan\x3d"3" style\x3d"padding-top:0;"\x3e\r\n            \x3cselect class\x3d"longInput esriLongLabel esriLeadingMargin1" style\x3d"margin-top:1.0em;" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"_layersSelect" data-dojo-attach-event\x3d"onChange:_handleLayerChange"\x3e\x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_useGeometry" style\x3d"display:none"\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3clabel class\x3d"esriLeadingMargin1 esriSelectLabel"\x3e\r\n              \x3c!--\x3cdiv data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_useGeometryCheck" data-dojo-props\x3d"checked:false"\x3e\x3c/div\x3e--\x3e\r\n              \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"_useGeometryCheck" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:false" value\x3d"false" data-dojo-attach-event\x3d"onChange:_handleUseGeometryChange" /\x3e\r\n              ${i18n.useGeometry}\r\n            \x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"3" class\x3d"clear"\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e\r\n            \x3clabel data-dojo-attach-point\x3d"_labelTwo" class\x3d"esriFloatLeading esriTrailingMargin025 esriAnalysisNumberLabel"\x3e${i18n.twoLabel}\x3c/label\x3e\r\n            \x3clabel data-dojo-attach-point\x3d"_clippingTypelabel" class\x3d"esriAnalysisStepsLabel"\x3e${i18n.clippingType}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"shortTextInput"\x3e\r\n            \x3ca href\x3d"#" class\x3d\'esriFloatTrailing helpIcon\' data-dojo-attach-point\x3d"_clippingTypeHelpLink" esriHelpTopic\x3d"clippingType"\x3e\x3c/a\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"3" style\x3d"padding-top:0;"\x3e\r\n            \x3cselect class\x3d"esriLeadingMargin1 longInput esriLongLabel" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"_clippingTypeSelect"\x3e\r\n              \x3coption value\x3d1\x3e${i18n.clippingInside}\x3c/option\x3e\r\n              \x3coption value\x3d2\x3e ${i18n.clippingOutside}\x3c/option\x3e\r\n            \x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e\r\n            \x3clabel class\x3d"esriFloatLeading esriTrailingMargin025 esriAnalysisNumberLabel"\x3e${i18n.threeLabel}\x3c/label\x3e\r\n            \x3clabel class\x3d"esriAnalysisStepsLabel"\x3e${i18n.outputLayerLabel}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"shortTextInput"\x3e\r\n            \x3ca href\x3d"#" class\x3d\'esriFloatTrailing helpIcon\' esriHelpTopic\x3d"outputLayer"\x3e\x3c/a\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d"trim:true,required:true" class\x3d"longTextInput esriLeadingMargin1" data-dojo-attach-point\x3d"_outputLayerInput"\x3e\x3c/input\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_chooseFolderRow" class\x3d"esriLeadingMargin1"\x3e\r\n              \x3clabel class\x3d"esriSaveLayerlabel"\x3e${i18n.saveResultIn}\x3c/label\x3e\r\n              \x3cinput class\x3d"longInput" data-dojo-attach-point\x3d"_webMapFolderSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" trim\x3d"true" style\x3d"width:55%;"\x3e\x3c/input\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_chooseLayerTypeRow" class\x3d"esriLeadingMargin1"\x3e\r\n              \x3clabel class\x3d"esriSaveLayerlabel"\x3e${i18n.saveLayerType}\x3c/label\x3e\r\n              \x3cinput class\x3d"longInput esriLongLabel" data-dojo-attach-point\x3d"_webLayerTypeSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" trim\x3d"true" style\x3d"width:55%;"\x3e\x3c/input\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv style\x3d"padding:5px;margin-top:5px;border-top:solid 1px #BBB;"\x3e\r\n    \x3cdiv class\x3d"esriExtentCreditsCtr"\x3e\r\n      \x3ca class\x3d"esriFloatTrailing esriSmallFont" href\x3d"#" data-dojo-attach-point\x3d"_showCreditsLink"\x3e${i18n.showCredits}\x3c/a\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_chooseExtentDiv" class\x3d"esriSelectLabel esriExtentLabel"\x3e\r\n        \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"_useExtentCheck" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:true" name\x3d"extent" value\x3d"true" /\x3e\r\n        ${i18n.useMapExtent}\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3ctable class\x3d"esriFormTable"\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"submit" data-dojo-attach-point\x3d"_saveBtn" class\x3d"esriAnalysisSubmitButton" data-dojo-attach-event\x3d"onClick:_handleSaveBtnClick"\x3e\r\n              ${i18n.runAnalysis}\r\n            \x3c/button\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/table\x3e  \r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" title\x3d"${i18n.creditTitle}" data-dojo-attach-point\x3d"_usageDialog" style\x3d"width:40em;"\x3e\r\n    \x3cdiv data-dojo-type\x3d"esri/dijit/analysis/CreditEstimator" data-dojo-attach-point\x3d"_usageForm"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("esri/dijit/analysis/ExtractRaster","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/_base/connect dojo/_base/Color dojo/dom-style dojo/_base/json dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_OnDijitClickMixin dijit/_FocusMixin ../../kernel ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../toolbars/draw ../../graphic ../../geometry/Polygon ../../geometry/Extent ../../geometry/geometryEngine ../../tasks/query ./RasterAnalysisMixin ./ItemTypes ./utils dojo/i18n!../../nls/jsapi dojo/text!./templates/ExtractRaster.html".split(" "),
function(e,f,l,r,t,u,g,m,v,w,x,y,z,A,n,p,q,B,C,D,E,F,G,h,k,H,I){e=e([v,w,x,y,z,G],{declaredClass:"esri.dijit.analysis.ExtractRaster",templateString:I,widgetsInTemplate:!0,browseType:[h.IS],inputLayer:null,clipType:1,geometry:null,graphic:null,_findDeepestArgsForRerun:!0,valueLayer:null,valueLayers:null,clippingMethod:"byExtent",toolName:"ExtractRaster",helpFileName:"ExtractRaster",toolNlsName:H.extractRasterTool,_getRasterFunction:function(){return"Clip"},_getRasterArguments:function(){return{ClippingType:this.get("clipType"),
ClippingGeometry:this.get("geometry"),clippingMethod:this.get("clippingMethod"),valueLayer:m.toJson(k.constructAnalysisInputLyrObj(this.get("valueLayer")))}},_getOutputItemProperties:function(){return this.inputLayer&&this.inputLayer.bandCount&&1===this.inputLayer.bandCount?this._getDefaultOutputItemProperties(1,"Spectrum-Full Bright","RSP_NearestNeighbor"):{visibility:!0,popupInfo:this._getDefaultPopupInfo()}},_setDefaultInputs:function(){var a=0;this.valueLayers&&(this.rerun&&this.valueLayer&&"string"===
typeof this.valueLayer&&(this.valueLayer=m.fromJson(this.valueLayer)),l.forEach(this.valueLayers,function(c,d){this._layersSelect.addOption({value:d,label:c.name});0!==d||this.rerun?this.valueLayer&&c.name===this.valueLayer.name&&c.url===this.valueLayer.url.split("?")[0]&&(a=d):this.valueLayer=c},this));this.valueLayer&&0<a&&this._layersSelect.set("value",a);if(this.rerun){this.set("clipType",this.ClippingType);var b=this.ClippingGeometry;this.geometry="extent"===b.type?new D(b):new C(b)}else this.geometry=
this.map.extent._normalize(!0);this.set("clippingMethod",this.clippingMethod)},addBrowseOption:function(){k.addReadyToUseLayerOption(this,[{disableLAAL:!0,select:this._layersSelect}])},_onClose:function(a){this._clearGeometry();this._toolbar.deactivate();this.emit("drawtool-deactivate",{});a&&(this._save(),this.emit("save",{save:!0}));this.emit("close",{save:!a})},_handlePolyBtnChange:function(a){a?(this.emit("drawtool-activate",{}),this._toolbar.activate(q.POLYGON),this._clearGeometry()):(this._toolbar.deactivate(),
this.emit("drawtool-deactivate",{}))},_handleClippingMethodChange:function(a){g.set(this._byGeometry,"display","byGeometry"===a?"block":"none");g.set(this._byFeature,"display","byFeature"===a?"block":"none");g.set(this._useGeometry,"display","byFeature"===a&&this.valueLayer&&"Feature Layer"===this.valueLayer.type?"block":"none");"byExtent"===a&&(this.geometry=this.map.extent._normalize(!0),this._clearGeometry());"byFeature"===a&&(this.geometry=this.valueLayer&&this.valueLayer.fullExtent)},_addGeometry:function(a){if(a){this._clearGeometry();
var b=new n(n.STYLE_NULL,new p(p.STYLE_SOLID,new u([0,0,0]),4));b=new B(a,b);this.map.graphics.add(b);this.graphic=b;this.map.setExtent(a.getExtent(),!0);this.geometry=a}},_clearGeometry:function(){this.graphic&&this.map.graphics.remove(this.graphic)},_handleLayerChange:function(a){"browselayers"===a||"browse"===a?(this._isAnalysisSelect=!1,this.defaultItemTypes=[],this.set("allowedItemTypes",[h.IS,h.FS]),this._createBrowseItems({browseValue:a,disableLAAL:!0,disableBoundary:!0},{},this._layersSelect)):
this.set("valueLayer",this.valueLayers[a])},_handleBrowseItemsSelect:function(a,b){a&&a.selection&&k.addAnalysisReadyLayer({item:a.selection,layers:this._isAnalysisSelect?this.inputLayers:this.valueLayers,layersSelect:this._isAnalysisSelect?this._analysisSelect:this._layersSelect,browseDialog:this._browseLyrsdlg||this._browsedlg,widget:this},b).always(f.hitch(this,function(){this._isAnalysisSelect?this._handleAnalysisLayerChange(this._analysisSelect.get("value")):this._handleLayerChange(this._layersSelect.get("value"))}))},
_handleUseGeometryChange:function(a){a?(a=new F,a.returnGeometry=!0,a.where="1 \x3d 1",this.valueLayer.queryFeatures(a).then(f.hitch(this,function(b){if(b){var c=[];l.forEach(b.features,function(d){c.push(d.geometry)});this.geometry=E.union(c)}}))):this.geometry=this.valueLayer.fullExtent},_getValueLayerAttr:function(){return this.valueLayer=this.valueLayers[this._layersSelect.get("value")]},_setValueLayerAttr:function(a){this.valueLayer=a;"byFeature"===this._clippingMethodSelect.get("value")&&(this.geometry=
this.valueLayer.fullExtent,g.set(this._useGeometry,"display","Feature Layer"===this.valueLayer.type?"block":"none"))},_setValueLayersAttr:function(a){this.valueLayers=a;this.set("valueLayer",this.valueLayers[0])},_getValueLayersAttr:function(){return this.valueLayers},_setMapAttr:function(a){this.map=a;this._toolbar=new q(this.map);t.connect(this._toolbar,"onDrawEnd",f.hitch(this,this._addGeometry))},_setClipTypeAttr:function(a){this.clipType=a;this._clippingTypeSelect.set("value",a)},_getClipTypeAttr:function(){return this.clipType=
this._clippingTypeSelect.get("value")},_setGeometryAttr:function(a){this.geometry=a},_getGeometryAttr:function(){return this.geometry},_setClippingMethodAttr:function(a){this.clippingMethod=a;this._clippingMethodSelect.set("value",a)},_getClippingMethodAttr:function(){return this.clippingMethod=this._clippingMethodSelect.get("value")}});r("extend-esri")&&f.setObject("dijit.analysis.ExtractRaster",e,A);return e});