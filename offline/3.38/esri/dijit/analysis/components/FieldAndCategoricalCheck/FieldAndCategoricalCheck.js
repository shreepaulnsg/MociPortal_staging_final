// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/analysis/components/FieldAndCategoricalCheck/FieldAndCategoricalCheck.html":'\x3ctr data-dojo-attach-point\x3d"_componentWidget"\x3e\r\n  \x3ctd colspan\x3d"3"\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin1 explanatoryDiv longInput"\x3e\r\n      \x3ctable class\x3d"one-width"\x3e\r\n          \x3cthead\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\x3c/td\x3e\r\n              \x3ctd\x3e${i18n.fields}\x3c/td\x3e\r\n              \x3ctd\x3e${i18n.categorical}\r\n                \x3cdiv class\x3d"warningIcon hide" data-dojo-attach-point\x3d"_warningIcon" tabindex\x3d"0"\x3e\x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd colspan\x3d"3" class\x3d"formBorderBottom"\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/thead\x3e\r\n          \x3c!-- Rows will be added below --\x3e\r\n          \x3ctbody\x3e\r\n            \x3ctr data-dojo-attach-point\x3d"_emptyRow"\x3e\x3c/tr\x3e\r\n          \x3c/tbody\x3e\r\n        \x3c/table\x3e\r\n    \x3c/div\x3e\r\n  \x3c/td\x3e\r\n\x3c/tr\x3e'}});
define("esri/dijit/analysis/components/FieldAndCategoricalCheck/FieldAndCategoricalCheck","../../../../kernel ../../utils ../../AnalysisRegistry dijit/form/Select dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/CheckBox dijit/Tooltip dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/has dojo/dom-construct dojo/Evented dojo/on dojo/i18n!../../nls/FieldAndCategoricalCheck dojo/text!./FieldAndCategoricalCheck.html".split(" "),function(p,h,q,B,r,t,l,m,u,f,k,v,e,w,n,x,y){h=u([r,t,w],{declaredClass:"esri.dijit.analysis.components.FieldAndCategoricalCheck.FieldAndCategoricalCheck",
templateString:y,i18n:{},value:[],explanatoryVariables:[],_allRowWidgets:[],constructor:function(a){},postMixInProperties:function(){this.inherited(arguments);f.mixin(this.i18n,x)},postCreate:function(){this.inherited(arguments);this._loadConnections()},destroy:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},_loadConnections:function(){this.own(n(this._warningIcon,"click",f.hitch(this,function(a){this._displayWarningMessage(!0)})),n(this._warningIcon,"blur",f.hitch(this,
function(a){this._displayWarningMessage(!1)})))},resetOptions:function(a){this._removeAllRows();a.forEach(function(b){this._createRow(b.label,b.value,b.type)},this)},_createRow:function(a,b,d){var c=e.create("tr",null,this._emptyRow,"before");var g=e.create("td",null,c);var z=e.create("td",null,c);var A=e.create("td",null,c);g=this._createCheckBoxes(g,A);c.fieldCheckBox=g.fieldCheckBox;c.categoricalCheckBox=g.categoricalCheckBox;c.fieldLabel=a;c.fieldName=b;c.fieldType=d;this._createAndLinkLabel(z,
c.fieldCheckBox,a);d===q.PseudoFieldTypes.String&&(c.categoricalCheckBox.set("checked",!0),c.categoricalCheckBox.set("readOnly",!0));this._allRowWidgets.push(c)},_createCheckBoxes:function(a,b){a=new l(null,e.create("input",null,a));a.startup();var d=new l({class:"hide"},e.create("input",null,b));d.startup();this.own(a.on("change",f.hitch(this,function(c){this.emit("update-parent-tool",{});k.toggle(d.domNode,"hide",!c);0===this.get("explanatoryVariables").length?this._displayWarningIcon(!0):1===this.get("explanatoryVariables").length&&
this._displayWarningIcon(!1)})));return{fieldCheckBox:a,categoricalCheckBox:d}},_createAndLinkLabel:function(a,b,d){e.create("label",{"for":b.id,innerHTML:d},a)},_removeAllRows:function(){this._allRowWidgets.forEach(function(a){this._removeRow(a)},this);this._allRowWidgets=[]},_removeRow:function(a){a&&a.fieldCheckBox&&a.categoricalCheckBox&&(a.fieldCheckBox.destroyRecursive(),a.categoricalCheckBox.destroyRecursive(),e.destroy(a))},_setExplanatoryVariablesAttr:function(a){this._allRowWidgets.forEach(function(b){a.forEach(function(d){b.fieldName===
d.fieldName&&(b.fieldCheckBox.set("checked",!0,!1),k.remove(b.categoricalCheckBox.domNode,"hide"),b.categoricalCheckBox.set("checked",d.categorical))})});this.emit("update-explanatory-field-component",{})},_setValueAttr:function(a){this.set("explanatoryVariables",a)},_getExplanatoryVariablesAttr:function(){var a=[];this._allRowWidgets.forEach(function(b){b.fieldCheckBox.get("checked")&&a.push({fieldName:b.fieldName,categorical:b.categoricalCheckBox.get("checked")})});return a},_getValueAttr:function(){return this.get("explanatoryVariables")},
_getExplanatoryVariablesOptionsAttr:function(){var a=[];this._allRowWidgets.forEach(function(b){b.fieldCheckBox.get("checked")&&a.push({value:b.fieldName,label:b.fieldLabel,type:b.fieldType})});return a},validate:function(){var a=0<this.get("explanatoryVariables").length;this._displayWarningIcon(!a);return a},focus:function(){0<this._allRowWidgets.length&&this._allRowWidgets[0].fieldCheckBox.focus()},_displayWarningMessage:function(a){a?m.show(this.i18n.requiredMessage,this._warningIcon):m.hide(this._warningIcon)},
_displayWarningIcon:function(a){k.toggle(this._warningIcon,"hide",!a)}});v("extend-esri")&&f.setObject("esri.dijit.analysis.components.FieldAndCategoricalCheck.FieldAndCategoricalCheck",h,p);return h});