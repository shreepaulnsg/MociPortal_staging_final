// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/SymbolStyler/schemeUtil",["../../Color","../../styles/relationship","dojo/_base/array","dojo/_base/lang"],function(h,k,g,m){var e={getColorRamps:function(a,b){a=e.getColorRampsWithSchemes(a,b);return g.map(a,function(c){return c.colors})},getColorRampsWithSchemes:function(a,b){a=e._unify(a);var c=[];g.forEach(a,function(d){var f=!!d.colorsForClassBreaks;f=0<b&&f?e._getClassBreaksColors(d,b):d.colors;c.push({colors:e._createColors(f),scheme:d})});return c},_getClassBreaksColors:function(a,
b){return e.is2DScheme(a)?k.getColors(a,b):e._maxSupportedClassBreakColors(a.colorsForClassBreaks,b)},_unify:function(a){return[a.primaryScheme].concat(a.secondarySchemes)},is2DScheme:function(a){return!!(a&&a.colorsForClassBreaks&&a.colorsForClassBreaks[0]&&a.colorsForClassBreaks[0].colors&&Array.isArray(a.colorsForClassBreaks[0].colors[0]))},_maxSupportedClassBreakColors:function(a,b){for(var c,d=a.length,f,l=0;l<d;l++){f=a[l];if(b<f.numClasses)break;c=f.colors}return c},getColorsForClassBreaks:function(a,
b){var c=a.colorsForClassBreaks;return c&&e.is2DScheme(a)?k.getColors(a,b):e._maxSupportedClassBreakColors(c,b)},getFillColors:function(a){a=e._unify(a);var b=[],c;g.forEach(a,function(d){c=d.marker||d;c.colors?b=b.concat(c.colors):b.push(c.color)});return e._removeDuplicates(b)},_removeDuplicates:function(a){var b={},c;return g.filter(a,function(d){(c=!b[d.toHex()])&&(b[d.toHex()]=1);return c})},getOutlineColors:function(a){a=e._unify(a);var b=[],c;g.forEach(a,function(d){c=d.marker||d;c.outline?
b.push(c.outline.color):c.colors?b=b.concat(c.colors):c.color&&b.push(c.color)});return e._removeDuplicates(b)},flipColors:function(a){a&&(a.colors&&a.colors.reverse(),e.is2DScheme(a)?k.flipColors(a,!0):a.colorsForClassBreaks&&g.forEach(a.colorsForClassBreaks,function(b){1<b.numClasses&&b.colors.reverse()}))},cloneScheme:function(a){if(a){var b=m.mixin({},a);var c=e.is2DScheme(a);b.colors&&(b.colors=e._createColors(b.colors));b.colorsForClassBreaks&&(b.colorsForClassBreaks=g.map(b.colorsForClassBreaks,
function(d){return{numClasses:d.numClasses,colors:c?d.colors.map(function(f){return e._createColors(f)}):e._createColors(d.colors)}}));b.noDataColor&&(b.noDataColor=new h(b.noDataColor));b.outline&&(b.outline={color:b.outline.color&&new h(b.outline.color),width:b.outline.width})}return b},_createColors:function(a,b){return g.map(a,function(c){c=new h(c);null!=b&&(c.a=b);return c})}};return e});