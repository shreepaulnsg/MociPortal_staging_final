// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/SymbolStyler/colorRampUtil",["../../symbols/utils","dojo/_base/array","dojox/gfx"],function(m,n,l){var h={create:function(a){var b=a.colors,d=a.node,c=a.numClasses,f=a.height||70,e=a.width||20,g=a.size||40;return"grid"===(a.style||"ramp")?h._create2DColorRamp({node:d,size:g,colors:b,numClasses:c}):h._createColorRamp({node:d,height:f,width:e,colors:b,numClasses:c})},_createColorRamp:function(a){var b=a.node,d=a.width,c=a.height;a=h._stopsFromColors(a);b=l.createSurface(b,d,c);return b=
b.createRect(b.getDimensions()).setFill({type:"linear",x1:0,y1:0,x2:0,y2:c,colors:a})},_create2DColorRamp:function(a){var b=a.size,d=a.colors,c=a.numClasses;a=l.createSurface(a.node,b,b);return a=m.create2DColorRamp({surface:a,colors:h._to2DArray(d,c),numClasses:c,size:b})},_to2DArray:function(a,b){for(var d=[],c=0;c<b;c++){for(var f=[],e=0;e<b;e++)f.push(a[c*b+e]);d.push(f.reverse())}return d},_stopsFromColors:function(a){var b=a.colors;a=0<a.numClasses;var d=b.length,c=a?1/d:1/(d-1),f=[],e=b[0];
if("object"===typeof e&&e.hasOwnProperty("offset")&&e.hasOwnProperty("color"))return b;for(var g=0;g<d;g++){var k=g*c;e=b[d-1-g];f.push({offset:k,color:e});a&&(k=(g+1)*c,f.push({offset:k,color:e}))}return f}};return h});