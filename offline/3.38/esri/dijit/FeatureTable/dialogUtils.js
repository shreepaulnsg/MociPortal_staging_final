// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/FeatureTable/dialogUtils","../../lang ../FeatureAttachments ./dataUtils dojo/_base/array dojo/_base/lang dojo/Deferred dojo/dom-construct dojo/dom-style dojo/io-query dojo/number dojo/on dojo/string dijit/Dialog dijit/form/Button dijit/layout/BorderContainer dijit/layout/TabContainer dijit/layout/ContentPane dojo/i18n!../../nls/jsapi".split(" "),function(l,w,u,x,B,C,e,D,E,h,r,y,z,v,F,G,H,A){return{i18nStrings:A.widgets.FeatureTable,generateDialog:function(a){a=new z({title:a.title,
content:a.content,baseClass:a.css.dialog});e.create("div",{className:"break"},a.containerNode);return a},hideDialog:function(a){a&&a.hide()},destroyDialog:function(a){a&&a.destroy()},generateAttachmentsDialog:function(a){var c=this.i18nStrings,f=a.layer,k=a.featureId,d=a.attachments||null,b=a.editable;a=a.css;var m=e.create("div");var g=this.generateDialog({title:c.photosAndFiles,content:m,css:a});var n=new w({layer:f,featureId:k,attachments:d,editable:b},m);r(g,"hide",function(q){n.destroy()});c=
new v({label:c.close,"class":a.closeButton});r(c,"click",function(){g.hide()});c.placeAt(n._uploadButton.domNode,"after");n.startup();g.show();return{dialog:g,featureAttachments:n}},generateStatisticsDialog:function(a){var c=this.i18nStrings,f=a.css,k=a.fieldInfo;k=k.alias||k.name;a=a.data.features[0].attributes;var d={pattern:"#,###,###,##0.########"},b={},m;for(g in a)a.hasOwnProperty(g)&&(b[g.toLowerCase()]=a[g]);var g=[{title:c.numberOfValues,value:l.isDefined(b.countfield)?h.format(b.countfield,
d):""},{title:c.sumOfValues,value:l.isDefined(b.sumfield)?h.format(b.sumfield,d):""},{title:c.minimum,value:l.isDefined(b.minfield)?h.format(b.minfield,d):""},{title:c.maximum,value:l.isDefined(b.maxfield)?h.format(b.maxfield,d):""},{title:c.average,value:l.isDefined(b.avgfield)?h.format(h.round(b.avgfield,u.getRoundingPrecision(b.avgfield)),d):""},{title:c.standardDeviation,value:l.isDefined(b.stddevfield)?h.format(h.round(b.stddevfield,u.getRoundingPrecision(b.stddevfield)),d):""}];d=e.create("div",
{className:f.statisticsTableContainer});e.create("div",{className:f.statisticsHeader,innerHTML:y.substitute(c.fieldLabel,{fieldName:k})},d);e.create("div",{className:f.statisticsHorizontalBreak},d);k=e.create("table",{className:f.statisticsAttrTable,style:{cellpadding:0,cellspacing:0}},d);var n=e.create("tbody",{},k);x.forEach(g,function(p){m=e.create("tr",{valign:"top"},n);e.create("td",{className:f.statisticsAttrName,innerHTML:p.title},m);e.create("td",{className:f.statisticsAttrValue,innerHTML:p.value},
m)});e.create("div",{className:f.statisticsBreak},d);var q=new v({label:c.close,baseClass:f.closeButton});r(q,"click",function(){var p=t;p.hide().then(function(){p.destroyRecursive();q=null})});q.placeAt(d);var t=this.generateDialog({title:c.statistics,content:d,css:f});t.show();return{dialog:t,statistics:a}}}});