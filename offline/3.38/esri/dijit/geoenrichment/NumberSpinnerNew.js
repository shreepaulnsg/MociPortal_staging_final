// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/NumberSpinnerNew","dojo/_base/declare dojo/aspect dojo/on dojo/dom-construct dijit/form/NumberSpinner ./utils/DomUtil ./utils/InvokeUtil ./utils/ObjectUtil".split(" "),function(g,h,d,k,l,m,n,e){return g(l,{accumulateTimeout:300,displayValueFormatter:null,displayValueLabel:null,postCreate:function(){this.inherited(arguments);var a=this;d(this.upArrowNode,"click",function(){a.onChangeUser()});d(this.downArrowNode,"click",function(){a.onChangeUser()});d(this.textbox,
"keyup",function(){n.invoke(a,"onChangeUser",a.accumulateTimeout)});this.displayValueFormatter&&(this.displayValueLabel=k.create("div",null,this.domNode),this.domNode.style.position="relative",this.displayValueLabel.style.position="absolute",m.addClass(this.displayValueLabel,"TrimWithEllipses"),this.textbox.style.opacity="0.001",this.displayValueLabel.style.display="",h.after(this,"onChange",this._updateDisplayValueLabel.bind(this)),setTimeout(this._updateDisplayValueLabel.bind(this)),a=this,d(this,
"focus",function(){a.textbox.style.opacity="";a.displayValueLabel.style.display="none"}),d(this,"blur",function(){a.textbox.style.opacity="0.001";a.displayValueLabel.style.display=""}))},_updateDisplayValueLabel:function(){if(this.displayValueLabel){var a=this.displayValueLabel.style.display;this.displayValueLabel.style.display="";this.displayValueLabel.innerHTML=this.displayValueFormatter(this.textbox.value);this.displayValueLabel.style.top=Math.max(2,(this.domNode.clientHeight-this.displayValueLabel.clientHeight)/
2)+"px";this.displayValueLabel.style.right=Math.max(24,this.downArrowNode.clientWidth+5)+"px";this.displayValueLabel.style.maxWidth=this.textbox.clientWidth?this.textbox.clientWidth+"px":"initial";this.displayValueLabel.style.display=a}},validator:function(a,b){var c=e.parseNumber(a);return isNaN(c)||""===a?!1:b&&c>=b.min&&c<=b.max},_getValueAttr:function(){if(""!==this.textbox.value){var a=e.parseNumber(this.textbox.value);if(!isNaN(a))return a}return this.inherited(arguments)},_lastSetValue:null,
_setValueAttr:function(a){"number"!==typeof a||isNaN(a)||(this._lastSetValue=a);this.inherited(arguments);this._updateDisplayValueLabel()},_setBlurValue:function(){function a(f){var p=b._lastSetValue!==f;b.set("value",f);p&&b.onChangeUser()}var b=this;this.inherited(arguments);if(this.textbox.value){var c=this.getConstrainedValue();isNaN(c)?a(this._lastSetValue):a(c)}else a(this._lastSetValue)},getConstrainedValue:function(){if(""!==this.textbox.value){var a=e.parseNumber(this.textbox.value);if(!isNaN(a)){if(this.constraints){if(void 0!==
this.constraints.min&&a<this.constraints.min)return this.constraints.min;if(void 0!==this.constraints.max&&a>this.constraints.max)return this.constraints.max}return a}}return NaN},onChangeUser:function(){}})});