// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/PanoramicViewer/PanoramicViewer",["require","dojo/on","dojo/dom-construct","./esriPhotoViewer","dojo/i18n!esri/nls/jsapi"],function(l,x,m,n,c){c=c.geoenrichment.dijit.ReportPlayer.PanoramicViewer;var p={};try{if(window.location!==window.parent.location)for(var y=document.getElementsByTagName("head")[0],q=parent.document.getElementsByTagName("style"),d=0;d<q.length;d++)y.appendChild(q[d].cloneNode(!0))}catch(e){console.log("Failed to initialize environment for panoramic viewer.")}p.showViewer=
function(e,f,r){function t(){m.destroy(u);b&&b.remove();b=null;r.onClose&&r.onClose()}if(e){var v=[],g=0;f.forEach(function(a,w){g=a===e?w:g;var h="undefined"!==typeof a.url&&a.url?!0:!1,k=a.thumbnail||a.getThumbnail&&a.getThumbnail();a=new n.Image({filename:a.filename||"",imageType:a.imageViewType,url:h?a.url:a.getUrl(),caption:a.description,thumbnail:h?a.url:k&&0===k.indexOf("data:")?k:null,attachmentId:w,externalImage:h});v.push(a)});f={mode:"standard",closeCarosel:!1,onCloseCallback:t};var u=
m.create("div",{"class":"esriGEAbsoluteStretched esriGEPanoramicViewerContainer"},document.body);var b=x(document.body,"keydown",function(a){b&&27===a.keyCode&&t()});new n({container:u,images:v,selectedIndex:g,options:f,urlThree:l.toUrl("./esripv_three.js"),urlPanolens:l.toUrl("./esripv_lens.js"),nls:c})}};return p});