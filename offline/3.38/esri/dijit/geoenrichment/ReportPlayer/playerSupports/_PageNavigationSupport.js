// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/playerSupports/_PageNavigationSupport","dojo/_base/declare dojo/on dojo/dom-class dojo/dom-geometry dojo/dom-style ../PlayerResizeModes ../PlayerViewModes esri/dijit/geoenrichment/utils/DomUtil esri/dijit/geoenrichment/utils/TooltipUtil dojo/i18n!esri/nls/jsapi".split(" "),function(l,e,g,m,h,n,k,c,f,d){d=d.geoenrichment.dijit.ReportPlayer.ReportPlayer;return l(null,{_currentPageIndex:null,_initPageNavigationControls:function(){var a=this;e(this.prevPageButton,
"click",function(){a._showPrevPage()});e(this.nextPageButton,"click",function(){a._showNextPage()});c.hide(this.sidePageNavigator);f.setTooltipToNode(this.prevPageButton,d.previousPage);f.setTooltipToNode(this.nextPageButton,d.nextPage)},showPageAt:function(a){this.viewMode!==k.FULL_PAGES||this.isPlayerOnServer||(a=Math.max(0,a),this._currentPageIndex=a=Math.min(this.getCurrentReportContainer().getNumberOfPages()-1,a),this.getCurrentReportContainer().showPageAt(a),this._updatePageNavigator())},_updatePageNavigator:function(){if(this.playerToolbar){var a=
this.getCurrentReportContainer()&&this.getCurrentReportContainer().getNumberOfPages&&this.viewMode===k.FULL_PAGES;this.playerToolbar.setPageControlsVisible(a);if(a){a=this.getCurrentReportContainer().getNumberOfPages();var b=1<a;b&&this._provideSideNavigationNodes();c.display(this.sidePageNavigator,b);b&&(g[0===this._currentPageIndex?"add":"remove"](this.prevPageButton,"disabled"),g[this._currentPageIndex===a-1?"add":"remove"](this.nextPageButton,"disabled"),this.resizeMode===n.FIT_WINDOW&&(b=m.position(this.getCurrentReportContainer().stackContainer),
h.set(this.sidePageNavigator,"left",Math.min(b.x+b.w+20,document.body.clientWidth-70)+"px"),h.set(this.sidePageNavigator,"top",Math.max(60,b.y+10)+"px")));this.playerToolbar.updatePageSelect(a,this._currentPageIndex)}else c.hide(this.sidePageNavigator)}},_provideSideNavigationNodes:function(){var a=this;this.sidePageNavigator||(this.sidePageNavigator=c.create("div",{"class":"reportPlayer_sidePageNavigator"},this.domNode),this.prevPageButton=c.create("div",{"class":"reportPlayer_paginationArrowUp"},
this.sidePageNavigator),this.nextPageButton=c.create("div",{"class":"reportPlayer_paginationArrowDown"},this.sidePageNavigator),e(this.prevPageButton,"click",function(){a._showPrevPage()}),e(this.nextPageButton,"click",function(){a._showNextPage()}),f.setTooltipToNode(this.prevPageButton,d.previousPage),f.setTooltipToNode(this.nextPageButton,d.nextPage))},_showPrevPage:function(){0!==this._currentPageIndex&&(this._currentPageIndex--,this.showPageAt(this._currentPageIndex))},_showNextPage:function(){this._currentPageIndex!==
this.getCurrentReportContainer().getNumberOfPages()-1&&(this._currentPageIndex++,this.showPageAt(this._currentPageIndex))}})});