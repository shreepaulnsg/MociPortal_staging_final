// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProvider/supportClasses/areas/AnalysisAreaJsonUtil",["esri/graphic","esri/dijit/PopupTemplate"],function(k,l){function g(a,c){if(!a)return null;a.getLayer()&&(a=new k(a.geometry,a.symbol,a.attributes,a.infoTemplate));a=a.toJson();c&&delete a.infoTemplate;return a}function h(a){if(!a)return null;if(a instanceof k)return a;var c=a.infoTemplate&&new l(a.infoTemplate);delete a.infoTemplate;a=new k(a);c&&a.setInfoTemplate(c);return a}function f(a){var c=
{},b;for(b in a){var d=a[b];if("string"===typeof d||"number"===typeof d&&!isNaN(d))c[b]=d}return c}return{areasToJson:function(a,c){var b=c&&c.excludeInfoTemplate;return a.map(function(d){var e=f(d);e.feature=g(d.feature,b);e.location=d.location&&g(d.location,b);e.additionalFeatures=d.additionalFeatures&&d.additionalFeatures.map(function(m){return g(m,b)});e.geographies=d.geographies;e.buffer=d.buffer;e.featureServiceQueryInfos=d.featureServiceQueryInfos;e.dynamicAttributes=d.dynamicAttributes;return e})},
combinedAreasInfoToJson:function(a){var c=f(a);c.groups=a.groups&&a.groups.map(function(b){var d=f(b);d.indexes=b.indexes.slice();d.location=b.location&&g(b.location);d.additionalFeatures=b.additionalFeatures&&b.additionalFeatures.map(g);return d});return c},areasFromJson:function(a){return a.map(function(c){var b=f(c);b.feature=h(c.feature);b.location=c.location&&h(c.location);b.additionalFeatures=c.additionalFeatures&&c.additionalFeatures.map(h);b.geographies=c.geographies;b.buffer=c.buffer;b.featureServiceQueryInfos=
c.featureServiceQueryInfos;b.dynamicAttributes=c.dynamicAttributes;return b})},combinedAreasInfoFromJson:function(a){var c=f(a);c.groups=a.groups&&a.groups.map(function(b){var d=f(b);d.indexes=b.indexes.slice();d.location=b.location&&h(b.location);d.additionalFeatures=b.additionalFeatures&&b.additionalFeatures.map(h);return d});return c}}});