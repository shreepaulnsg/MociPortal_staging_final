// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProvider/commands/supportClasses/FeatureServiceDataLoader",[],function(){return{getMinifiedFunction:function(){return'function enrichReportDataWithFeatureServiceData(e,r){require(["dojo/_base/lang","dojo/when","dojo/promise/all","esri/dijit/geoenrichment/utils/DateUtil","esri/dijit/geoenrichment/utils/UrlUtil","esri/dijit/geoenrichment/utils/requests/UniversalClient","esri/dijit/geoenrichment/ReportPlayer/dataProvider/supportClasses/data/AreaDataUtil"],function(t,a,i,n,o,u,l){function s(e,r,a,i,s,f){return function(e,r,t){var a\x3dr+"\x3d"+("number"\x3d\x3dtypeof t?t:"\'"+t+"\'");return u.requestPublicFirst(o.combine(e,"query"),{content:{f:"json",where:a,returnGeometry:!1,outFields:"*"},handleAs:"json"})}(a,i,s).then(function(a){var i\x3d{};a.fields.forEach(function(e){i[e.name]\x3de});var o\x3da.features;if(o.length){var u\x3d{};o.forEach(function(e){for(var r in e.attributes){var t\x3de.attributes[r];if("number"!\x3dtypeof t||isNaN(t))u[r]\x3dt;else{var a\x3di[r];a\x26\x26"esriFieldTypeDate"\x3d\x3d\x3da.type?u[r]\x3dn.formatDateShort(t):(u[r]\x3du[r]||0,u[r]+\x3dt||0)}}}),t.mixin(e.feature.attributes,u),function(e,r,t){for(var a in r){var i\x3dr[a];l.setAreaDataValue(a,i,e.fieldData.areaData,e.fieldData.specialTradeAreaCalculatorName,t)}}(r,u,f)}}).always(function(e){console.log(e)})}try{var f\x3d[];e.analysisAreas.forEach(function(r,t){var a\x3dr.featureServiceQueryInfos;a\x26\x26a.forEach(function(a){var i\x3dr.feature\x26\x26r.feature.attributes;i\x26\x26null!\x3di[a.areaIdField]\x26\x26f.push(s(r,e,a.layerUrl,a.lookupIdField,i[a.areaIdField],t))})})}catch(e){return console.log(e),void r()}i(f).always(r)})}'}}});