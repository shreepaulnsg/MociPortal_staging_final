// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/printing/VisualStateConverter",["../PlayerViewModes","../core/supportClasses/templateJsonUtils/query/TemplateJsonQueryUtil"],function(c,l){var g={convertToFullPages:function(a,d){if(!a||!a.viewMode||a.viewMode===c.FULL_PAGES)return a;if(!a.reportContainers||!a.reportContainers.length)return null;switch(a.viewMode){case c.PANELS_IN_STACK:case c.PANELS_IN_SLIDES:return g._toFullPages(a,d);case c.PANELS_IN_STACK_ALL:return g._toFullPages({reportContainers:a.reportContainers[0].innerContainers},
d)}return null},_toFullPages:function(a,d){return{type:"reportContainer",viewMode:c.FULL_PAGES,reportContainers:a.reportContainers.map(function(h){if(!h||!h.sections)return null;var k={type:"reportContainerGrid",pages:d.sectionsTables.map(function(e){return{type:"table",foregroundFloatingTablesSection:{type:"section",stackElements:[]},cells:[],backgroundFloatingTablesSection:{type:"section",stackElements:[]}}})},m=0;l.collectSectionJsons(d,{backgroundForeground:!1,processSectionJson:function(e,b){if(e=
h.sections[m++]){var f=k.pages[b.pageIndex];f&&("foreground"===b.source?f.foregroundFloatingTablesSection.stackElements[b.floatingIndex]={type:"table",cells:[{content:e}]}:"grid"===b.source?f.cells[b.index]={content:e}:"background"===b.source&&(f.backgroundFloatingTablesSection.stackElements[b.floatingIndex]={type:"table",cells:[{content:e}]}))}}});return k})}}};return g});