// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/reportContainerStack/_ZoomSupport","dojo/_base/declare esri/dijit/geoenrichment/Deferred esri/dijit/geoenrichment/when dojo/dom-construct ./utils/ReportQueryUtil ../reportContainerGrid/utils/ZoomUtil ../../toolbar/ZoomUtil esri/dijit/geoenrichment/utils/animation/AnimationUtil".split(" "),function(h,k,l,e,m,c,f,n){var g={zoomLabel:null,_showTimeoutH:null,_dfd:null,_createLabel:function(){this.zoomLabel=e.create("div",null,document.body);var a=this.zoomLabel.style;
a.position="absolute";a.zIndex="10000";a.right="5px";a.bottom="5px";a.backgroundColor="gray";a.color="white";a.padding="5px"},showLabel:function(a,b){var d=this;this._reset();this._createLabel();this._showScale(a);this._dfd=new k;this._dfd.promise.then(function(p){"cancel"!==p&&(d._showScale(a),d._showTimeoutH=setTimeout(function(){n.animateFadeOut({domNode:d.zoomLabel})},1E3))});l(b,this._dfd.resolve)},_showScale:function(a){this.zoomLabel&&(this.zoomLabel.innerHTML=Math.round(f.getClosestZoomAndUpdateOptions(100*
a.getZoomInfo().scale,f.getOptions()))+"%")},_reset:function(){this._dfd&&this._dfd.resolve("cancel");this._dfd=null;clearTimeout(this._showTimeoutH);this.zoomLabel&&e.destroy(this.zoomLabel);this.zoomLabel=null}};return h(null,{getZoomInfo:function(){return c.getZoomInfo(this)},setZoomInfo:function(a,b){c.setZoomInfo(this,a,b)},zoomIn:function(a){var b=c.zoomIn(this,a);a&&a.showLabel&&g.showLabel(this,b)},zoomOut:function(a){var b=c.zoomOut(this,a);a&&a.showLabel&&g.showLabel(this,b)},zoomToFitPageWidth:function(a){a&&
a.showAnimation||!this.isReportContainerStackAll?c.zoomToFitPageWidth(this,a):this.setBestZoom(a)},zoomToFitPageHeight:function(a){c.zoomToFitPageHeight(this,a)},setZoomPercent:function(a,b){c.setZoomPercent(this,a,b)},setBestZoom:function(a){this.isReportContainerStackAll?6<this.getInnerContainers({noHidden:!0}).length?this.resetZoom(a):c.zoomToFitPageWidth(this,a):c.setBestZoom(this,a)},resetZoom:function(a){c.reset(this,a)},syncFillerContainer:function(){this._syncFillerContainer()},_syncFillerContainer:function(){if(this.domNode&&
this.fillerContainer){var a=this.getZoomInfo().scale;this.fillerContainer.style.marginTop="";this.fillerContainer.style.marginRight="";this.fillerContainer.style.marginBottom="";this.fillerContainer.style.marginLeft="";this.fillerContainer.style.width=this.scalableContainer.clientWidth*a+"px";this.fillerContainer.style.height=this.scalableContainer.clientHeight*a+"px";this.renderOptions&&this.renderOptions.center&&(this.fillerContainer.style.marginTop=Math.max(this.renderOptions.minTop,(this.domNode.clientHeight-
this.fillerContainer.clientHeight)/2)+"px");this.renderOptions&&(this.fillerContainer.style.marginRight=this.renderOptions.minRight+"px",this.fillerContainer.style.marginBottom=this.renderOptions.minBottom+"px",this.fillerContainer.style.marginLeft=this.renderOptions.minLeft+"px");this.onViewSyncronized()}},getPanelZoomScale:function(a){return m.getPanelInfoByNode(this,a).panelScale*this.getZoomInfo().scale},onViewSyncronized:function(){},emitZoomChangedEvent:function(){this.getSections().forEach(function(a){this._notifySectionAboutScale(a)},
this);this.onZoomChanged()},_notifySectionAboutScale:function(a){var b=this._sectionToInfographicPage(a),d=b.getSections().indexOf(a);b=b.getPanelScaleAt(d)*this.getZoomInfo().scale;a.notifyPanelScaleChanged(b)},onZoomChanged:function(){}})});