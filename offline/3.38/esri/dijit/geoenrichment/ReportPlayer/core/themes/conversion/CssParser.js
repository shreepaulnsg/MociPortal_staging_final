// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/themes/conversion/CssParser",["../PageBorderStyles","../ThemeUpdateUtil","../../../_devConfig"],function(r,t,u){var l={"font-size":"fontSize","font-family":"fontFamily","font-style":"fontStyle","font-weight":"fontWeight","text-decoration":"textDecoration",color:"color","background-color":"backgroundColor",opacity:"opacity",url:"data","background-position":"position","background-repeat":"repeat","background-size":"scale"},v={colors:1,colors3series:1};
return{fromCssText:function(g){function w(a){var b=k;a.split("@").forEach(function(d){b=b[d]=b[d]||{}});return b}function x(a,b){if(b.borderStyle||b.border)if(a.border={},a.border.style=r.toSupportedValue(b.borderStyle),"string"===typeof b.border){var d=b.border.split(" ");3===d.length&&(a.border.thickness=Number(d[0].replace("px","")),a.border.lineStyle=d[1],a.border.color=d[2])}for(var f in b)if("border"!==f&&"borderStyle"!==f){d=b[f];var c=f;var e=d,h=a;"font-size"===c?(h[l[c]]=m(e.replace("px",
"")),c=!0):"background-repeat"===c?(h[l[c]]=m("repeat"===e),c=!0):"background-size"===c?(h[l[c]]=m("contain"===e||"cover"===e),h.size="auto"===e?null:e,c=!0):c=!1;c||(a[l[f]||f]=m(d))}}function m(a){if(void 0===a||null===a||"null"===a||"undefined"===a)return"";if("true"===a)return!0;if("false"===a)return!1;if(!0===a)return!0;if(!1===a)return!1;var b=Number(a);return isNaN(b)?a:b}function p(a){if(u.emulateErrors.themeParseError)throw Error("Error test: something crashed during the parsing of the theme!");
if("object"===typeof a)for(var b in a){var d=a[b];if(v[b]){var f=[],c=Object.keys(d);if(c.length){var e=c.every(function(h){return-1!==h.indexOf("_")});c.forEach(function(h,y){f[e?h.split("_")[1]:y]=d[h]})}a[b]=f}else p(d)}}var k={};g=g.replace(/\r?\n|\r/g,"");g=g.replace(/(\w|\d)_(\w|\d)/g,"$1@$2");g=g.replace("data:","dataM");g=g.replace(";base64","Mbase64");var q=function(){var a={};(g.match(/\..*?\}/g)||[]).forEach(function(b){var d=b.substring(1,b.indexOf("{")).trim(),f={};b.substring(b.indexOf("{")+
1,b.indexOf("}")).trim().split(";").forEach(function(c){if(c=c.trim()){c=c.split(":");var e=c[1].trim();e=e.replace("dataM","data:");e=e.replace("Mbase64",";base64");f[c[0].trim()]=e}});a[d]=f});return a}(),n;for(n in q)x(w(n),q[n]);delete k.themeMetadata;p(k);t.populateMissingStyles(k);return k}}});