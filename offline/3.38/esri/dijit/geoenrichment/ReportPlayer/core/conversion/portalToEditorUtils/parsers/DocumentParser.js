// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/conversion/portalToEditorUtils/parsers/DocumentParser",["dojo/_base/lang","esri/dijit/geoenrichment/utils/JsonXmlConverter","../../ConversionUtil","../../../supportClasses/DocumentOptions"],function(k,e,f,l){return{parseDocument:function(c,g){var b=g.templateJson,d="HTMLextReport"===c.name?c:e.queryTopJson(c,"HTMLextReport")[0];if(d){var a=d.attributes.orientation||"portrait";b.documentOptions.pagesize=l.tryGetStandardPageSize(d.attributes.pagesize,
a);b.documentOptions.orientation=a;["left","right","top","bottom"].forEach(function(h){b.documentOptions[h]=f.ptToPx(d.attributes[h]||0)});k.mixin(b.documentOptions,f.ptToPxObj(f.parseStyleString(d.attributes.style)));a=(a=e.queryTopJson(c,"def")[0])&&a.attributes;b.documentOptions.align=a&&a.align||"left";b.documentOptions.lineSpacing=a&&a.lineSpacing?Number(a.lineSpacing):1;d.attributes.comparisonZoom&&(b.documentOptions.defaultComparisonZoom=Number(d.attributes.comparisonZoom));if(c=e.queryTopJson(c,
"tooltip")[0]){b.tooltipInfo={};if(a=e.queryTopJson(c,"table")[0])a=a.attributes||{},b.tooltipInfo.table={value:!!a.value,alias:!!a.alias,expression:!!a.expression,conditional:!!a.conditional};if(c=e.queryTopJson(c,"chart")[0])a=c.attributes||{},b.tooltipInfo.chart={title:!!a.title,value:!!a.value,weight:!!a.weight,min:!!a.min,max:!!a.max,avg:!!a.avg,conditional:!!a.conditional}}g.revisionVersion=d.attributes.revisionVersion?Number(d.attributes.revisionVersion):-1;b.documentOptions.revisionVersion=
g.revisionVersion}}}});