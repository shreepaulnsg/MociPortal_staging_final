// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/UrlToItemUtil",["dojo/i18n!esri/nls/jsapi"],function(g){g=g.geoenrichment.dijit.UrlToItemUtil;var h={},k=/\.(kml|kmz)$/i,l=/\.(csv)$/i;h.tryCreateItemFromServerUrl=function(b){function d(c){return b.substr(0,b.lastIndexOf(c)+c.length)}function m(c){return(c=b.match("(.*"+c+")(/?)(\\d*)(.*)","i"))?c[3]?c[1]+c[2]+c[3]:c[1]:null}function e(c){c=c.split("/");a.title=c[c.length-2]||g.featureLayer}if(!b)return null;if(-1!==b.indexOf("FeatureServer")){var f=
d("FeatureServer");var a={url:m("FeatureServer")||f,type:"Feature Service",typeKeywords:["Feature Service"]};e(f)}else-1!==b.indexOf("MapServer")?(f=d("MapServer"),a={url:m("MapServer")||f,type:"Map Service",typeKeywords:["Map Service"]},e(f)):-1!==b.indexOf("ImageServer")?(a={url:d("ImageServer"),type:"Image Service",typeKeywords:["Image Service"]},e(a.url)):-1!==b.indexOf("VectorTileServer")?(a={url:d("VectorTileServer"),type:"Vector Tile Service",typeKeywords:["Vector Tile Service"]},e(a.url)):
-1!==b.indexOf("WMSServer")?(a={url:d("WMSServer"),type:"WMS",typeKeywords:["WMS"]},e(a.url)):-1!==b.indexOf("wmts")?(a={url:d("wmts"),type:"WMTS",typeKeywords:["WMTS"]},e(a.url)):-1!==b.indexOf("wfs")?(a={url:d("wfs"),type:"WFS",typeKeywords:["WFS"]},e(a.url)):k.test(b)?a={url:b,type:"KML",typeKeywords:["KML"],title:b.substr(b.lastIndexOf("/")+1).replace(k,"")}:l.test(b)&&(a={url:b,type:"CSV",typeKeywords:["CSV"],title:b.substr(b.lastIndexOf("/")+1).replace(l,"")});a&&(a.id=a.url,a.name=a.title);
return a};return h});