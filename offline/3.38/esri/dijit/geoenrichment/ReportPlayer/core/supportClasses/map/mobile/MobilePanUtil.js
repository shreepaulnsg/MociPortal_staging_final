// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/mobile/MobilePanUtil","dojo/on dojo/dom-class dojo/dom-construct esri/dijit/geoenrichment/utils/DeviceUtil esri/dijit/geoenrichment/utils/TooltipUtil dojo/i18n!esri/nls/jsapi".split(" "),function(e,m,t,u,n,h){var f={};h=h.geoenrichment.dijit.ReportPlayer.ReportPlayer;var k={_tooltips:[],_canShowTooltip:!0,tryShowTooltip:function(a){this._canShowTooltip&&(a=n.showClosableTooltip({node:a,message:h.mapLockTooltip,position:"before",
onClosed:function(){k.userDismissedTooltip()}}),this._tooltips.push(a))},userDismissedTooltip:function(){this._canShowTooltip=!1;this._tooltips.forEach(function(a){n.removeClosableTooltip(a)});this._tooltips.length=0}};f.setUpMapPan=function(a,l){if(a.root){var b=!0,c;e(a.root,"touchstart",function(g){if(b){var p=g.clientX,q=g.clientY;c=e(a.root,"touchmove",function(d){var r=d.clientX;d=d.clientY;l(p-r,q-d);p=r;q=d});e.once(a.root,"touchend, touchcancel",function(d){c.remove()})}});f._createLockButton(a.root,
function(g){(b=g)?a.disableMapNavigation():a.enableMapNavigation()})}};f._createLockButton=function(a,l){var b=!0,c=t.create("div",{"class":"mapNavigationLockButton locked"},a);k.tryShowTooltip(c);e(c,u.click,function(){k.userDismissedTooltip();b=!b;m.remove(c,"locked unlocked");m.add(c,b?"locked":"unlocked");l(b)})};return f});