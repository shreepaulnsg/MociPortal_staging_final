// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/dynamicSettings/table/_TableSettingsBuilder",["dojo/_base/lang","dojo/aspect","esri/dijit/geoenrichment/when","esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/ElementUsageTypes","dojo/i18n!esri/nls/jsapi"],function(g,h,k,l,n){return{provideTableSettings:function(d){if(!d.isMultiDataSection()||d.elementUsageType!==l.PAGE_PANEL_SECTION)return null;var a=d.getTrueTables()[0];return k(a.getFilterRanges(),function(c){if(!c||!c.length)return null;
if(a.presetFilter){var e=g.mixin({},a.presetFilter);var b=c.filter(function(m){return m.columnIndex===a.presetFilter.columnIndex})[0];b?e.fieldName=b.fieldName:e=null}b=a.getChartViewOptions();var f={viewSettings:b&&{chartViewOptions:b},filter:{filter:e,filterRanges:c,getNumElementsTotal:function(){return a.getNumElementsTotal()},getNumElementsShown:function(){return a.getNumElementsShown()},onContentUpdated:function(){}}};h.after(a,"onRendered",function(){f.filter.onContentUpdated()});return f})}}});