// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/sectionUtils/SectionJsonUtil",["esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/templateJsonUtils/fieldInfo/FieldInfoBuilder","esri/dijit/geoenrichment/ReportPlayer/core/sections/SectionTypes","../../supportClasses/tableJson/TableJsonUtil"],function(n,k,h){var l={wrapInDetailsSectionJson:function(a,b){a=Array.isArray(a)?a:[a];var c=a.some(function(e){return"table"===e.id&&e.attributes&&(0<e.attributes.dynamicColumns||0<e.attributes.dynamicRows)});
return{type:b||(c?k.GROUP:k.DETAILS),stack:a}},createSectionJsonFromInfographicJson:function(a,b,c){a=h.createSingleCellTable({width:b,height:c,fieldInfo:n.createFieldInfoFromInfographic(a)});return l.wrapInDetailsSectionJson(a)},getSectionJsonInfographic:function(a){var b;a.stack&&a.stack.some(function(c){b="table"===c.id&&h.getTableJsonInfographic(c);return!!b});return b},getSectionJsonInfographicTable:function(a){var b;a.stack&&a.stack.some(function(c){if("table"===c.id&&h.getTableJsonInfographic(c))return b=
c,!0});return b},calcSectionJsonBox:function(a){var b,c;function e(d){b=Math.min(b,d.l);f=Math.min(f,d.t);c=Math.max(c,d.l+d.w);g=Math.max(g,d.t+d.h)}var f=b=Infinity;var g=c=0;a.stack&&a.stack.forEach(function(d){switch(d.id){case "table":var m=0;d.rows.forEach(function(p){m+=p.style.height});e({l:d.style.left||0,t:d.style.top||0,w:d.style.width,h:m});break;case "img":case "map":e({l:d.style.left||0,t:d.style.top||0,w:d.style.width,h:d.style.height})}});a=a.style||{};return{x:a.left,y:a.top,w:a.width||
b+c,h:a.height||f+g,contentLeft:b,contentTop:f,contentW:c-b,contentH:g-f}}};return l});