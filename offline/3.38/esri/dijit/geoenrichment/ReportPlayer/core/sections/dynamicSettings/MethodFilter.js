// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/geoenrichment/ReportPlayer/core/templates/sectionDynamicSettings/MethodFilter.html":'\x3cdiv class\x3d"esriGEReportPlayer_sectionDynamicMethodFilter"\x3e\r\n    \x3cdiv class\x3d"esriGERowHigh"\x3e${nls.orSelectMethod}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriGERow15"\x3e\r\n        \x3cdiv class\x3d"dijitInline esriGESpaceAfter20" data-dojo-attach-point\x3d"rangesSelectDiv"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitInline" data-dojo-attach-point\x3d"methodsSelectDiv"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitInline esriGESpaceBefore20" data-dojo-attach-point\x3d"methodInputDiv"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/dynamicSettings/MethodFilter","dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox esri/dijit/geoenrichment/OnDemandSelect ./supportClasses/FilterUtil esri/dijit/geoenrichment/utils/DomUtil esri/dijit/geoenrichment/utils/MouseUtil dojo/text!../../templates/sectionDynamicSettings/MethodFilter.html dojo/i18n!esri/nls/jsapi".split(" "),function(h,k,l,m,n,e,b,f,p,q,c){c=c.geoenrichment.dijit.ReportPlayer.SectionDynamicSettingsBuilder;
return h([l,m],{templateString:q,nls:c,selectRangePlaceholder:null,rangesSelect:null,methodsSelect:null,methodInput:null,setRanges:function(a){this.rangesSelect||this._createFilterControls();a=a||[];this.rangesSelect.set("options",a.map(function(d){return{value:d.fieldName,label:d.label}}));this.rangesSelect.set("value",null);f[1<a.length?"show":"hide"](this.rangesSelectDiv)},setFilter:function(a){this.methodsSelect||this._createFilterControls();a?(this.rangesSelect.set("value",a.fieldName||this.rangesSelect.get("value")),
this.methodsSelect.set("value",a.method===b.RANGE?null:a.method),this.methodInput.set("value",a.numElements||""),this._updateMethodInputAvailability()):this._clearMethod()},_createFilterControls:function(){var a=this;this.rangesSelect=(new e({listClass:"esriGEOnDemandSelectSpacedOut esriGEOnDemandSelectTallList",placeHolder:this.selectRangePlaceholder||c.selectRange,options:[],onChange:function(){a._onSelectValueChanged()}})).placeAt(this.rangesSelectDiv);this.own(this.rangesSelect);this.methodsSelect=
(new e({listClass:"esriGEOnDemandSelectSpacedOut esriGEOnDemandSelectTallList",placeHolder:c.selectMethod,options:[{value:b.TOP_N,label:c.topN},{value:b.BOTTOM_N,label:c.bottomN},{value:b.ABOVE_AVERAGE,label:c.aboveAverage},{value:b.BELOW_AVERAGE,label:c.belowAverage}],onChange:function(){a._onSelectValueChanged()}})).placeAt(this.methodsSelectDiv);this.own(this.methodsSelect);this.methodInput=(new n).placeAt(this.methodInputDiv);this.own(this.methodInput);k(this.methodInput.textbox,"keyup",function(){a._applyFilter()})},
_onSelectValueChanged:function(){this.methodInput.get("value")||this.methodInput.set("value",3);this._updateMethodInputAvailability();this._applyFilter()},_applyFilter:function(){var a=this.rangesSelect.get("value");if(!(1<this.rangesSelect.get("options").length)||a){var d=this.methodsSelect.get("value");if(d){var g=Number(this.methodInput.get("value")||0);if(d!==b.TOP_N&&d!==b.BOTTOM_N||g)this.onFilterChanged({method:d,fieldName:a,numElements:g})}}},_clearMethod:function(){this.methodsSelect.set("value",
null);this.methodInput.set("value","");this._updateMethodInputAvailability()},_updateMethodInputAvailability:function(){f[this.methodsSelect.get("value")===b.TOP_N||this.methodsSelect.get("value")===b.BOTTOM_N?"show":"hide"](this.methodInputDiv)},onFilterChanged:function(a){},isMouseOver:function(a){return p.isMouseOver(this.domNode)||this.rangesSelect&&this.rangesSelect.isMouseOver()||this.methodsSelect&&this.methodsSelect.isMouseOver()}})});