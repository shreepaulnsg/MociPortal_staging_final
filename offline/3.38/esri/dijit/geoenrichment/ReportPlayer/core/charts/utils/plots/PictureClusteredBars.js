// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/plots/PictureClusteredBars","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredBarsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(F,G,H,z,I,J,A,K){return G(J,{_noCrispEdges:!0,_drawBar:function(f,g,t,c,m,x,h,u,n){return this._drawBarPictures(f,g.icon||c.series.isEditMode&&A.DEFAULT_SHAPE,g.bgIcon,t,c,m,x,h,u,!g.icon,n)},_drawBarPictures:function(f,
g,t,c,m,x,h,u,n,L,v){function B(p,b,k){var C=H.mixin({},b),a=p.shapeJson||p.imageJson;p=!!p.shapeJson;if(a){var y=b.height/a.style.height,d=a.style.width*y;k=Math[!m.series.columnBarShowWholePictures||L||k?"ceil":"floor"](b.width/d);for(var q=0;q<k;q++){var l=r.createGroup();if(p){var e=A.shapeJsonToGFXJson(a);try{I.deserialize(l,e)}catch(M){console.log(M)}}else l.createImage({x:0,y:0,width:a.style.width,height:a.style.height,src:K.getImageData(a.fileName)}),l.rawNode.style.opacity=a.style.opacity;
q===k-1&&(e=(d-(k*d-b.width))/y,l.setClip({x:0<w?0:a.style.width-e,y:0,width:e,height:a.style.height}));e=0<w?b.x+q*d:b.x+b.width-(q+1)*d;var D=b.y,E=y;a.style.zoom&&(e-=d*(a.style.zoom-1)/2,D-=b.height*(a.style.zoom-1)/2,E*=a.style.zoom);l.applyTransform(z.matrix.translate(e,D));l.applyTransform(z.matrix.scale(E))}m.series.columnBarShowWholePictures&&(C.width=k*d);return C}}v=u.data[v];var w=v[v.valueProp],r=f.createGroup();r.openBatch();f={x:0<w?h.l+n:h.l,y:c.y,width:0<w?x.width-h.l-h.r-n:n,height:c.height};
this.createRect(u,r,f).setFill(new F([0,0,0,.001]));m.series.showColumnBarBackground&&t&&B(t,f,!0);g&&(c=B(g,c,!1));r.closeBatch();return{shape:r,rect:c}}})});