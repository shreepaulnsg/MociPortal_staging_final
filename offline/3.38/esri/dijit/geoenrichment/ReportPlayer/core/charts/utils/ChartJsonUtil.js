// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/ChartJsonUtil","dojo/_base/lang ./ThemeCalculator ./cleanUp/_ChartJsonCleaner ./ChartTypes ./ChartDataLabelsTypes ../legends/ChartLegendPlacements ../legends/ChartLegendTypes ./plots/supportClasses/GaugeLabelPlacements ./plots/supportClasses/WaffleLabelPlacements ./plots/supportClasses/WaffleDirections ../../../dataProvider/supportClasses/data/AreaDataUtil esri/dijit/geoenrichment/utils/ObjectUtil dojo/i18n!esri/nls/jsapi".split(" "),
function(d,k,q,r,w,t,x,y,z,A,u,e,n){n=n.geoenrichment.dijit.ReportPlayer.ChartContainer;var m={getDefaultChartSettings:function(a){a=a||{};var b=d.mixin({},a.font),c=d.mixin({},a.font);delete c.fontSize;return{isChart:!0,type:a.chartType||r.COLUMN,isMultiFeatureChart:!!a.isMultiFeatureChart,seriesItems:a.seriesItems||[],visualProperties:{width:a.width||400,height:a.height||300,marginTop:void 0,marginRight:void 0,marginBottom:void 0,marginLeft:void 0,backgroundColor:void 0,backgroundColorOpacity:1,
plotAreaOutlineColor:void 0,plotAreaOutlineOpacity:1,plotAreaOutlineThickness:0,plotAreaOutlineStyle:void 0,backgroundImageData:void 0,panelBackgroundColor:void 0,title:{text:"",align:"center",style:d.mixin({},b),verticalShift:0},xAxis:{show:!0,hideLine:!1,showTicks:!0,ticksInside:!1,hideLabels:!1,title:"",titleStyle:d.mixin({},b),style:d.mixin({},b),labelsAngle:0,lineColor:void 0,gridLines:!1,gridLinesCentered:!1,gridLinesColor:void 0,gridLinesOpacity:1,gridLinesThickness:.5,gridLinesStyle:void 0,
gridStripes:!1,gridStripesColor:void 0,gridStripesColorAlt:void 0,placement:void 0},yAxis:{show:!0,hideLine:!1,showTicks:!0,ticksInside:!1,hideLabels:!1,title:"",titleStyle:d.mixin({},b),style:d.mixin({},b),labelsAngle:0,lineColor:void 0,gridLines:!1,gridLinesCentered:!1,gridLinesColor:void 0,gridLinesOpacity:1,gridLinesThickness:.5,gridLinesStyle:void 0,gridStripes:!1,gridStripesColor:void 0,gridStripesColorAlt:void 0,hideBaseLine:!1,baseLineColor:void 0,baseLineOpacity:1,baseLineThickness:.5,baseLineStyle:void 0,
baseLineValue:0,showPercentSymbol:!1,showCurrencySymbol:!1,showSymbolForAllLabels:!1,showValuesAsWeightsInSeries:!1,placement:void 0,nonZeroInclusive:!1},legend:{type:x.SERIES,series:{placement:t.NONE,placementOffset:10,hasBorder:!0,labelParts:"Label",style:d.mixin({},b),symbol:void 0,hideOthers:!1,showComparison:!1},minMax:{placement:t.NONE,placementOffset:3,titleStyle:d.mixin({},c),minVariableLabelStyle:d.mixin({},c),maxVariableLabelStyle:d.mixin({},c)}},isStacked:!1,showValuesAsWeightInStack:!1,
columnThickness:k.DEFAULT_COLUMN_THICKNESS,columnBarGap:void 0,columnBarOpacity:1,renderColumnBarsInOppositeDirections:!1,showColumnBarBackground:!1,columnBarBackgroundColor:void 0,columnBarBackgroundOpacity:1,fillOpacity:1,outlineColor:void 0,outlineOpacity:1,outlineThickness:0,outlineStyle:void 0,lineThickness:k.DEFAULT_LINE_THICKNESS,lineOpacity:1,fillLineMarkers:!1,lineMarkersFillOpacity:1,fillLineArea:!1,lineAreaOpacity:1,donutHolePercent:k.DEFAULT_DONUT_HOLE_PERCENT,donutGap:k.DEFAULT_DONUT_GAP,
donutArcPercent:k.DEFAULT_DONUT_ARC_PERCENT,gaugeHolePercent:k.DEFAULT_GAUGE_HOLE_PERCENT,gaugeRangeMin:void 0,gaugeRangeMax:void 0,gaugeGap:k.DEFAULT_GAUGE_GAP,gaugeStartAngle:k.DEFAULT_GAUGE_ANGLE,gaugeArcPercent:k.DEFAULT_GAUGE_ARC_PERCENT,gaugeLabelPlacement:y.INSIDE,gaugeLabelStyle:d.mixin({},c),gaugeShowArrow:!1,gaugeArrowLineColor:void 0,gaugeArrowFillColor:void 0,gaugeConditionalStylingOthers:!1,gaugeConditionalStylingLabel:!1,gaugeShowFromToLabels:!1,gaugeFromLabelStyle:d.mixin({},c),gaugeToLabelStyle:d.mixin({},
c),waffleDirection:A.DOWN_RIGHT,waffleFlowStyle:void 0,waffleShowWholePictures:!1,waffleStretchIconsToFill:!1,waffleRangeMin:void 0,waffleRangeMax:void 0,waffleLabelPlacement:z.BOTTOM,waffleLabelOffset:10,waffleHideValue:!1,waffleHideLabel:!1,waffleShowLabelAbove:!1,waffleValueStyle:d.mixin({},c),waffleLabelStyle:d.mixin({},c),waffleColumnSpace:5,waffleRowSpace:5,waffleConditionalStylingOthers:!1,waffleConditionalStylingValue:!1,waffleConditionalStylingLabel:!1,waffleNumIcons:void 0,waffleNumRows:void 0,
waffleNumColumns:void 0,ringBackgroundColor:void 0,ringBackgroundOpacity:1,columnBarShowWholePictures:!1,dataLabels:w.NONE,dataLabelsShowLabelUnder:!1,dataLabelsDecimals:0,dataLabelsStyle:d.mixin({},b),dataLabelsLabelStyle:null,dataLabelsAltColor:null,dataLabelsEnableAltColor:!1,dataLabelsInside:!1,dataLabelsStackedInColumns:!1,dataLabelsHorizontalAlign:"center",dataLabelsVerticalAlign:"middle",dataLabelsShowValuePercentSymbol:!1,dataLabelsShowValueCurrencySymbol:!1,dataLabelsAngle:0,dataLabelsMaxWidth:void 0,
chartIcons:void 0,floatingIcons:void 0,showAxisIcons:!1,showChartIcons:!1,floatingTexts:void 0,sorting:void 0,filter:void 0,tooltip:m.getChartDefaultTooltip(),conditionalStyling:void 0,noTableView:!1},comparisonInfo:void 0,dataDrillingPanelInfo:void 0}},getChartDefaultTooltip:function(){return{title:!0,value:!0,style:{},linkStyle:{}}},getChartEmptyTooltip:function(){return{style:{},linkStyle:{}}},provideDefaultValueForMissing:function(a,b){b=b||{};b=m.getDefaultChartSettings(b);a.visualProperties.tooltip=
a.visualProperties.tooltip||m.getChartDefaultTooltip();e.populateObject(a,b);return a},cleanUpJson:function(a,b,c){return q.cleanUpJson(a,b,c)},supportsVisualProperty:function(a,b,c){return q.supportsProperty(b,"visualProperties."+a,c)},supportsProperty:function(a,b,c){return q.supportsProperty(b,a,c)},enrichVisualPropertiesWithThemeSettings:function(a,b){a=d.clone(a);a.backgroundColor=a.backgroundColor||b.backgroundColor;a.outlineColor=a.outlineColor||b.outlineColor;a.outlineStyle=a.outlineStyle||
b.outlineStyle;e.populateObject(a.title.style,b.titleStyle);a.xAxis&&(e.populateObject(a.xAxis.style,b.xAxis.axisStyle),e.populateObject(a.xAxis.titleStyle,b.xAxis.titleStyle),a.xAxis.lineColor=a.xAxis.lineColor||b.xAxis.lineColor,a.xAxis.gridLinesColor=a.xAxis.gridLinesColor||b.xAxis.gridLinesColor,a.xAxis.gridLinesStyle=a.xAxis.gridLinesStyle||b.xAxis.gridLinesStyle,a.xAxis.gridStripesColor=a.xAxis.gridStripesColor||b.xAxis.gridStripesColor,a.xAxis.gridStripesColorAlt=a.xAxis.gridStripesColorAlt||
b.xAxis.gridStripesColorAlt,e.populateObject(a.yAxis.style,b.yAxis.axisStyle),e.populateObject(a.yAxis.titleStyle,b.yAxis.titleStyle),a.yAxis.lineColor=a.yAxis.lineColor||b.yAxis.lineColor,a.yAxis.gridLinesColor=a.yAxis.gridLinesColor||b.yAxis.gridLinesColor,a.yAxis.gridLinesStyle=a.yAxis.gridLinesStyle||b.yAxis.gridLinesStyle,a.yAxis.gridStripesColor=a.yAxis.gridStripesColor||b.yAxis.gridStripesColor,a.yAxis.gridStripesColorAlt=a.yAxis.gridStripesColorAlt||b.yAxis.gridStripesColorAlt,a.yAxis.baseLineColor=
a.yAxis.baseLineColor||b.yAxis.baseLineColor,a.yAxis.baseLineStyle=a.yAxis.baseLineStyle||b.yAxis.baseLineStyle);a.legend&&(e.populateObject(a.legend.series.style,b.legendStyle),a.legend.minMax&&(e.populateObject(a.legend.minMax.titleStyle,b.minMaxLegend.titleStyle),e.populateObject(a.legend.minMax.minVariableLabelStyle,b.minMaxLegend.minVariableLabelStyle),e.populateObject(a.legend.minMax.maxVariableLabelStyle,b.minMaxLegend.maxVariableLabelStyle)));e.populateObject(a.dataLabelsStyle,b.dataLabelsStyle);
e.populateObject(a.dataLabelsLabelStyle,a.dataLabelsStyle);a.dataLabelsAltColor=a.dataLabelsAltColor||b.dataLabelsAltColor;e.populateObject(a.gaugeLabelStyle,b.gauge&&b.gauge.dataLabelStyle);a.gaugeArrowLineColor=a.gaugeArrowLineColor||b.gauge&&b.gauge.arrowIndicator.lineColor;a.gaugeArrowFillColor=a.gaugeArrowFillColor||b.gauge&&b.gauge.arrowIndicator.backgroundColor;e.populateObject(a.waffleValueStyle,b.waffle&&b.waffle.dataValueStyle);e.populateObject(a.waffleLabelStyle,b.waffle&&b.waffle.dataLabelStyle);
a.ringBackgroundColor=a.ringBackgroundColor||b.ring&&b.ring.ringBackground&&b.ring.ringBackground.backgroundColor;a.columnBarBackgroundColor=a.columnBarBackgroundColor||b.columnBarBackground&&b.columnBarBackground.backgroundColor;a.tooltip=a.tooltip||m.getChartDefaultTooltip();a.tooltip.style=a.tooltip.style||{};a.tooltip.linkStyle=a.tooltip.linkStyle||{};e.populateObject(a.tooltip.style,b.tooltip&&b.tooltip);e.populateObject(a.tooltip.linkStyle,b.tooltip&&b.tooltipLink);return a},createChartPoint:function(a,
b,c,h,l){a={color:c||"",label:void 0!==b?b||"":a&&a.alias,fieldInfo:a,iconFieldInfo:h,captionFieldInfo:l};c&&k.setPointColor(a,c);return a},getGaugeOthersPoint:function(a){return{label:a&&a.label||n.gaugeOthers,color:a&&a.color}},getWaffleOthersPoint:function(a){return{label:a&&a.label||n.waffleOthers,color:a&&a.color,iconFieldInfo:a&&a.iconFieldInfo}}},B=[{headers:{data:{AREA_DESC:n.oneMile}}},{headers:{data:{AREA_DESC:n.threeMiles}}},{headers:{data:{AREA_DESC:n.fiveMiles}}}];m.getSeriesItemsForMultiFeatureChart=
function(a,b,c){if(!b)return b;c=c||B;var h=b[0];return r.isLineLike(a)?c.map(function(l,g){var f=d.clone(h);f.points.forEach(function(p){delete p.color});if(g=h.multiFeatureLineStyles&&h.multiFeatureLineStyles[g])f.color=g.color,f.lineThickness=g.lineThickness,f.lineStyle=g.lineStyle,f.lineMarker=g.lineMarker,f.lineMarkerColor=g.lineMarkerColor,f.lineMarkerSize=g.lineMarkerSize,f.lineMarkerFillColor=g.lineMarkerFillColor,f.fillColor=g.fillColor;var v=u.getAreaDataValue({areaDataObject:l,fieldName:"headers.AREA_DESC"})||
"";f.points.forEach(function(p){p.areaName=v;p.originalSeriesName=h.label});f.label=v;return f}):h.points.map(function(l){return{label:l.label,points:c.map(function(g){g=u.getAreaDataValue({areaDataObject:g,fieldName:"headers.AREA_DESC"})||"";var f=m.createChartPoint(l.fieldInfo,g,l.color||h.color);f.areaName=g;f.originalSeriesName=h.label;return f})}})};m.getOriginalPointByMultiFeatureIndexes=function(a,b,c){return a[0].points[b]};m.transposeSeriesItems=function(a){return a.length?a[0].points.map(function(b,
c){return{label:b.label,points:a.map(function(h){var l=d.clone(h.points[c]);l.label=h.label;return l})}}):[]};return m});