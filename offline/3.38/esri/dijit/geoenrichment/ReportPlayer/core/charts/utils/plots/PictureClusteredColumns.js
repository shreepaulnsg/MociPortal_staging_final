// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/plots/PictureClusteredColumns","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredColumnsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(F,G,H,A,I,J,B,K){return G(J,{_noCrispEdges:!0,_drawColumn:function(f,g,t,c,l,y,m,u,v){return this._drawColumnPictures(f,g.icon||c.series.isEditMode&&B.DEFAULT_SHAPE,g.bgIcon,t,c,l,y,m,u,!g.icon,v)},_drawColumnPictures:function(f,
g,t,c,l,y,m,u,v,L,w){function C(n,b,h){var p=H.mixin({},b),a=n.shapeJson||n.imageJson;n=!!n.shapeJson;if(a){var z=b.width/a.style.width,d=a.style.height*z;h=Math[!l.series.columnBarShowWholePictures||L||h?"ceil":"floor"](b.height/d);for(var q=0;q<h;q++){var k=r.createGroup();if(n){var e=B.shapeJsonToGFXJson(a);try{I.deserialize(k,e)}catch(M){console.log(M)}}else k.createImage({x:0,y:0,width:a.style.width,height:a.style.height,src:K.getImageData(a.fileName)}),k.rawNode.style.opacity=a.style.opacity;
q===h-1&&(e=(d-(h*d-b.height))/z,k.setClip({x:0,y:0<x?a.style.height-e:0,width:a.style.width,height:e}));e=b.x;var D=0<x?b.y+b.height-(q+1)*d:b.y+q*d,E=z;a.style.zoom&&(e-=b.width*(a.style.zoom-1)/2,D-=d*(a.style.zoom-1)/2,E*=a.style.zoom);k.applyTransform(A.matrix.translate(e,D));k.applyTransform(A.matrix.scale(E))}l.series.columnBarShowWholePictures&&(p.height=h*d,p.y+=b.height-p.height);return p}}w=u.data[w];var x=w[w.valueProp],r=f.createGroup();r.openBatch();f={x:c.x,y:0<x?m.t:c.y,width:c.width,
height:0<x?y.height-m.t-m.b-v:v};this.createRect(u,r,f).setFill(new F([0,0,0,.001]));l.series.showColumnBarBackground&&t&&C(t,f,!0);g&&(c=C(g,c,!1));r.closeBatch();return{shape:r,rect:c}}})});