// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/infographics/utils/InfographicThemeUtil",[],function(){function f(b,a){var d={},c;for(c in h)b&&void 0!==b[c]&&(d[c]=b[c]),a&&void 0!==a[c]&&(d[c]=a[c]);return d}var e={},h={backgroundColor:1,color:1,fontFamily:1,fontSize:1,fontStyle:1,fontWeight:1,textDecoration:1};e.applyThemeSettingsToJson=function(b,a){if(b.header){var d=b.header.rows[0];a&&a.titleStyle?d.themeStyle={fields:{field0:f(a.titleStyle)}}:d&&delete d.themeStyle;if(d=b.header.rows[1])(d=
d.fieldInfos.field0.shapeJson)&&a&&a.titleLine&&a.titleLine.color?d.style.borderColor||(d.themeStyle={borderColor:a.titleLine.color}):d&&delete d.themeStyle}b.variableTables&&b.variableTables.forEach(function(c){c.shape&&e.applyThemeSettingsToShapeJson(c.shape.shapeJson,a,c.shape.isHighlighted);if(c.variable)if(a&&a.variableLabelStyle){var g;c.variable.isHighlighted?g=f(a.variableLabelStyleHighlighted):c.variable.isContrastColor&&(g=f(a.variableLabelStyleContrast));c.variable.themeStyle=f(a.variableLabelStyle,
g);c.variable.themeStyle.isHighlighted=c.variable.isHighlighted;c.variable.themeStyle.isContrastColor=c.variable.isContrastColor}else delete c.variable.themeStyle;c.description&&(a&&a.variableDescriptionStyle?c.description.themeStyle=f(a.variableDescriptionStyle):delete c.description.themeStyle)});return b};e.applyThemeSettingsToShapeJson=function(b,a,d){if(b){var c=a&&a[d?"highlightedIcon":"icon"];c&&c.backgroundColor?(b.themeStyle={isHighlighted:d},b.style.borderColor||(b.themeStyle.borderColor=
c.backgroundColor),b.style.fillColor||(b.themeStyle.fillColor=c.backgroundColor)):delete b.themeStyle;c=a&&a.iconBarBackground;a=!1;c&&(d=c.backgroundColor,c=c.borderColor||c.backgroundColor,d||c)&&(b.backgroundThemeStyle={},b.backgroundStyle&&b.backgroundStyle.fillColor||(b.backgroundThemeStyle.fillColor=d,a=!0),b.backgroundStyle&&b.backgroundStyle.borderColor||(b.backgroundThemeStyle.borderColor=c,a=!0));a||delete b.backgroundThemeStyle}};e.undoThemeFromJson=function(b){return e.applyThemeSettingsToJson(b,
null)};e.applyThemeSettingsPaginatableInfographicJson=function(b,a){return e._applyThemeSettingsToTitleSectionJson(b,a)};e.applyThemeSettingsComparisonInfographicJson=function(b,a){return e._applyThemeSettingsToTitleSectionJson(b,a)};e.applyThemeSettingsAreaDetailsInfographicJson=function(b,a){return e._applyThemeSettingsToTitleSectionJson(b,a)};e._applyThemeSettingsToTitleSectionJson=function(b,a){if(b.titleSectionJson){var d=b.titleSectionJson.stack[0].rows[0];a&&a.titleStyle?d.themeStyle={fields:{field0:f(a.titleStyle)}}:
d&&delete d.themeStyle;if(d=b.titleSectionJson.stack[0].rows[1])(d=d.fieldInfos.field0.shapeJson)&&a&&a.titleLine&&a.titleLine.color?d.style.borderColor||(d.themeStyle={borderColor:a.titleLine.color}):d&&delete d.themeStyle}return b};return e});