// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/comparison/ComparisonSelect","dojo/_base/declare dojo/on dojo/dom-class dojo/dom-construct esri/dijit/geoenrichment/OnDemandSelect esri/dijit/geoenrichment/lists/FlowListDefaultItemRenderer ../../dataProvider/supportClasses/areas/AreasInfoTemplateBuilder ./ComparisonListUtil esri/dijit/geoenrichment/utils/DeviceUtil esri/dijit/geoenrichment/utils/TooltipUtil".split(" "),function(k,l,m,g,p,q,r,d,n,f){var t=k(q,{createLabelNode:!0,fields:null,addFeatureMessage:null,
featureIsAlreadyAddedMessage:null,removeFeatureMessage:null,canAddFeatures:!1,canRemoveFeatures:!1,_createImageNode:function(a,b){var c=this;if(a.isArea){if(this.fields&&!n.isMobileDevice()){var e=g.create("div",{"class":"esriGESpaceBeforeBig dijitInline esriGEInfoIcon esriGEComparisonSelect_infoIcon"},b);f.setTooltipToNode(e,function(){return c._buildGeographyTooltip(a)},{notRestricted:!0})}this.canRemoveFeatures&&(e=g.create("div",{"class":"esriGESpaceBeforeBig dijitInline esriGEComparisonSelect_removeButton"},
b),this.isAdded(a)&&this.canRemoveFeature(a)?(l(e,"click",function(h){h.stopPropagation();c.onRemoveFeature(a)}),f.setTooltipToNode(e,this.removeFeatureMessage)):m.add(e,"disabled"));this.canAddFeatures&&(b=g.create("div",{"class":"esriGESpaceBeforeBig dijitInline esriGEComparisonSelect_addButton"},b),this.isAdded(a)?(m.add(b,"disabled"),f.setTooltipToNode(b,this.featureIsAlreadyAddedMessage)):(l(b,"click",function(h){h.stopPropagation();c.onAddFeature(a)}),f.setTooltipToNode(b,this.addFeatureMessage)))}},
_buildGeographyTooltip:function(a){var b=this.fields.map(function(c){return{label:c.label,value:c.formatFunction(a.attributes[c.name])}});return r.buildAttributesTable(null,b,{padding:10,maxHeight:document.body.clientHeight-40})},isAdded:function(a){},onAddFeature:function(a){},canRemoveFeature:function(a){},onRemoveFeature:function(a){}});return k(p,{listClass:"esriGEOnDemandSelectSpacedOut esriGEOnDemandSelectVeryTallList600",defaultLevelId:null,fields:null,addFeatureMessage:null,featureIsAlreadyAddedMessage:null,
removeFeatureMessage:null,canAddFeatures:!1,canRemoveFeatures:!1,showTitleForSingleGroup:!1,buildRendering:function(){var a=this;n.isMobileDevice()&&(this.listClass+=" esriGEComparisonSelectListMobile");var b=new t;b.fields=this.fields;b.addFeatureMessage=this.addFeatureMessage;b.featureIsAlreadyAddedMessage=this.featureIsAlreadyAddedMessage;b.canAddFeatures=this.canAddFeatures;b.isAdded=function(c){return a.isFeatureAdded(c.levelId,c.featureId,c.attributes)};b.onAddFeature=function(c){a.closePopup();
a.onAddFeature(c.levelId,c.featureId,c.attributes)};b.canRemoveFeatures=this.canRemoveFeatures;b.removeFeatureMessage=this.removeFeatureMessage;b.canRemoveFeature=function(c){return a.canRemoveFeature(c.levelId,c.featureId,c.attributes)};b.onRemoveFeature=function(c){a.closePopup();a.onRemoveFeature(c.levelId,c.featureId,c.attributes)};this.itemRenderer=b;this.inherited(arguments)},setGroups:function(a){this.set("options",d.getOptionsFromGroups(a,{hideTitleForSingleGroup:!this.showTitleForSingleGroup}))},
setFeatures:function(a){this.set("options",d.getListOptionsFromFeatures(a))},setDefaultValue:function(a){var b=d.getDefaultOptionValue(this.options,this.defaultLevelId);this.set("value",b);if(a&&a.emitEvent)this.onChange();return b},isFeatureAdded:function(a,b,c){return!1},canRemoveFeature:function(a,b,c){return!0},onChange:function(){var a=this.getSelectedItem();a&&this.onFeatureSelected(a.levelId,a.featureId,a.attributes)},getFeatureIndexById:function(a,b){return d.getFeatureIndexInOptionsById(this.options,
a,b)},selectFeatureByIndex:function(a){a=d.getOptionValueByFeatureIndex(this.options,a||0);this.set("value",a);return a},getNumFeatures:function(){return d.getNumFeaturesFromOptions(this.options)},getValue:function(){var a=this.getSelectedItem();return a&&{value:a.value,featureId:a.featureId,levelId:a.levelId,attributes:a.attributes}},setValue:function(a,b){this.set("value",a+"."+b)},getSelectedAttributes:function(){var a=this.getSelectedItem();return a&&a.attributes},setSelectedAttributes:function(a){a&&
this.setValue(a.StdGeographyLevel,a.StdGeographyID)},onFeatureSelected:function(a,b,c){},onAddFeature:function(a,b,c){},onRemoveFeature:function(a,b,c){}})});