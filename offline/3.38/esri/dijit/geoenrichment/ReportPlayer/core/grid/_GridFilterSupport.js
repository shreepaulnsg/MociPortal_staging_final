// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/grid/_GridFilterSupport","esri/dijit/geoenrichment/when dojo/_base/declare dojo/dom-construct ./coreUtils/GridFilterUtil ../sections/dynamicSettings/supportClasses/FilterUtil dojo/i18n!esri/nls/jsapi".split(" "),function(h,k,c,f,g,d){d=d.geoenrichment.dijit.ReportPlayer.Grid;return k(null,{presetFilter:null,ignorePresetFilter:!1,_filterStats:null,_filterRanges:null,_numShownElements:null,_emptyDiv:null,_applyFilterToStoreData:function(){if(!this.ignorePresetFilter){var a=
this._getSetRanges();this._emptyDiv&&c.destroy(this._emptyDiv);this._emptyDiv=null;this.mainNode.style.display="";a&&a.length&&(this._numShownElements=f.filterGridData(this,a).numRowsShown,this._numShownElements||(this._emptyDiv=c.create("div",{"class":"esriGEAbsoluteStretched esriGENoDataPlaceHolder"},this.domNode),c.create("div",{"class":"esriGENoDataPlaceHolderLabel",innerHTML:d.noTableData},this._emptyDiv),this.mainNode.style.display="none",this._emptyDiv.style.paddingTop=(this.getHeight(!1,!1)-
20)/2+"px"))}},_getSetRanges:function(){if(!this.presetFilter||this.presetFilter.ranges&&!this.viewModel.dynamicReportInfo)return this._filterRanges;var a=this.getFilterRanges();return this._filterRanges=a&&a.map(function(b){var e=g.filterData(b.dataArray,1===a.length||this.presetFilter.columnIndex===b.columnIndex?this.presetFilter:{method:g.NONE});return{fieldName:b.fieldName,min:e[0],max:e[e.length-1]}},this)},getFilterRanges:function(){return(this._filterStats=f.collectStatsForVariables(this))&&
this._filterStats.filterRanges.length?this._filterStats.filterRanges:null},setFilterRanges:function(a){var b=this;this.presetFilter=null;this._filterRanges=a;return h(this.refresh(),function(){return b._chartViewInfo&&b.tableToChart(b._chartViewInfo)})},getNumElementsTotal:function(){return this._filterStats&&this._filterStats.numRowsTotal||0},getNumElementsShown:function(){return"number"===typeof this._numShownElements?this._numShownElements:this.getNumElementsTotal()}})});