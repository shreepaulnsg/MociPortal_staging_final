// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/grid/coreUtils/GridStyleUtil",["./GridLayoutCalculator","esri/dijit/geoenrichment/utils/ColorUtil","esri/dijit/geoenrichment/utils/ObjectUtil","../valueField/ValueField"],function(k,l,f,m){var g={filterCellStyles:function(a){return g._filterCellStyles(a,m.SUPPORTED_STYLES)},filterCellTextStyles:function(a){return g._filterCellStyles(a,m.SUPPORTED_TEXT_STYLES)},_filterCellStyles:function(a,b){var e={},c;for(c in a)void 0!==a[c]&&b[c]&&(e[c]=a[c]);
return e},combineCellStyle:function(a,b,e,c){var d={};if(g._isContainerCell(a,b,e))c=c||b.style.fields&&b.style.fields[e.field],f.copyOwnJsonProperties(c,d),delete d.backgroundColor;else{var n=a.viewModel.getDocumentDefaultStyles&&a.viewModel.getDocumentDefaultStyles(a.theme);f.copyOwnJsonProperties(n,d);delete d.backgroundColor;g._canApplyDefaultTableStyle(a)&&a.viewModel.getTableDefaultStyles&&f.copyOwnJsonProperties(a.viewModel.getTableDefaultStyles(a.theme,"Default"),d);f.copyOwnJsonProperties(b.style,
d);a.applyThemeStyle&&f.copyOwnJsonProperties(b.themeStyle&&b.themeStyle.fields&&b.themeStyle.fields[e.field],d);a.inheritThemeBackground||l.isTransparent(d.backgroundColor)||delete d.backgroundColor;c=c||b.style.fields&&b.style.fields[e.field];f.copyOwnJsonProperties(c,d);if(d.overrideStyle&&a.viewModel.getTableDefaultStyles&&(c=a.viewModel.getTableDefaultStyles(a.theme,d.overrideStyle)))for(var h in c)if("backgroundColor"!==h||a.inheritThemeBackground||l.isTransparent(c[h]))d[h]=c[h]}d.width=k.calcFieldWidth(a,
b,e.field);d.height=k.calcDataHeight(a,b,e.field);return g.filterCellStyles(d)},_isContainerCell:function(a,b,e){return a.viewModel.isGraphicStyle()?a.isReportContainerPageGrid?!0:(b=b.fieldInfos&&b.fieldInfos[e.field])?b.isReportSection?!0:a.isSingleCelledTable()&&(b.isImage||b.isShape||b.isInfographic||b.isChart||b.isMap):!1:!1},_canApplyDefaultTableStyle:function(a){return a.viewModel.isGraphicStyle()?a.isMultiDataTable():!0}};return g});