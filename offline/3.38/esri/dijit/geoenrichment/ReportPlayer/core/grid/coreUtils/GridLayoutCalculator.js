// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/grid/coreUtils/GridLayoutCalculator","dojo/_base/lang ./gridLayoutCalcUtils/GridLayoutCalculatorQueryUtil ./gridLayoutCalcUtils/GridElementBoxCalculator ./gridLayoutCalcUtils/GridCellNodePlacer ./gridLayoutCalcUtils/rows/GridLayoutRowsCalculator ./gridLayoutCalcUtils/columns/GridLayoutColumnsCalculator ./gridLayoutCalcUtils/GridLayoutSnapper ../../supportClasses/tableJson/TableJsonUtil".split(" "),function(t,k,u,v,h,g,w,x){var a={};u.calculator=a;
a.markAsDirty=k.markAsDirty;a.fieldToColumn=k.fieldToColumn;a.dataIdToData=k.dataIdToData;a.getSpannedColumns=k.getSpannedColumns;a.recalcRows=h.recalcRows;a.recalcColumns=g.recalcColumns;a.recalcColumnsTableJson=g.recalcColumnsTableJson;a.recalcRowsToFitHeight=h.recalcRowsToFitHeight;a.adjustColumnWidth=g.adjustColumnWidth;a.getAffectedCellsForColumnAdjust=g.getAffectedCells;a.adjustRowHeight=h.adjustRowHeight;a.getAffectedCellsForRowAdjust=h.getAffectedCells;a.recalcGridWidth=g.recalcGridWidth;
a.calcFieldWidth=g.calcFieldWidth;a.getFieldWidth=g.getFieldWidth;a.setFieldWidth=g.setFieldWidth;a.calcDataHeight=h.calcDataHeight;a.getDataHeight=h.getDataHeight;a.setDataHeight=h.setDataHeight;a.autoSnapLayout=w.autoSnapLayout;a.positionCells=v.positionCells;a.calcFeatureCount=function(b,c,d){return(b-c)/d};a.calcRingIndexForCell=function(b){var c=b.parentGrid;if(!c)return-1;if(c.getNumDynamicRows())return void 0!==b.row.currentFeatureIndex?b.row.currentFeatureIndex:b.row.index-c.getNumFixedRows();
var d=c.getNumFixedColumns();return b.column.index<d?-1:Math.floor((b.column.index-d)/c.getNumDynamicColumns())};a.trimColumnsForNumberOfFeatures=function(b){for(var c=b.viewModel.dynamicReportInfo.fieldData.areaData.length,d=a.recalcGridWidth(b),f=0,e=0;e<b.getNumFixedColumns();e++)f+=b.columns[e].style.width;d-=f;f=a.calcFeatureCount(b.columns.length,b.getNumFixedColumns(),b.getNumDynamicColumns())-c;if(!(0>f)){var m=b.columns.slice();e=m.length=b.getNumFixedColumns();for(var l=[],n=0;b.columns[e];){for(var p=
0;p<c;p++){var q=b.columns[e++];n+=q.style.width;l.push(q)}e+=f}var y=d/n;l.forEach(function(r){r.style.width*=y});b.columns=m.concat(l)}};a.adjustRowsForNumberOfFeatures=function(b){var c=b.viewModel.dynamicReportInfo.fieldData.areaData.length;if(!(1>=c)){var d=b.rows[b.getNumFixedRows()];d.currentFeatureIndex=0;for(var f=1;f<c;f++){var e=t.clone(d);e.currentFeatureIndex=f;b.rows.push(e)}x.applyDefaultStyling({rows:b.rows,columns:b.columns})}};return a});