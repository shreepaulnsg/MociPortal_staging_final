// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/htmlToSvg/HTMLtoSVGConverter","dojo/_base/declare esri/dijit/geoenrichment/when esri/dijit/geoenrichment/utils/DomUtil esri/dijit/geoenrichment/utils/FitUtil ./supportClasses/imageUtils/ImageReplacer ./supportClasses/imageUtils/ImageOptimizer ./supportClasses/NodeProcessor ./supportClasses/SVGBuilder ./supportClasses/text/TextMeasurer".split(" "),function(h,e,g,k,l,m,n,p,q){var t=h(null,{htmlToSvg:function(b,a){a=a||{};a.definitions=a.definitions||[];a.fitParams=
a.fitParams||{};var c={x:g.getStyle(b,"left")||0,y:g.getStyle(b,"top")||0,w:b.offsetWidth,h:b.offsetHeight};a.fitScale=k.fitBox(c,{w:a.fitParams&&a.fitParams.w||c.w,h:a.fitParams&&a.fitParams.h||c.h}).ratio;return e(l.replaceImagesWithDataURL(b,{convertUrlImages:a.convertUrlImages,hideUrlImages:a.hideUrlImages,getItemResourceUrl:a.getItemResourceUrl}),function(){return e(n.processNode(b,a),function(d){d=p.buildSVG(d,b,a);return e(m.optimizeSize([d],a.sizeLimit),function(r){return r[0]})})})}}),f=
{_numRunningTasks:0,htmlToSvg:function(b,a){var c=(new Date).getTime();f._numRunningTasks++;return(new t).htmlToSvg(b,a).then(function(d){console.log("HTMLtoSVGConverter: conversion time: "+Number(((new Date).getTime()-c)/1E3).toFixed(3)+" s.");--f._numRunningTasks||q.cleanUp();return d})}};return f});