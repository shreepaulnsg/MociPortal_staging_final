// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/htmlToSvg/supportClasses/TransformUtil",["dojo/dom-geometry","./dom-style","dojo/sniff"],function(l,f,g){function h(){return g("safari")||g("webkit")?"webkitTransform":"transform"}function m(){return g("safari")||g("webkit")?"webkitTransformOrigin":"transformOrigin"}var p={getBox:function(a,b){b=k.disableTransform(a,b);a=l.position(a);k.restoreTransform(b);return a}},k={disableTransform:function(a,b){function d(c){var n=f.get(c,h());n&&"none"!==n&&(c.style[h()]=
"none",e=e||[],e.push({node:c,transform:n}))}var e;(function(){d(a);for(var c=b;c&&(c.style.transform||c.style.parentHasTransform);)d(c.node),c=c.parentVs})();return e&&{restoreInfos:e}},restoreTransform:function(a){a&&a.restoreInfos.forEach(function(b){b&&f.set(b.node,h(),b.transform)})}},q={getTransform:function(a,b,d){if(d=this._getInheritedTransform(b,d)){if(-1!==d.indexOf("translate"))return d;var e=l.position(b),c=f.get(b,m());f.set(b,m(),-a.x+"px "+-a.y+"px");a=l.position(b);f.set(b,m(),c);
return"translate("+-(a.x+a.w/2-(e.x+e.w/2))+" "+-(a.y+a.h/2-(e.y+e.h/2))+") "+d}},_getInheritedTransform:function(a,b){for((a=f.get(a,h()))&&"none"!==a||(a=void 0);b&&(b.style.transform||b.style.parentHasTransform);)a=b.style.transform||a,b=b.parentVs;return a}};return{measureNode:function(a,b){var d=p.getBox(a,b);return{box:d,transform:q.getTransform(d,a,b)}},disableTransform:k.disableTransform,restoreTransform:k.restoreTransform}});