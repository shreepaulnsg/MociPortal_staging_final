// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/ColorUtil",["dojo/_base/Color","dojox/color/_base","dojox/color/Palette"],function(g,h,l){function k(a,b,c){return Math.round((a&255)*(1-c)+(b&255)*c)}var e={toCSSColor:function(a,b,c){"string"!==typeof a||/^0x/i.test(a)||(a=g.fromString(a));if(a instanceof g)return b||1===a.a?a.toHex():a.toCss(!0);if(null==a||isNaN(a))return c?e.toCSSColor(c,b):"#000000";a="00000"+Number(a).toString(16);return"#"+a.substr(a.length-6)},toColor:function(a,b){return"object"===
typeof a?(new g).setColor(a):g.fromString(e.toCSSColor(a,!1,b))},getCSSColorWithAlpha:function(a,b){return e.toCSSColor(e.getColorWithAlpha(a,b))},getColorWithAlpha:function(a,b){a=(new g).setColor(a);a.a=b;return a},transform:function(a,b){var c=new l;c.colors=[new g(a)];return c.transform({use:void 0!==b.dl?"hsl":"hsv",dh:b.dh||0,ds:b.ds||0,dv:b.dv||0,dl:b.dl||0}).colors[0]},generateAnalogousColorScheme:function(a,b,c){return l.generators.analogous({base:a,high:b,low:c}).colors},applyColorHue:function(a,
b){a=new h.Color(a);b=new h.Color(b);a=a.toHsl();var c=b.toHsl();a=h.fromHsl({h:a.h,s:0===a.s?0:0===c.s?a.s:c.s,l:c.l});a.a=b.a;return a},getColorParams:function(a){a=new h.Color(a);var b=a.toHsv();b.l=a.toHsl().l;return b},generateGradient:function(a,b){a=a.map(e.toRGBColor);var c=[];if(0===a.length-1||1===b){a=a[0];for(var d=0;d<b;d++)c.push(a);return c}var f=1/(b-1);for(d=0;d<b;d++)c.push(e.getGradientRGBColor(a,d*f));return c},getGradientRGBColor:function(a,b,c){var d=a.length-1,f=1>d||0>=b?0:
1<=b?d:-1;if(0<=f)return a[f];b*=d;f=Math.floor(b);f===d&&f--;return e.mixRGBColors(a[f],a[f+1],b-f,c)},mixRGBColors:function(a,b,c,d){1<c?c=1:0>c&&(c=0);var f=k(a,b,c),m=k(a>>8,b>>8,c),n=k(a>>16,b>>16,c);return((d?k(a>>24,b>>24,c):0)<<24)+(n<<16)+(m<<8)+f},toRGBColor:function(a,b){a=e.toCSSColor(a,!0,b);return parseInt("0x"+a.substr(1))},getContrastColor:function(a,b,c,d){return e.isLightColor(a,d)?e.toColor(b,"#000000"):e.toColor(c,"#FFFFFF")},getHighlightColor:function(a,b){b=b||{};a=new h.Color(a);
x=a.toHsl();if("darker"===b.method)x.l=50>x.l?x.l+30:x.l-20,0<x.s&&(x.s+=30);else{var c=b.saturation||100,d=b.luminosity1||75;b=b.luminosity2||50;0===x.s?x.l=50>x.l?x.l+30:x.l-20:(x.s=c,x.l=x.l<b?d:x.l>d?b:x.l-b>d-x.l?b:d)}b=h.fromHsl(x);b.a=a.a;return b},getLightness:function(a){a=e.toRGBColor(a);return(299*(a>>16&255)+587*(a>>8&255)+114*(a&255))/1E3},isLightColor:function(a,b){return e.getLightness(a)>=(void 0===b?128:b)},colorsEqual:function(a,b){a instanceof g||(a=e.toColor(a));b instanceof g||
(b=e.toColor(b));return a.a==b.a&&a.r==b.r&&a.g==b.g&&a.b==b.b},isTransparent:function(a){a=e.toCSSColor(a);return"rgba(0,0,0,0)"===a.toLowerCase().replace(/\s/g,"")},generateRandomColor:function(a){function b(){return c+Math.round((d-c)*Math.random())}a=a||{};var c=a.min||0,d=a.max||255,f=a.randomizeAlpha?b():1;return a.grayScheme?(a=b(),new g([a,a,a,f])):new g([b(),b(),b(),f])}};return e});