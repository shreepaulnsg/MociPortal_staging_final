// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/MouseUtil","dojo/_base/lang dojo/on dojo/sniff dojo/touch dojo/dom-geometry ./DomUtil dojo/domReady!".split(" "),function(l,f,q,m,r,t){var c={_latestEvent:null,_setLatestEvent:function(a){c._latestEvent=a},_getLatestEvent:function(){return c._latestEvent}};q("touch")?(f(document.body,m.press,function(a){c._setLatestEvent(h(a))}),f(document.body,m.move,function(a){c._setLatestEvent(h(a))})):f(document.body,"mousemove",function(a){c._setLatestEvent(h(a))});var g;
f(document.body,"mousedown",function(){g||(g=!0,f.once(document.body,"mouseup, click",function(){g=!1}))});c.getCursorPosition=function(){return c._latestEvent};c.isMouseOver=function(a,b){var d=b&&b.event||c._latestEvent;if(!(a&&a.parentNode&&a.getBoundingClientRect&&d))return!1;if(b&&b.checkAllChildren){b=l.mixin({},b);delete b.checkAllChildren;var e=!1;t.traverseChildren(a,function(k){if(c.isMouseOver(k,b))return e=!0});return e}return c.isMouseOverBox(r.position(a),b)};c.isMouseOverBox=function(a,
b){if(!a)return!1;var d=b&&b.event||c._latestEvent;b&&b.ignoreBorderTolerance&&(b=b.ignoreBorderTolerance,a=l.mixin({},a),a.x+=b,a.y+=b,a.w-=2*b,a.h-=2*b);return a.x<=d.clientX&&a.x+a.w>=d.clientX&&a.y<=d.clientY&&a.y+a.h>=d.clientY};var n=function(a){if(a.touches){if(!a.touches.length)return a.changedTouches[0];for(var b=a.touches[0].identifier,d,e=0;e<a.changedTouches.length;e++)if(a.changedTouches[e].identifier===b){d=a.changedTouches[e];break}return d||a.touches[0]}},h=function(a){var b=n(a);
b&&(b.type=a.type);return b||a};c.fixTouchEvent=function(a){var b=n(a);b&&(a.screenX=b.screenX,a.screenY=b.screenY,a.clientX=b.clientX,a.clientY=b.clientY,a.pageX=b.pageX,a.pageY=b.pageY);return a};c.isBeingDragged=function(){return g};c.addOverOutHandler=function(a){function b(){clearTimeout(e);d&&d.remove()}var d,e,k=f(a.node,"mouseover",function(u){function p(){c.isMouseOver(a.node)&&(a.onMouseOver(u),d=f(document.body,"mousemove",function(v){c.isMouseOver(a.node)||(b(),a.onMouseOut(v))}))}b();
a.delayTimeout?e=setTimeout(p,a.delayTimeout):p()});return{remove:function(){k.remove();b()}}};c.addOutHandler=function(a,b){return f(document.body,"mousemove",function(d){c.isMouseOver(a,{checkAllChildren:!0})||b(d)})};return c});