// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/ObjectUtil",["dojo/number","./DateUtil"],function(p,u){var f={};Math.log10=Math.log10||function(a){return Math.log(a)*Math.LOG10E};f.populateObject=function(a,b,c){function d(e,h){function m(k){var g=e[k],n=h[k],q=g&&"object"===typeof g;void 0!==g&&(void 0===n?h[k]=g:n&&"object"===typeof n&&q?d(g,n):c&&(q?(n=h[k]={},d(g,n)):h[k]=e[k]))}if(e&&h&&!(Array.isArray(e)&&!Array.isArray(h)||Array.isArray(h)&&!Array.isArray(e)))if(Array.isArray(e))e.forEach(function(k,
g){m(g)});else for(var l in e)m(l)}d(b,a);return a};f.filterByPattern=function(a,b){function c(e,h,m){for(var l in e){var k=e[l],g=h[l];if(Array.isArray(k)){var n=k[0];if(g&&Array.isArray(g)){var q=m[l]=[];g.forEach(function(r){if(r&&"object"===typeof r){var v=Array.isArray(r)?[]:{};c(n,r,v);q.push(v)}})}}else if("object"===typeof k){if(g&&"object"===typeof g){var w=m[l]={};c(k,g,w)}}else void 0!==g&&(m[l]=g)}}var d={};c(b,a,d);return d};f.traverseObject=function(a,b){for(var c in a){var d=a[c];b(d,
c,a);d&&"object"===typeof d&&f.traverseObject(d,b)}};f.copyOwnJsonProperties=function(a,b,c){b=b||{};for(var d in a){var e=a[d];a.hasOwnProperty(d)&&"function"!=typeof e&&(e&&"object"==typeof e&&c&&(e=c(d,e)),void 0!==e&&(b[d]=e))}return b};f.removeUndefinedProperties=function(a){a&&Object.keys(a).forEach(function(b){void 0===a[b]&&delete a[b]});return a};f.getValue=function(a,b){if("string"!==typeof b)return a;b=b.split(".");for(var c=0;c<b.length;c++)a=a&&a[b[c]];return a};f.setValue=function(a,
b,c){if("string"===typeof b&&(b=b.split("."),b.length)){for(var d=0;d<b.length-1;d++)a=a&&a[b[d]];a&&(a[b[b.length-1]]=c)}};f.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};f.roundNumber=function(a,b){return"number"!==typeof a?a:parseFloat(a.toFixed(void 0!==b?b:0))};f.getBestPrecision=function(a){return 0===a?0:Math.max(0,Math.round(Math.log10(3E3/Math.abs(a))))};f.getPlaces=function(a,b){function c(l,k){var g=a.indexOf(l,d);if(0>g)return e;l=a.charAt(g+l.length);return!l||0>k.indexOf(l)?
e:g-d}a=+a;if(isNaN(a))return-1;a+="";var d=a.indexOf(".")+1,e=d?a.length-d:0;if(2>=e||!b)return e;b=0;if(!+a.substr(0,d-1))for(;"0"===a.charAt(d);)d++,b++,e--;for(var h=e-1;2<=h;h--){var m=Math.min(c("000000000000000".substr(0,h),"01234"),c("999999999999999".substr(0,h),"56789"));if(m!==e){e=m;break}}return e+b};f.formatNumber=function(a,b){b="number"===typeof b?{places:b}:b||{};var c=b.places,d={};0<=c?d.places=c:c=-1;d.locale=b.locale||u.getDateNumberLocale();a=p.format(a,d);if(b.noSeparator){d=
f.getSeparator();var e;if(d)for(;0<=(e=a.indexOf(d));)a=a.substr(0,e)+a.substr(e+1)}if(b.preserveTrailingZeroes||0>=c||!a)return a;for(b=a.length;0<c&&"0"==a.charAt(b-1);)b--,--c||b--;return a.substr(0,b)};f.formatNumberAsCurrency=function(a,b,c){return b?b.split(";")[0>a?1:0].replace("0",f.formatNumber(Math.abs(a),c)):f.formatNumber(a,c)};var t;f.getSeparator=function(){void 0===t&&(t=p.format(9999,{places:0}).replace(/9/g,""));return t};f.parseNumber=function(a,b,c,d){if(""===a)return"undefined"!==
typeof c?c:NaN;if(null==a||"string"!==typeof a&&isNaN(a))return NaN;a=String(a);if(!a.trim())return void 0!==c?c:NaN;c=p.parse(a,{strict:d,locale:u.getDateNumberLocale()});isNaN(c)&&a.trim().length&&(c=d?p.parse(a,{strict:d,locale:"en-US"}):Number(a));return isNaN(c)||void 0===b||0>b?c:p.round(c,b)};f.parsePercentOrCurrency=function(a,b,c,d,e){"string"===typeof a&&(a=a.replace("%",""),b&&(b=b.split(";")[0].replace("0",""),a=a.replace(b,"")));return f.parseNumber(a,c,d,e)};f.compareEqual=function(a,
b,c){return void 0===c?a===b:Number(Number(a).toFixed(c))===Number(Number(b).toFixed(c))};return f});