// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/animation/AnimationUtil",["dojo/dom-construct","dojo/dom-style","dojo/sniff","./Animator","esri/dijit/geoenrichment/utils/DomUtil"],function(v,q,w,p,r){var x={animateResize:function(a){function m(c){a.domNode=v.create("div",{"class":a.ghostClass},document.body);q.set(a.domNode,{width:c.w+"px",height:c.h+"px"})}function f(c,e,b){var d=a.fromOffset.x,g=a.fromOffset.y;if("number"!==typeof d){var k=e.w*b.x;switch(d){case "l":d=0;break;case "r":d=(c.w||0)-k;break;
default:d=((c.w||0)-k)/2}}if("number"!==typeof g)switch(k=e.h*b.y,g){case "t":g=0;break;case "b":g=(c.h||0)-k;break;default:g=((c.h||0)-k)/2}return{x:c.x+d,y:c.y+g}}function h(c,e,b){var d=a.toOffset.x,g=a.toOffset.y;if("number"!==typeof d){var k=c.w*b.x;switch(d){case "l":d=0;break;case "r":d=(e.w||0)-k;break;default:d=((e.w||0)-k)/2}}if("number"!==typeof g)switch(k=c.h*b.y,g){case "t":g=0;break;case "b":g=(e.h||0)-k;break;default:g=((e.h||0)-k)/2}return{x:e.x+d,y:e.y+g}}var l=a.fromBox||(a.domFrom||
a.domNode)&&r.noTransformPosition(a.domFrom||a.domNode);a.animateGhost&&m(l);var n=a.toBox||r.noTransformPosition(a.domTo);if(l&&n){var t=function(c,e){var b={x:a.startScaleX,y:a.startScaleY},d=0;"fit"===b.x&&(c.w?d=b.x=c.w/e.w:b.x=0);"fit"===b.y&&(c.h?d=Math.max(b.y=c.h/e.h,d):b.y=0);b.x=b.x||d||1;b.y=b.y||d||1;return b}(l,n),u=function(c,e){var b={x:a.endScaleX,y:a.endScaleY},d=0;"fit"===b.x&&(e.w?d=b.x=e.w/c.w:b.x=0);"fit"===b.y&&(e.h?d=Math.max(b.y=e.h/c.h,d):b.y=0);b.x=b.x||d||1;b.y=b.y||d||
1;return b}(l,n);a.fromOffset&&(l=f(l,n,t));a.toOffset&&(n=h(l,n,u));var y=w("webkit")?"webkitTransformOrigin":"transformOrigin";a.domNode.style[y]="0% 0%";return p.animateProperty({obj:a.domNode,duration:a.duration||250,properties:{__x:{start:l.x,end:n.x},__y:{start:l.y,end:n.y},__scaleX:{start:t.x||1,end:u.x},__scaleY:{start:t.y||1,end:u.y}},endFunction:function(){a.animateGhost&&v.destroy(a.domNode);a.onEnd&&a.onEnd()},progressFunction:function(c,e){var b=w("webkit")?"webkitTransform":"transform";
"__x"==c?a.domNode.style.left=e+"px":"__y"==c?a.domNode.style.top=e+"px":"__scaleX"==c?a.domNode.style[b]="scaleX("+e+") scaleY("+(a.domNode.__scaleY||1)+")":"__scaleY"==c&&(a.domNode.style[b]="scaleX("+(a.domNode.__scaleX||1)+") scaleY("+e+")")}}).promise}a.onEnd&&a.onEnd()},animateShrinkResize:function(a){a.endScaleX=a.endScaleX||.1;a.endScaleY=a.endScaleY||.05;return x.animateResize(a)},animateFadeIn:function(a){return p.animateProperty({obj:a.domNode.style,duration:a.duration||250,properties:{opacity:{start:0,
end:1}},endFunction:function(){a.onEnd&&a.onEnd()}}).promise},animateFadeOut:function(a){return p.animateProperty({obj:a.domNode.style,duration:a.duration||250,properties:{opacity:{start:1,end:0}},endFunction:function(){a.onEnd&&a.onEnd()}}).promise},animateSlide:function(a,m,f){var h=f.width;p.animateProperty({obj:a.style,duration:f.duration||250,properties:{left:{start:f.leftToRight?0:-h,end:f.leftToRight?-h:0,units:"px"},right:{start:f.leftToRight?0:h,end:f.leftToRight?h:0,units:"px"}},endFunction:function(){f.onEnd&&
f.onEnd()}});return p.animateProperty({obj:m.style,duration:f.duration||250,properties:{left:{start:f.leftToRight?h:0,end:f.leftToRight?0:h,units:"px"},right:{start:f.leftToRight?-h:0,end:f.leftToRight?0:-h,units:"px"}}}).promise},animateExpand:function(a,m,f){f=f||{};a.style.overflow="hidden";m&&r.show(a);var h=q.get(a,"height");return p.animateProperty({obj:a.style,duration:f.duration,properties:{height:{start:m?0:h,end:m?h:0,units:"px"}},progressFunction:f.progressFunction,endFunction:function(){!m&&
r.hide(a);q.set(a,"height","");q.set(a,"overflow","")}}).promise}};return x});