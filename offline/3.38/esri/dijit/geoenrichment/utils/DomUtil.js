// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/DomUtil","dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/query esri/dijit/geoenrichment/Deferred dojo/domReady!".split(" "),function(q,n,k,m,h,x,y){function v(a,b){Array.isArray(a)?a.forEach(b):b(a);return a}function t(a,b,c){var e=!1,g=function(f){!f||c&&!c(f)||(f.parentNode===b?e=!0:g(f.parentNode))};g(a);return e}function w(a){return!d.isHidden(a)&&"none"!==h.get(a,"display")&&!n.contains(a,"dijitHidden")}function z(){r||
(r=k.create("div",{"class":"esriGEOffscreen"},document.body));return r}var d={isHidden:function(a){return a&&n.contains(a,"esriGEHidden")},hasVisibleChildren:function(a){if(!a||!a.children.length)return!1;for(var b=0;b<a.children.length;b++)if(!d.isHidden(a.children[b]))return!0;return!1},hide:function(a){return d.addTag(a,"esriGEHidden")},show:function(a){return d.removeTag(a,"esriGEHidden")},display:function(a,b){return d[b?"show":"hide"](a)},addTag:function(a,b){return v(a,function(c){c&&n.add(c,
b)})},removeTag:function(a,b){return v(a,function(c){c&&n.remove(c,b)})},getChildIndex:function(a,b){if(!a||!a.children||!b)return-1;for(var c=0;c<a.children.length;c++)if(a.children[c]===b)return c;return-1},isChildOf:function(a,b){return t(a,b)},isNodeInLayout:function(a){return t(a,document.body,function(b){return w(b)})},isNodeVisible:function(a){return t(a,document.body,function(b){return w(b)&&"hidden"!==h.get(b,"visibility")})},isNodeOnscreen:function(a){return t(a,document.body,function(b){return!n.contains(b,
"esriGEOffscreen")})},enableContent:function(a,b,c){if(a){c=c||{};var e=a.children.length-1;if(!(0>e||(e=a.children[e],n.contains(e,"esriGEDisabledContent")||(e=null),e&&a.removeChild(e),b)))return e=k.create("div",{"class":"esriGEDisabledContent"+(c.overlayClass?" "+c.overlayClass:"")},a),c.textContent&&(e.textContent=c.textContent),!1!==c.fitParent&&(a=m[c.marginBox?"getMarginBox":"getContentBox"](a).h)&&h.set(e,{height:a+"px",marginTop:-a+"px"}),e}},enableContentAbsolute:function(a,b,c){if(a){c=
c||{};var e=h.get(a,"position");"relative"===e||"absolute"===e||b||h.set(a,"position","relative");return d.enableContent(a,b,{overlayClass:"esriGEAbsoluteStretched"+(c.overlayClass?" "+c.overlayClass:"")+(c.isTransparent?" esriGEDisabledContentTransparent":""),fitParent:!1,textContent:c.textContent})}}},r;d.hideNodeInBackground=function(a,b){if(a){if(a._hideNodeInBackgroundUndoController)return a._hideNodeInBackgroundUndoController;var c=k.create("div",null,a,"after"),e=k.create("div",{style:"position: absolute; left: 0px; top: 0px;"},
z());k.place(a,e);b="DomUtil.hideNodeInBackground"+(b?"."+b:"");q.set(c,"_bg_memo_node",b);q.set(e,"_bg_temp_node",b);b={remove:function(){c&&(c.parentNode&&k.place(a,c,"replace"),k.destroy(c),k.destroy(e),r.children.length||(k.destroy(r),r=null),c=null,delete a._hideNodeInBackgroundUndoController)}};return a._hideNodeInBackgroundUndoController=b}};d.showNodeFromBackground=function(a){a&&a._hideNodeInBackgroundUndoController&&a._hideNodeInBackgroundUndoController.remove()};d.noTransformPosition=function(a){function b(f){for(var l=
{x:0,y:0};f.offsetParent;)l.x+=f.offsetLeft,l.y+=f.offsetTop,f=f.offsetParent,l.x+=h.get(f,"borderLeftWidth"),l.y+=h.get(f,"borderTopWidth");return l}function c(f){return h.get(f,"width")+h.get(f,"paddingLeft")+h.get(f,"paddingRight")+h.get(f,"borderLeftWidth")+h.get(f,"borderRightWidth")}function e(f){return h.get(f,"height")+h.get(f,"paddingTop")+h.get(f,"paddingBottom")+h.get(f,"borderTopWidth")+h.get(f,"borderBottomWidth")}if(a){if(a instanceof SVGElement&&a.getBBox){var g=(g=a.ownerSVGElement&&
a.ownerSVGElement.parentNode)&&b(g);a=a.getBBox();return{x:(a.x||0)+g.x,y:(a.y||0)+g.y,w:a.width||0,h:a.height||0}}g=b(a);return{x:g.x,y:g.y,w:c(a),h:e(a)}}};d.getNodesBox=function(a,b){if(!a||!a.length)return null;b=b||{};for(var c=1E6,e=-1E6,g=1E6,f=-1E6,l=0;l<a.length;l++){var p=a[l];p=b.ignoreTransformation?d.noTransformPosition(p):m.position(p);c=Math.min(c,p.x);g=Math.min(g,p.y);e=Math.max(e,p.x+p.w);f=Math.max(f,p.y+p.h)}a={x:c,y:g,w:e-c,h:f-g};b.originNode&&(b=b.ignoreTransformation?d.noTransformPosition(b.originNode):
m.position(b.originNode),a.x-=b.x,a.y-=b.y);return a};d.traverseChildren=function(a,b){function c(e){if(e&&e.children)for(var g=0;g<e.children.length;g++){var f=e.children[g];if(b(f))break;c(f)}}c(a)};d.scrollToListNode=function(a,b,c){var e=b.offsetTop+b.clientHeight,g=e-(a.scrollTop+a.clientHeight);0<g&&(a.scrollTop+=g);c&&(e-=b.clientHeight-c.offsetTop,g=a.scrollTop-e,0<g&&(a.scrollTop-=g))};var u;d.getScrollbarSize=function(){if(!u){var a=k.create("div",null,document.body);a.style.width="100px";
a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="9999px";u={w:a.offsetWidth-a.clientWidth,h:a.offsetHeight-a.clientHeight};k.destroy(a)}return u};d.hasScrollbars=function(a){var b=h.getComputedStyle(a);return{w:"scroll"===b.overflowX||a.offsetWidth>a.clientWidth&&"auto"===b.overflowX,h:"scroll"===b.overflowY||a.offsetHeight>a.clientHeight&&"auto"===b.overflowY}};d.getMeasureContext=function(a){a=a||{};a.style=a.style?a.style+" ":"";a.style+="display: inline-block; position: absolute; left: 0; top: 0;";
return{div:k.create("div",a,document.body),measureText:function(b){this.div.innerHTML=b;b=m.getMarginBox(this.div);delete b.l;delete b.t;return b},destroy:function(){k.destroy(this.div)}}};d.getTextBox=function(a,b){b=d.getMeasureContext(b);a=b.measureText(a);b.destroy();return a};d.getNodeFontFamily=function(a){return(a=h.get(a,"fontFamily")||h.getComputedStyle(a).fontFamily)&&a.replace(/'|"/g,"").split(",")[0]};d.getNodeFontSize=function(a){return h.toPixelValue(a,h.get(a,"fontSize"))};d.stealFocus=
function(){var a=new y;try{var b=k.create("input",{type:"text",style:"position: absolute; left: 0px; top: 0px;"});k.place(b,document.body);b.select();k.destroy(b)}catch(c){}setTimeout(a.resolve,0);return a.promise};d.getWindowBox=function(){for(var a=[],b=0,c=document.body.children.length;b<c;b++){var e=document.body.children[b];d.isHidden(e)||(d.hide(e),a.push(e))}b={w:document.body.clientWidth,h:document.body.clientHeight};a.forEach(function(g){d.show(g)});return b};d.isBodyLtr=function(){return"ltr"===
(document.body.dir||"ltr").toLowerCase()};d.setAttribute=function(a,b,c){return 2===arguments.length?q.set(a,b):q.set(a,b,c)};d.getAttribute=function(a,b,c){return 2===arguments.length?q.get(a,b):q.get(a,b,c)};d.addClass=function(a,b){n.add(a,b)};d.removeClass=function(a,b){n.remove(a,b||"")};d.toggleClass=function(a,b,c){n[c?"add":"remove"](a,b||"")};d.replaceClass=function(a,b,c){return n.replace(a,b,c)};d.containsClass=function(a,b){return n.contains(a,b)};d.getStyle=function(a,b){return h.get(a,
b)};d.setStyle=function(a,b,c){return 2===arguments.length?h.set(a,b):h.set(a,b,c)};d.setFullTextStyle=function(a,b){b.fontSize&&(b=Object.assign({},b),b.fontSize+="px");d.setStyle(a,b)};d.getStylePixelValue=function(a,b){a=d.getStyle(a,b);return"number"===typeof a?a:parseFloat(a)||0};d.getComputedStyle=function(a){return a&&1===a.nodeType&&window.getComputedStyle(a)};d.position=function(a,b){return m.position(a,b)};d.getMarginBox=function(a,b){return m.getMarginBox(a,b)};d.getMarginExtents=function(a,
b){return m.getMarginExtents(a,b)};d.getContentBox=function(a,b){return m.getContentBox(a,b)};d.getPadBorderExtents=function(a,b){return m.getPadBorderExtents(a,b)};d.getPadExtents=function(a,b){return m.getPadExtents(a,b)};d.getBorderExtents=function(a,b){return m.getBorderExtents(a,b)};d.docScroll=function(){return m.docScroll()};d.create=function(a,b,c,e){return k.create(a,b,c,e)};d.toDom=function(a){return k.toDom(a)};d.place=function(a,b,c){return k.place(a,b,c)};d.empty=function(a){return k.empty(a)};
d.destroy=function(a){return k.destroy(a)};d.query=function(a,b){a=x(a,b);b=[];for(var c=0,e=a.length;c<e;c++)b.push(a[c]);return b};return d});