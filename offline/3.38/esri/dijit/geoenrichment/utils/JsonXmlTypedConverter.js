// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/JsonXmlTypedConverter",["dojo/_base/declare","./RegExpUtil"],function(t,p){return t(null,{parseJson:function(g,h){function k(b,c){if("string"===typeof b)d+="\x3c"+c+' type\x3d"string"\x3e'+p.encodeXML(b,!1)+"\x3c/"+c+"\x3e";else if("number"===typeof b)d+="\x3c"+c+' type\x3d"number"\x3e'+b+"\x3c/"+c+"\x3e";else if("boolean"===typeof b)d+="\x3c"+c+' type\x3d"boolean"\x3e'+b+"\x3c/"+c+"\x3e";else if(Array.isArray(b))l(b,c);else if(b&&"object"===typeof b){d+="\x3c"+
c+' type\x3d"object"\x3e';for(var a in b)k(b[a],a);d+="\x3c/"+c+"\x3e"}}function l(b,c){d+="\x3c"+c+' type\x3d"array"\x3e';b.forEach(function(a){k(a,"item")});d+="\x3c/"+c+"\x3e"}var m=h&&h.rootName||"root",d="";h&&h.addDocumentOptions&&(d+='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e');k(g,m);return d=decodeURIComponent(encodeURIComponent(d).replace("%19",""))},parseXml:function(g){function h(a){if(!a.attributes)return null;for(var e=0;e<a.attributes.length;e++){var f=a.attributes[e];if("type"===
f.name)return f.value}return null}function k(a,e){if(e.childNodes)for(var f=0,n=e.childNodes.length;f<n;f++){var q=e.childNodes[f],r=l(q);void 0!==r&&(a[q.nodeName]=r)}return a}function l(a){var e=h(a);if(a.nodeName&&e)switch(e){case "string":return a.childNodes[0]?p.decodeXML(a.childNodes[0].nodeValue):"";case "number":return Number(a.childNodes[0].nodeValue);case "boolean":return"true"===a.childNodes[0].nodeValue;case "object":return k({},a);case "array":return m([],a)}}function m(a,e){if(e.childNodes)for(var f=
0,n=e.childNodes.length;f<n;f++)a[f]=l(e.childNodes[f]);return a}var d;g=(new DOMParser).parseFromString(g,"text/xml").childNodes;for(var b=0;b<g.length;b++)if(1===g[b].nodeType){var c=g[b];break}c&&(g=h(c),"object"===g?k(d={},c):"array"===g&&m(d=[],c));return d}})()});