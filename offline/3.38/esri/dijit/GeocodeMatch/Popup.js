// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/GeocodeMatch/templates/Popup.html":"\x3cdiv\x3e\r\n  \x3cdiv  class\x3d\"esri-popup-con\" data-dojo-attach-point\x3d'esri_popupHeader'\x3e\r\n    \x3cdiv\x3e\x3cspan\x3e${i18n.popup.addressTitle}\x3c/span\x3e\x3c/div\x3e\r\n    \x3cp data-dojo-attach-point\x3d'_addressNode'\x3e${i18n.popup.loadingPH}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv  class\x3d\"esri-popup-con\" data-dojo-attach-point\x3d'esri_popupContent'\x3e\r\n    \x3cdiv\x3e\x3cspan\x3e${i18n.popup.locationTitle}\x3c/span\x3e\x3c/div\x3e\r\n    \x3cp data-dojo-attach-point\x3d'_x'\x3e\x3c/p\x3e\r\n    \x3cp data-dojo-attach-point\x3d'_y'\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\"esri-popup-button-con\"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d'_matchButtonNode' data-dojo-type\x3d\"dijit.form.Button\"\x3e${i18n.popup.matchButtonLabel}\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d'_discardButtonNode' data-dojo-type\x3d\"dijit.form.Button\"\x3e${i18n.popup.discardButtonLabel}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e"}});
define("esri/dijit/GeocodeMatch/Popup","dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Evented dojo/on dojo/uacss dojo/text!./templates/Popup.html dojo/i18n!../../nls/jsapi dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin ../../kernel ../../geometry/webMercatorUtils ../FeatureTable/dataUtils".split(" "),function(m,g,e,n,h,p,q,r,k,t,u,v,w,l){g=g([t,u,n],{addressString:null,geocodeMatch:null,graphic:null,layer:null,map:null,templateString:q,i18n:r.widgets.geocodeMatch,reverseRange:100,
_matchButton:null,_discardButton:null,constructor:function(a,b){if(a.address)if(b=a.address,"object"===typeof b){var c="",d;for(d in b)b.hasOwnProperty(d)&&(c+=b[d]+" ");this.addressString=c}else this.addressString=b;a.reverseRange&&(this.reverseRange=a.reverseRange)},postCreate:function(){this.inherited(arguments);this._setUpButtons();this._updateXY();this._updateAddress();this.graphic.attributes.matched?(this._discardButton.destroy(),this._matchButton.destroy()):this.addressString&&(this._discardButton.destroy(),
this._matchButton.set("disabled",!1))},startup:function(){this.inherited(arguments);this.emit("load",{matchButtonRef:this._matchButton,discardButtonRef:this._discardButton})},destroy:function(){this.inherited(arguments);m.forEach(this._listenerHandles,function(a){a.remove()})},_setUpButtons:function(){var a=this.geocodeMatch,b=this.graphic;this._matchButton=new k({label:this.i18n.popup.matchButtonLabel,class:"esri_PopupButton esri_matchButton",disabled:!0},this._matchButtonNode);this._discardButton=
new k({label:this.i18n.popup.discardButtonLabel,class:"esri_PopupButton esri_deleteButton"},this._discardButtonNode);this._listenerHandles=[h(this._matchButton,"click",e.hitch(this,function(){b.attributes.type===this.i18n.customLabel?a._matchCustomFeature(b):a._matchFeature(b.attributes.id);this.map.infoWindow.hide()})),h(this._discardButton,"click",e.hitch(this,function(){this.map._layers[this.layer.id].remove(b);this.map.infoWindow.hide()}))]},_updateXY:function(){var a=w.webMercatorToGeographic(this.graphic.geometry);
this._x.innerHTML=this.i18n.popup.xTitle+l.formatNumberForLocale(a.x);this._y.innerHTML=this.i18n.popup.yTitle+l.formatNumberForLocale(a.y)},_updateAddress:function(){var a=this._addressNode,b=this.geocodeMatch._locator;this.addressString?a.innerHTML=this.addressString:b.locationToAddress(this.graphic.geometry,this.reverseRange).then(e.hitch(this,function(c){c=c.address;this.graphic.attributes.reverseGeocodeResults=c;if("object"===typeof c){var d="",f;for(f in c)c.hasOwnProperty(f)&&null!==c[f]&&
"Loc_name"!==f&&(d+=c[f]+" ");a.innerHTML=d}else a.innerHTML=c;this._matchButton.set("disabled",!1)}),e.hitch(this,function(){a.innerHTML=this.i18n.popup.noAddress;this._matchButton.set("disabled",!1)}))}});p("extend-esri")&&e.setObject("dijit.GeocodeMatchPopup",g,v);return g});