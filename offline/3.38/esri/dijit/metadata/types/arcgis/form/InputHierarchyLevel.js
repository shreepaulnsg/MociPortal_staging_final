// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/metadata/types/arcgis/form/InputHierarchyLevel","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/query dijit/registry dojo/dom-class dojo/dom-style dojo/has ../../../../../kernel ./InputSelectCode dojo/i18n!../../../nls/i18nArcGIS".split(" "),function(l,p,n,q,h,k,e,w,r,t,u,x){l=l([u],{postCreate:function(){this.inherited(arguments);var a=this;this.own(q.subscribe("gxe/xnode-destroyed",function(c){try{c&&c.xnode&&"/metadata/mdHrLv"===c.xnode.gxePath&&a.emitInteractionOccurred()}catch(b){console.error(b)}}))},
emitInteractionOccurred:function(a){this.inherited(arguments);try{var c=this.parentXNode.gxeDocument;(c.isAgsISO19139||c.isAgsINSPIRE)&&this._checkLevelName();(c.isAgsISO19139||c.isAgsINSPIRE||c.isAgsNAP||c.isAgsFGDC)&&this._checkService()}catch(b){console.error(b)}},_checkLevelName:function(){var a=this.parentXNode.parentElement.parentElement.parentElement.domNode,c,b,f=this.parentXNode.gxeDocument;var d=!1;if(f.isAgsISO19139||f.isAgsINSPIRE)if(d=h("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",
a),d=n.some(d,function(g){if(b=k.byNode(g))if(c=b.inputWidget.getInputValue(),null!==c&&""!==c&&"005"!==c&&"006"!==c)return!0}),b=this._findFirstInputWgt("/metadata/mdHrLvName",a))a=b.parentXNode.multiplicityHeader.labelNode,d?(b.parentXNode.minOccurs=1,b.parentXNode.multiplicityHeader.minOccurs=1,e.remove(a,"gxeOptionalLabel"),e.add(a,"gxeMandatoryLabel")):(b.parentXNode.minOccurs=0,b.parentXNode.multiplicityHeader.minOccurs=0,e.remove(a,"gxeMandatoryLabel"),e.add(a,"gxeOptionalLabel")),b.emitInteractionOccurred()},
_checkQuality:function(){var a=this.parentXNode.parentElement.parentElement.parentElement.domNode,c,b,f,d=this.parentXNode.gxeDocument,g=f=!1,m=!1;if(d.isAgsISO19139||d.isAgsINSPIRE||d.isAgsNAP)f=h("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",a),n.forEach(f,function(v){if(b=k.byNode(v))c=b.inputWidget.getInputValue(),"005"==c?g=!0:"006"===c&&(m=!0)});if(d.isAgsISO19139||d.isAgsNAP)f=g||m,(b=this._findElement("/metadata/dqInfo",a))&&b.labelWidget&&(a=b.labelWidget.domNode,f?(b.minOccurs=
1,e.remove(a,"gxeOptionalLabel"),e.add(a,"gxeMandatoryLabel")):(b.minOccurs=0,e.remove(a,"gxeMandatoryLabel"),e.add(a,"gxeOptionalLabel")))},_checkService:function(){var a=this.parentXNode.parentElement.parentElement.parentElement.domNode,c,b,f;var d=this.parentXNode.gxeDocument;var g=f=!1;if(d.isAgsISO19139||d.isAgsINSPIRE||d.isAgsNAP||d.isAgsFGDC)f=h("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",a),n.forEach(f,function(m){if(b=k.byNode(m))c=b.inputWidget.getInputValue(),"014"==c&&(g=!0)});
if(d.isAgsISO19139||d.isAgsINSPIRE||d.isAgsNAP){f=g;if(b=this._findInputWgt("/metadata/dataIdInfo/svType/genericName",a))d=b.parentXNode.labelNode,f?(b.parentXNode.minOccurs=1,e.remove(d,"gxeOptionalLabel"),e.add(d,"gxeMandatoryLabel")):(b.parentXNode.minOccurs=0,e.remove(d,"gxeMandatoryLabel"),e.add(d,"gxeOptionalLabel")),b.emitInteractionOccurred();if(b=this._findInputWgt("/metadata/dataIdInfo/svCouplType/CouplTypCd/@value",a))d=b.parentXNode.parentElement.parentElement.labelNode,f?(b.parentXNode.minOccurs=
1,b.parentXNode.parentElement.minOccurs=1,b.parentXNode.parentElement.parentElement.minOccurs=1,e.remove(d,"gxeOptionalLabel"),e.add(d,"gxeMandatoryLabel")):(b.parentXNode.minOccurs=0,b.parentXNode.parentElement.minOccurs=0,b.parentXNode.parentElement.parentElement.minOccurs=0,e.remove(d,"gxeMandatoryLabel"),e.add(d,"gxeOptionalLabel")),b.emitInteractionOccurred()}},_findElement:function(a,c){return(a=h("[data-gxe-path\x3d'"+a+"']",c))&&1===a.length?a=k.byNode(a[0]):null},_findFirstInputWgt:function(a,
c){return(a=h("[data-gxe-path\x3d'"+a+"']",c))&&0<a.length&&(a=k.byNode(a[0]))?a.inputWidget:null},_findInputWgt:function(a,c){return(a=h("[data-gxe-path\x3d'"+a+"']",c))&&1===a.length&&(a=k.byNode(a[0]))?a.inputWidget:null}});r("extend-esri")&&p.setObject("dijit.metadata.types.arcgis.form.InputHierarchyLevel",l,t);return l});