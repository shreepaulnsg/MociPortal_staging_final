// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/metadata/types/arcgis/form/GeoExtentTool","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/query dijit/registry dojo/dom-construct dojo/has ../../../../../kernel ../../../form/tools/ClickableTool ../../../form/tools/GeoExtentDialog ../../../form/tools/GeoExtentView ../../../form/tools/geoExtentUtil".split(" "),function(e,n,y,p,q,r,t,u,v,w,x,f){e=e([v],{postCreate:function(){this.inherited(arguments)},startup:function(){if(!this._started){var a=this.findInputWidget();a&&
a.parentXNode&&a.parentXNode.gxeDocument&&a.parentXNode.gxeDocument.isViewOnly&&setTimeout(n.hitch(this,function(){this._handleRequest(a,!1)}),2E3)}},whenToolClicked:function(a,b){this._handleRequest(b,!0)},_findInputWgt:function(a,b){return(a=p("[data-gxe-path\x3d'"+a+"']",b))&&1===a.length&&(a=q.byNode(a[0]))?a.inputWidget:null},_findViewSection:function(a){return(a=p(".gxeGeoExtentSection .gxeGeoExtentViewSection",a))&&1===a.length?a[0]:null},_handleRequest:function(a,b){if(a&&a.parentXNode&&(a=
a.parentXNode.getParentElement())){var c=a.gxePath+"/",d=a.domNode,g=this._findInputWgt(c+"westBL",d),h=this._findInputWgt(c+"eastBL",d),k=this._findInputWgt(c+"northBL",d),l=this._findInputWgt(c+"southBL",d);g&&h&&k&&l&&(c=null,a.gxeDocument&&a.gxeDocument.isViewOnly?b||(c=this._findViewSection(d))&&new x({gxeDocument:a.gxeDocument,xmin:g.getInputValue(),ymin:l.getInputValue(),xmax:h.getInputValue(),ymax:k.getInputValue()},r.create("div",{},c)):b&&(b=new w({gxeDocument:a.gxeDocument,xmin:g.getInputValue(),
ymin:l.getInputValue(),xmax:h.getInputValue(),ymax:k.getInputValue(),onChange:n.hitch(this,function(m){g.setInputValue(f.formatCoordinate(m.xmin));h.setInputValue(f.formatCoordinate(m.xmax));k.setInputValue(f.formatCoordinate(m.ymax));l.setInputValue(f.formatCoordinate(m.ymin))})}),b.show()))}}});t("extend-esri")&&n.setObject("dijit.metadata.types.arcgis.form.GeoExtentTool",e,u);return e});