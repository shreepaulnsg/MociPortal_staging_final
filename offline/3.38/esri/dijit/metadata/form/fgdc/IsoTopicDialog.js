// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/metadata/form/fgdc/IsoTopicDialog","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-construct dojo/has dijit/_WidgetBase dojo/i18n!../../nls/i18nBase dojo/i18n!../../nls/i18nFgdc ../../base/etc/docUtil ../IsoTopicCategoryOptions dijit/Dialog ../../editor/util/OkCancelBar ../../../../kernel".split(" "),function(h,e,k,p,f,q,r,z,t,u,v,w,x,y){h=h([r],{checkBoxes:null,dialogTitle:t.idinfo.keywords.themektIsoTopicDialog,values:null,postCreate:function(){this.inherited(arguments);
this.checkBoxes=[]},onChange:function(b){},show:function(){var b=new v;b.fetchOptionWidgets().then(e.hitch(this,function(c){this._showDialog(b,c)}))},_addOption:function(b,c,a){c=this.id+"_chk"+c;var g=f.create("div",{"class":"gxeOption"},a);a=b.label;var l=b.value;b=k.some(this.values,function(d){if(d===l)return!0});var m={id:c,type:"checkbox",value:l};b&&(m.checked="checked");b=f.create("input",m,g);this.checkBoxes.push(b);c=f.create("label",{"for":c},g);u.setNodeText(c,a)},_applySelections:function(b){var c=
[];k.forEach(this.checkBoxes,function(a){a.checked&&c.push(a.value)});this.onChange(c);b.hide()},_showDialog:function(b,c){var a=null,g=f.create("div",{}),l=f.create("div",{"class":"gxeOptions"},g);k.forEach(c,function(d,n){this._addOption(d,n,l)},this);var m=new x({onOkClick:e.hitch(this,function(){a&&this._applySelections(a)}),onCancelClick:e.hitch(this,function(){a&&a.hide()})},f.create("div",{},g));a=new w({"class":"gxeDialog gxePopupDialog gxeIsoTopicDialog",title:this.dialogTitle,content:g});
this.isLeftToRight()||p.add(a.domNode,"gxeRtl");this.own(a.on("hide",e.hitch(this,function(){setTimeout(e.hitch(this,function(){try{b.destroyRecursive(!1),k.forEach(c,function(d){try{d.destroyRecursive(!1)}catch(n){console.error(n)}})}catch(d){console.error(d)}m.destroyRecursive(!1);a.destroyRecursive(!1);this.destroyRecursive(!1)}),300)})));a.show()}});q("extend-esri")&&e.setObject("dijit.metadata.form.fgdc.IsoTopicDialog",h,y);return h});