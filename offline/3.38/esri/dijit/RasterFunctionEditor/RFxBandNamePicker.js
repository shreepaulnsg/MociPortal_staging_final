// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/RasterFunctionEditor/templates/RFxBandNamePicker.html":"\x3cdiv class\x3d'esriRFxBandNamePicker'\x3e\r\n  \x3cdiv data-dojo-type\x3d'dijit/form/ComboBox' data-dojo-attach-point\x3d'_comboBox' data-dojo-attach-event\x3d'onChange: _handleComboBoxChange'\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n"}});
define("esri/dijit/RasterFunctionEditor/RFxBandNamePicker","dojo/_base/declare dojo/_base/lang dojo/has dojo/store/Memory dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../lang ../../kernel dojo/text!./templates/RFxBandNamePicker.html".split(" "),function(c,f,k,l,m,n,p,t,q,r){c=c([m,n,p],{templateString:r,postCreate:function(){this.inherited(arguments);this._setOptionsFromNBandsArg(this.nBandsArg);this._attachNBandsArgChangeEvent()},_attachNBandsArgChangeEvent:function(){this.nBandsArg&&
this.nBandsArg.input&&this.own(this.nBandsArg.input.on("change",f.hitch(this,this._setOptionsFromNBandsArg,this.nBandsArg)))},_setOptionsFromNBandsArg:function(a){if(a&&a.input&&"function"===typeof a.input.getSelectedLayer){var b=a.input.getSelectedLayer();if(b)if(this._setSelectReadOnly(!0),b.loaded)this._onLayerLoad(b);else b.on("load",f.hitch(this,function(){this._onLayerLoad(b)}));else this._setSelectReadOnly(!1),this._createFallbackOptions(this.value)}else this.set("options",this._createFallbackOptions(this.value))},
_onLayerLoad:function(a){var b=this._getBandNames(a.serviceRasterInfo||a.raster&&a.raster.rasterInfo);b=b||a.bandNames;this._setCurrentValue(b);this._populateComboBox(b)},_getBandNames:function(a){if(a){for(var b=a.keyProperties&&a.keyProperties.BandProperties,d=a.bandCount||0,h=[],g=0;g<d;g++)h.push(g);return h.map(function(e){return b&&b.length===a.bandCount?b[e]&&b[e].BandName||"Band_"+(e+1):"Band_"+(e+1)})}},_populateComboBox:function(a){if(a){for(var b=0,d=[];b<a.length;)d.push({id:b,name:a[b]}),
b++;this._setComboBoxStore(d)}},_createFallbackOptions:function(a){null!=a&&""!==a&&this._setComboBoxStore([{id:0,name:a}])},_setCurrentValue:function(a){a&&(!this.value||0>a.indexOf(this.value))&&(this.value=a[0])},_setComboBoxStore:function(a){a=new l({data:a,idProperty:"id"});this._comboBox.set("store",a);this._comboBox.set("value",this.value)},_setSelectReadOnly:function(a){this._comboBox.textbox.readOnly=a},_handleComboBoxChange:function(a){this.value=a}});k("extend-esri")&&f.setObject("dijit.RasterFunctionEditor.RFxBandNamePicker",
c,q);return c});