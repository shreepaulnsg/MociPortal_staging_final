// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/dijit/RasterFunctionEditor/RFxRasterDimensionSelect","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/store/Memory dojo/data/ObjectStore dojo/i18n!../../nls/jsapi dijit/form/Select ../../kernel".split(" "),function(d,h,f,k,l,m,n,p,q){d=d([p],{declaredClass:"esri.dijit.RasterFunctionEditor.RFxRasterDimensionSelect",allowedVariables:[],postCreate:function(){this.inherited(arguments);this._i18n=n.widgets.rasterFunctionEditor.RFxRasterDimensionSelect;this.setAllowedVariables=
this.setAllowedVariables.bind(this)},startup:function(){this.inherited(arguments);this.setDimensionOptions()},onRasterChange:function(){this.setDimensionOptions()},setAllowedVariables:function(a){this.allowedVariables=a;this.setDimensionOptions()},setDimensionOptions:function(){if(this.layerArg&&this.layerArg.input){var a=this.layerArg.input;this.set("labelAttr","alias");0<a.declaredClass.indexOf("RFxRasterInput")&&a.value&&(a=a.getSelectedLayer(a.get("value").name))&&this._setDimensionStore(a)}},
_removeDuplicates:function(a){return f.filter(a,function(e,b,g){return f.indexOf(g,e)===b})},_setDimensionStore:function(a){var e=[];a.getMultidimensionalInfo().then(h.hitch(this,function(b){b.variables&&b.variables.forEach(function(c){(this.allowedVariables&&this.allowedVariables.length?0<=this.allowedVariables.indexOf(c.name):1)&&c.dimensions&&c.dimensions.forEach(function(r){e.push(r.name)})}.bind(this));b=f.map(this._removeDuplicates(e),function(c){return{name:c,alias:c}});var g=new m(new l({data:b,
idProperty:"name"}));this.set("store",g);this.defaultValue&&this.set("value",this.defaultValue);this.emit("raster-dimension-select-update",b)}))}});k("extend-esri")&&h.setObject("dijit.RasterFunctionEditor.RFxRasterDimensionSelect",d,q);return d});