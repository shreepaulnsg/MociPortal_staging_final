// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/geometry/mathUtils",["dojo/_base/lang","dojo/has","../kernel","./Point"],function(q,v,w,p){function r(a,b,c){return a instanceof p?new p(a.x+c*(b.x-a.x),a.y+c*(b.y-a.y)):[a[0]+c*(b[0]-a[0]),a[1]+c*(b[1]-a[1])]}function l(a,b){return 1E-8>Math.abs(a-b)}function t(a,b,c,d){var e=l(a[0],b[0])?1E10:(a[1]-b[1])/(a[0]-b[0]),g=l(c[0],d[0])?1E10:(c[1]-d[1])/(c[0]-d[0]),f=a[1]-e*a[0],k=c[1]-g*c[0];if(l(e,g)){if(l(f,k)){if(l(a[0],b[0]))if(Math.min(a[1],b[1])<Math.max(c[1],d[1])||Math.max(a[1],
b[1])>Math.min(c[1],d[1])){a=(a[1]+b[1]+c[1]+d[1]-Math.min(a[1],b[1],c[1],d[1])-Math.max(a[1],b[1],c[1],d[1]))/2;var h=(a-f)/e}else return null;else if(Math.min(a[0],b[0])<Math.max(c[0],d[0])||Math.max(a[0],b[0])>Math.min(c[0],d[0]))h=(a[0]+b[0]+c[0]+d[0]-Math.min(a[0],b[0],c[0],d[0])-Math.max(a[0],b[0],c[0],d[0]))/2,a=e*h+f;else return null;return[h,a]}return null}l(e,1E10)?(h=a[0],a=g*h+k):l(g,1E10)?(h=c[0],a=e*h+f):(h=-(f-k)/(e-g),a=a[1]===b[1]?a[1]:c[1]===d[1]?c[1]:e*h+f);return[h,a]}var u={getLength:function(a,
b){var c=b.x-a.x;a=b.y-a.y;return Math.sqrt(c*c+a*a)},_getLength:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)},getPointOnLine:r,getMidpoint:function(a,b){return r(a,b,.5)},_equals:l,_getLineIntersection:t,getLineIntersection:function(a,b,c,d,e){(a=t([a.x,a.y],[b.x,b.y],[c.x,c.y],[d.x,d.y]))&&(a=new p(a[0],a[1],e));return a},_getLineIntersection2:function(a,b){var c=a[0],d=a[1],e=b[0],g=b[1];b=c[0];c=c[1];a=d[0];d=d[1];var f=e[0],k=e[1];e=g[0]-f;f=b-f;var h=a-b;g=g[1]-k;k=c-
k;var m=d-c,n=g*h-e*m;if(0===n)return!1;e=(e*k-g*f)/n;f=(h*k-m*f)/n;return 0<=e&&1>=e&&0<=f&&1>=f?[b+e*(a-b),c+e*(d-c)]:!1},_pointLineDistance:function(a,b){var c=b[0],d=b[1];b=c[0];var e=c[1];c=a[0];a=a[1];var g=d[0]-b,f=d[1]-e,k=c-b,h=a-e;d=Math.sqrt;var m=Math.pow,n=d(m(g,2)+m(f,2));k=(k*g+h*f)/(n*n);e+=k*f;return d(m(c-(b+k*g),2)+m(a-e,2))}};v("extend-esri")&&q.mixin(q.getObject("geometry",!0,w),u);return u});