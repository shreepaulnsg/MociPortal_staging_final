// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/geometry/jsonUtils","dojo/_base/lang dojo/has ../kernel ../lang ./Point ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(u,y,z,A,n,p,q,r,t){function v(a,b,c){var f=a.rings||a.paths,k,g;var e=0;for(k=f.length;e<k;e++){var l=f[e];var h=0;for(g=l.length;h<g;h++){var d=l[h];if(0<h)w+=d[0],x+=d[1];else{var w=d[0];var x=d[1]}d[0]=b(w);d[1]=c(x)}}return a}var B={esriGeometryPoint:function(a,b,c){a.x=b(a.x);a.y=c(a.y);return a},esriGeometryPolyline:v,esriGeometryPolygon:v,esriGeometryEnvelope:function(a,
b,c){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax);return a},esriGeometryMultipoint:function(a,b,c){var f=a.points,k;var g=0;for(k=f.length;g<k;g++){var e=f[g];if(0<g)l+=e[0],h+=e[1];else{var l=e[0];var h=e[1]}e[0]=b(l);e[1]=c(h)}return a}},C={esriGeometryPoint:function(a,b,c){a.x=b(a.x);a.y=c(a.y);return a}},m={createInstance:function(a,b){a=new a;b&&A.mixin(a,b);return a},fromJson:function(a){if(void 0!==a.x&&void 0!==a.y)return new n(a);if(void 0!==a.paths)return new p(a);
if(void 0!==a.rings)return new q(a);if(void 0!==a.points)return new r(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return new t(a)},getJsonType:function(a){return a instanceof n?"esriGeometryPoint":a instanceof p?"esriGeometryPolyline":a instanceof q?"esriGeometryPolygon":a instanceof t?"esriGeometryEnvelope":a instanceof r?"esriGeometryMultipoint":null},getGeometryType:function(a){return"esriGeometryPoint"===a?n:"esriGeometryPolyline"===a?p:"esriGeometryPolygon"===a?q:
"esriGeometryEnvelope"===a?t:"esriGeometryMultipoint"===a?r:null},supportsLazyUnquantization:function(a){return"esriGeometryPoint"===a||"esriGeometryPolyline"===a||"esriGeometryPolygon"===a||"esriGeometryMultipoint"===a},unquantizeFunction:function(a,b){if(a&&b){var c=b.translate[0],f=b.translate[1],k=b.scale[0],g=b.scale[1],e=function(d){return d*k+c},l=function(d){return f-d*g},h=B[a];return function(d){return d?h(d,e,l):null}}},unquantize:function(a,b,c){if(b=m.unquantizeFunction(b,c)){var f=a.length;
for(c=0;c<f;c++)b(a[c].geometry)}},quantizeFunction:function(a,b){if(a&&"esriGeometryPoint"===a&&b){var c=b.translate[0],f=b.translate[1],k=b.scale[0],g=b.scale[1],e=function(d){return Math.round((d-c)/k)},l=function(d){return Math.round((f-d)/g)},h=C[a];return function(d){return d?h(d,e,l):null}}},quantize:function(a,b,c){if(b=m.quantizeFunction(b,c)){var f=a.length;for(c=0;c<f;c++)b(a[c].geometry)}}};y("extend-esri")&&u.mixin(u.getObject("geometry",!0,z),m);return m});