// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/geometry/screenUtils","dojo/_base/array dojo/_base/lang dojo/sniff ../kernel ./Point ./ScreenPoint ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(C,D,E,G,w,H,y,z,A,B){var I=function(){return 9>E("ie")?function(b,q,r,a,h,e,g,c,l){var f=[],p=Math.round,u,v=g.length,x;for(u=0;u<v;u++){var m=g[u];var d=c?c(m[0][0],m[0][1],l):m[0];if(1<(x=m.length)){var k=p((d[0]-b)*r+h);var n=p((q-d[1])*a+e);d=c?c(m[1][0],m[1][1],l):m[1];var t=p((d[0]-b)*r+h);d=p((q-d[1])*a+e);f.push("M",
k+","+n,"L",t+","+d);for(t=2;t<x;t++)d=c?c(m[t][0],m[t][1],l):m[t],k=p((d[0]-b)*r+h),n=p((q-d[1])*a+e),f.push(k+","+n)}else k=p((d[0]-b)*r+h),n=p((q-d[1])*a+e),f.push("M",k+","+n)}return f}:function(b,q,r,a,h,e,g,c,l,f){var p=[],u,v,x=Math.round;var m=0;for(u=g?g.length:0;m<u;m++){var d=g[m];p.push("M");var k=0;for(v=d?d.length:0;k<v;k++){var n=c?c(d[k][0],d[k][1],l):d[k];p.push(x((n[0]-b)*r+h)+","+x((q-n[1])*a+e))}f||p.push("Z")}return p}}(),F={toScreenPoint:function(b,q,r,a,h){var e=b.spatialReference,
g=a.spatialReference,c=a.x;a=a.y;e&&g&&!e.equals(g)&&e._canProject(g)&&(e=e.isWebMercator()?w.lngLatToXY(c,a):w.xyToLngLat(c,a,!0),c=e[0],a=e[1]);c=(c-b.xmin)*(q/b.getWidth());a=(b.ymax-a)*(r/b.getHeight());h||(c=Math.round(c),a=Math.round(a));return new H(c,a)},toScreenGeometry:function(b,q,r,a){var h=b.xmin,e=b.ymax,g=q/b.getWidth(),c=r/b.getHeight(),l=C.forEach,f=Math.round;if(a instanceof w)return new w(f((a.x-h)*g),f((e-a.y)*c));if(a instanceof A){b=new A;var p=b.points;l(a.points,function(d,
k){p[k]=[f((d[0]-h)*g),f((e-d[1])*c)]});return b}if(a instanceof B)return new B(f((a.xmin-h)*g),f((e-a.ymin)*c),f((a.xmax-h)*g),f((e-a.ymax)*g));if(a instanceof y){b=new y;var u=b.paths,v;l(a.paths,function(d,k){v=u[k]=[];l(d,function(n,t){v[t]=[f((n[0]-h)*g),f((e-n[1])*c)]})});return b}if(a instanceof z){b=new z;var x=b.rings,m;l(a.rings,function(d,k){m=x[k]=[];l(d,function(n,t){m[t]=[f((n[0]-h)*g),f((e-n[1])*c)]})});return b}},_toScreenPath:function(b,q,r,a,h,e){var g=a instanceof y,c=b.spatialReference,
l=a.spatialReference;if(c&&l&&!c.equals(l)&&c._canProject(l))if(c.isWebMercator())var f=w.lngLatToXY;else{f=w.xyToLngLat;var p=!0}return I(b.xmin,b.ymax,q/b.getWidth(),r/b.getHeight(),h,e,g?a.paths:a.rings,f,p,g)},toMapPoint:function(b,q,r,a){return new w(b.xmin+a.x/(q/b.getWidth()),b.ymax-a.y/(r/b.getHeight()),b.spatialReference)},toMapGeometry:function(b,q,r,a){var h=b.xmin,e=b.ymax,g=b.spatialReference,c=q/b.getWidth(),l=r/b.getHeight(),f=C.forEach;if(a instanceof w)return new w(h+a.x/c,e-a.y/
l,g);if(a instanceof A){b=new A(g);var p=b.points;f(a.points,function(d,k){p[k]=[h+d[0]/c,e-d[1]/l]});return b}if(a instanceof B)return new B(h+a.xmin/c,e-a.ymin/l,h+a.xmax/c,e-a.ymax/l,g);if(a instanceof y){b=new y(g);var u=b.paths,v;f(a.paths,function(d,k){v=u[k]=[];f(d,function(n,t){v[t]=[h+n[0]/c,e-n[1]/l]})});return b}if(a instanceof z){b=new z(g);var x=b.rings,m;f(a.rings,function(d,k){m=x[k]=[];f(d,function(n,t){m[t]=[h+n[0]/c,e-n[1]/l]})});return b}}};E("extend-esri")&&D.mixin(D.getObject("geometry",
!0,G),F);return F});