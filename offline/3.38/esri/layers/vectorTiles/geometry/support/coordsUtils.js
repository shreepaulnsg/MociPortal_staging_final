// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/geometry/support/coordsUtils",["require","exports"],function(r,l){function p(a,c){var e=c[0]-a[0],d=c[1]-a[1];return 2<a.length&&2<c.length?(a=a[2]-c[2],Math.sqrt(e*e+d*d+a*a)):Math.sqrt(e*e+d*d)}function q(a,c,e){var d=a[0]+e*(c[0]-a[0]),g=a[1]+e*(c[1]-a[1]);return 2<a.length&&2<c.length?[d,g,a[2]+e*(c[2]-a[2])]:[d,g]}Object.defineProperty(l,"__esModule",{value:!0});l.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var c=a.hasZ,e=a.hasM;
if("point"===a.type)return e&&c?[a.x,a.y,a.z,a.m]:c?[a.x,a.y,a.z]:e?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var d=!1,g=!1;a.forEach(function(b){b.hasZ&&(d=!0);b.hasM&&(g=!0)});return a.map(function(b){var h=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(d&&b.hasZ)for(var m=
.5*(b.zmax-b.zmin),f=0;f<h.length;f++)h[f].push(m);if(g&&b.hasM)for(b=.5*(b.mmax-b.mmin),f=0;f<h.length;f++)h[f].push(b);return h})}return null};l.getLength=p;l.getMidpoint=function(a,c){return q(a,c,.5)};l.getPathLength=function(a){for(var c=a.length,e=0,d=0;d<c-1;++d)e+=p(a[d],a[d+1]);return e};l.getPointOnPath=function(a,c){if(0>=c)return a[0];for(var e=a.length,d=0,g=0;g<e-1;++g){var b=p(a[g],a[g+1]);if(c-d<b)return q(a[g],a[g+1],(c-d)/b);d+=b}return a[e-1]};l.isClockwise=function(a,c,e){for(var d=
a.length,g=0,b=0,h=0,m=0;m<d;m++){var f=a[m],k=a[(m+1)%d],n=2;g+=f[0]*k[1]-k[0]*f[1];2<f.length&&2<k.length&&e&&(b+=f[0]*k[2]-k[0]*f[2],n=3);f.length>n&&k.length>n&&c&&(h+=f[0]*k[n]-k[0]*f[n])}return 0>=g&&0>=b&&0>=h}});