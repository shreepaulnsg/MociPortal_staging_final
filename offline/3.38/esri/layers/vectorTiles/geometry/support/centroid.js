// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/geometry/support/centroid",["require","exports","../support/coordsUtils"],function(C,t,w){function x(a,e){if(!a||!a.length)return null;for(var b=[],f=[],d=e?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],g=0,m=a.length;g<m;g++){var n=B(a[g],e,d);n&&f.push(n)}f.sort(function(k,p){var c=k[2]-p[2];0===c&&e&&(c=k[4]-p[4]);return c});f.length&&(g=6*f[0][2],b[0]=f[0][0]/g,b[1]=f[0][1]/g,e&&(g=6*f[0][4],b[2]=0!==g?f[0][3]/
g:0),b[0]<d[0]||b[0]>d[1]||b[1]<d[2]||b[1]>d[3]||e&&(b[2]<d[4]||b[2]>d[5]))&&(b.length=0);if(!b.length)if(a=a[0]&&a[0].length?y(a[0],e):null)b[0]=a[0],b[1]=a[1],e&&2<a.length&&(b[2]=a[2]);else return null;return b}function B(a,e,b){for(var f=0,d=0,g=0,m=0,n=0,k=0,p=a.length-1;k<p;k++){var c=a[k],h=c[0],l=c[1],q=c[2],u=a[k+1],v=u[0],z=u[1],A=u[2],r=h*z-v*l;m+=r;f+=(h+v)*r;d+=(l+z)*r;e&&2<c.length&&2<u.length&&(r=h*A-v*q,g+=(q+A)*r,n+=r);h<b[0]&&(b[0]=h);h>b[1]&&(b[1]=h);l<b[2]&&(b[2]=l);l>b[3]&&(b[3]=
l);e&&(q<b[4]&&(b[4]=q),q>b[5]&&(b[5]=q))}0<m&&(m*=-1);0<n&&(n*=-1);if(!m)return null;a=[f,d,.5*m];e&&(a[3]=g,a[4]=.5*n);return a}function y(a,e){for(var b=e?[0,0,0]:[0,0],f=e?[0,0,0]:[0,0],d=0,g=0,m=0,n=0,k=0,p=a.length;k<p-1;k++){var c=a[k],h=a[k+1];if(c&&h){b[0]=c[0];b[1]=c[1];f[0]=h[0];f[1]=h[1];e&&2<c.length&&2<h.length&&(b[2]=c[2],f[2]=h[2]);var l=w.getLength(b,f);l&&(d+=l,c=w.getMidpoint(c,h),g+=l*c[0],m+=l*c[1],e&&2<c.length&&(n+=l*c[2]))}}return 0<d?e?[g/d,m/d,n/d]:[g/d,m/d]:a.length?a[0]:
null}Object.defineProperty(t,"__esModule",{value:!0});t.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};t.polygonCentroid=function(a){return a?x(a.rings,a.hasZ):null};t.ringsCentroid=x;t.lineCentroid=y});