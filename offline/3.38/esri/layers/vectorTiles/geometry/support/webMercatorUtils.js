// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/geometry/support/webMercatorUtils",["require","exports","../SpatialReference","./spatialReferenceUtils"],function(w,m,p,l){function q(a,b,c,f,d){if("point"===a.type&&"point"===d.type)b=b(a.x,a.y,r,0,f),d.x=b[0],d.y=b[1];else if("extent"===a.type&&"extent"===d.type){var e=b(a.xmin,a.ymin,r,0,f);d.xmin=e[0];d.ymin=e[1];b=b(a.xmax,a.ymax,r,0,f);d.xmax=b[0];d.ymax=b[1]}else if("polyline"===a.type&&"polyline"===d.type||"polygon"===a.type&&"polygon"===d.type){e="polyline"===
a.type?a.paths:a.rings;var g=[],k=void 0;for(a=0;a<e.length;a++){var n=e[a];k=[];g.push(k);for(var h=0;h<n.length;h++)k.push(b(n[h][0],n[h][1],[0,0],0,f)),2<n[h].length&&k[h].push(n[h][2]),3<n[h].length&&k[h].push(n[h][3])}"polyline"===d.type?d.paths=g:d.rings=g}else if("multipoint"===a.type&&"multipoint"===d.type){e=a.points;g=[];for(a=0;a<e.length;a++)g[a]=b(e[a][0],e[a][1],[0,0],0,f),2<e[a].length&&g[a].push(e[a][2]),3<e[a].length&&g[a].push(e[a][3]);d.points=g}else if("mesh"===a.type&&"mesh"===
d.type&&(e=a.vertexAttributes&&a.vertexAttributes.position,g=d.vertexAttributes&&d.vertexAttributes.position,e))for(k=[0,0],a=0;a<e.length;a+=3)b(e[a],e[a+1],k,0,f),g[a]=k[0],g[a+1]=k[1];d.spatialReference=c;return d}function v(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?l.equals(b,a)?!0:l.isWebMercator(b)&&l.isWGS84(a)||l.isWebMercator(a)&&l.isWGS84(b):!1}function t(a,b,c,f){void 0===c&&(c=[0,0]);void 0===f&&(f=0);89.99999<
b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;c[f]=111319.49079327169*a;c[f+1]=3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function u(a,b,c,f,d){void 0===c&&(c=[0,0]);void 0===f&&(f=0);void 0===d&&(d=!1);a=a/6378137*57.29577951308232;c[f]=d?a:a-360*Math.floor((a+180)/360);c[f+1]=57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)));return c}Object.defineProperty(m,"__esModule",{value:!0});var r=[0,0];m.canProject=v;m.project=function(a,b){var c=
a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return v(c,b)?l.equals(c,b)?a.clone():l.isWebMercator(b)?q(a,t,p.WebMercator,!1,a.clone()):l.isWGS84(b)?q(a,u,p.WGS84,!1,a.clone()):null:null};m.lngLatToXY=t;m.xyToLngLat=u;m.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=a.clone());return q(a,t,p.WebMercator,b,c)};m.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=a.clone());return q(a,u,p.WGS84,b,c)}});