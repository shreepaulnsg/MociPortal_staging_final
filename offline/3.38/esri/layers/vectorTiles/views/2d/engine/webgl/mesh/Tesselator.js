// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/views/2d/engine/webgl/mesh/Tesselator",["require","exports","../../../../../core/Logger","../../../../../core/libs/libtess/libtess"],function(e,f,g,c){Object.defineProperty(f,"__esModule",{value:!0});var h=g.getLogger("esri.views.2d.engine.webgl.mesh.templates.Tesselator");e=function(){function b(){this._indexCounter=this._currentVertexIndex=0;this._triangleIndices=[-1,-1,-1];this.glu=new c.GluTesselator;this.glu.gluTessCallback(c.gluEnum.GLU_TESS_BEGIN,this._begincallback.bind(this));
this.glu.gluTessCallback(c.gluEnum.GLU_TESS_VERTEX_DATA,this._vertexCallback.bind(this));this.glu.gluTessCallback(c.gluEnum.GLU_TESS_END,this._endcallback.bind(this));this.glu.gluTessCallback(c.gluEnum.GLU_TESS_COMBINE,this._combinecallback.bind(this));this.glu.gluTessCallback(c.gluEnum.GLU_TESS_ERROR,this._errorcallback.bind(this));this.glu.gluTessCallback(c.gluEnum.GLU_TESS_EDGE_FLAG,this._edgeCallback.bind(this));this.glu.gluTessProperty(c.gluEnum.GLU_TESS_WINDING_RULE,c.windingRule.GLU_TESS_WINDING_ODD)}
b.prototype.beginPolygon=function(a,d){this._triangleIndices[0]=-1;this._triangleIndices[1]=-1;this._triangleIndices[2]=-1;this._indexCounter=this._currentVertexIndex=0;this.glu.gluTessBeginPolygon(a);this._indices=d};b.prototype.endPolygon=function(){this.glu.gluTessEndPolygon()};b.prototype.beginContour=function(){this.glu.gluTessBeginContour()};b.prototype.endContour=function(){this.glu.gluTessEndContour()};b.prototype.addVertex=function(a,d){this.glu.gluTessVertex(a,d)};b.prototype._vertexCallback=
function(a,d){d[d.length]=a[0];d[d.length]=a[1];this._triangleIndices[this._currentVertexIndex]=-1;if(2<=this._currentVertexIndex){for(a=0;3>a;a++)-1===this._triangleIndices[a]&&(this._triangleIndices[a]=this._indexCounter++),this._indices[this._indices.length]=this._triangleIndices[a];this._currentVertexIndex=0}else this._currentVertexIndex++};b.prototype._begincallback=function(a){this._triangleIndices[0]=-1;this._triangleIndices[1]=-1;this._triangleIndices[2]=-1;this._currentVertexIndex=0};b.prototype._endcallback=
function(){this._currentVertexIndex=0};b.prototype._errorcallback=function(a){h.error("Encountered error during tesselation: "+a)};b.prototype._combinecallback=function(a,d,k){return[a[0],a[1],a[2]]};b.prototype._edgeCallback=function(a){};return b}();f.default=e});