// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/views/2d/engine/webgl/LineTess",["require","exports"],function(L,w){function U(f){var a={items:[],count:0},b;for(b=0;b<f;++b)a.items.push(void 0);return a}function V(f,a){A.vector[0]=f.vector[0];A.vector[1]=f.vector[1];A.texCoords[0]=f.texCoords[0];A.texCoords[1]=f.texCoords[1];A.direction[0]=f.direction[0];A.direction[1]=f.direction[1];A.base=f.base;f.vector[0]=a.vector[0];f.vector[1]=a.vector[1];f.texCoords[0]=a.texCoords[0];f.texCoords[1]=a.texCoords[1];f.direction[0]=
a.direction[0];f.direction[1]=a.direction[1];f.base=a.base;a.vector[0]=A.vector[0];a.vector[1]=A.vector[1];a.texCoords[0]=A.texCoords[0];a.texCoords[1]=A.texCoords[1];a.direction[0]=A.direction[0];a.direction[1]=A.direction[1];a.base=A.base}function M(f,a){return f[0]*a[0]+f[1]*a[1]}function W(f){return Math.sqrt(M(f,f))}function R(f,a){var b=W(a);f[0]=a[0]/b;f[1]=a[1]/b;return f}function z(f,a){f[0]=-a[1];f[1]=a[0];return f}function N(f,a){return f[0]*a[1]-f[1]*a[0]}function t(f,a){f[0]=-a[0];f[1]=
-a[1];return f}function x(f,a,b){f[0]=a[0]*b;f[1]=a[1]*b;return f}function C(f,a,b){f[0]=a[0]+b[0];f[1]=a[1]+b[1];return f}function Y(f,a){f=M(f,a);return.999<f?0:-.999>f?Math.PI:Math.acos(f)}function X(f,a,b,c,e){if(0===c)f.count=0;else{var g=W(a),h=x(l[0],a,1/g);b=x(l[1],b,1/g);h=Y(h,b);h=(e?-1:1)*h/c;e=Math.cos(h);h=Math.sin(h);b=a[0];var d=a[1];for(a=0;a<c-1;++a)g=b,b=e*g-h*d,d=h*g+e*d,f.items[a][0]=b,f.items[a][1]=d;f.count=c-1}}function G(f){var a=f.count,b=Math.floor(a/2),c;for(c=0;c<b;++c){var e=
f.items[c];f.items[c]=f.items[a-c-1];f.items[a-c-1]=e}}Object.defineProperty(w,"__esModule",{value:!0});var m;(function(f){f[f.ENTRY=1]="ENTRY";f[f.EXIT=2]="EXIT";f[f.CAP=3]="CAP"})(m=w.VectorRole||(w.VectorRole={}));var O;(function(f){f[f.START=1]="START";f[f.END=2]="END"})(O=w.CapPosition||(w.CapPosition={}));w.SYSTEM_MAG_LIMIT=3.8;w.MITER_SAFE_RADS=2*Math.acos(1/w.SYSTEM_MAG_LIMIT);var S=w.SYSTEM_MAG_LIMIT*w.SYSTEM_MAG_LIMIT,aa=16/(2*Math.PI);w.allocTriangles=function(f){var a={items:[],count:0},
b;for(b=0;b<f;++b)a.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return a};w.allocExtrudeVectors=function(){var f={items:[],count:0},a;for(a=0;30>a;++a)f.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});a={};a[m.ENTRY]=U(20);a[m.EXIT]=U(20);a[m.CAP]=U(20);
return{vectors:f,lists:a}};w.copyExtrudeVectors=function(f,a){var b;for(b=0;b<a.vectors.count;++b)f.vectors.items[b].vector[0]=a.vectors.items[b].vector[0],f.vectors.items[b].vector[1]=a.vectors.items[b].vector[1],f.vectors.items[b].texCoords[0]=a.vectors.items[b].texCoords[0],f.vectors.items[b].texCoords[1]=a.vectors.items[b].texCoords[1],f.vectors.items[b].direction[0]=a.vectors.items[b].direction[0],f.vectors.items[b].direction[1]=a.vectors.items[b].direction[1],f.vectors.items[b].base=a.vectors.items[b].base;
f.vectors.count=a.vectors.count;var c=a.lists[m.ENTRY],e=f.lists[m.ENTRY],g=a.lists[m.EXIT],h=f.lists[m.EXIT],d=a.lists[m.CAP],k=f.lists[m.CAP];for(b=0;b<c.count;++b)e.items[b]=c.items[b];e.count=c.count;for(b=0;b<g.count;++b)h.items[b]=g.items[b];h.count=g.count;for(b=0;b<d.count;++b)k.items[b]=d.items[b];k.count=d.count;f.capCenter=a.capCenter};var A={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};w.swapExtrudeVectors=V;var l=[];for(L=0;32>L;++L)l.push([void 0,
void 0]);var u=function(f){var a={items:[],count:0},b;for(b=0;b<f;++b)a.items.push([void 0,void 0]);return a}(16);w.length=W;w.normalize=R;w.getNumberOfSlices=function(f){return Math.max(Math.round(f*aa),1)};w.getRads=Y;w.reverse=G;var P=[void 0,void 0],Q=[void 0,void 0],H=[0,0],B=[0,0],E=[0,0],F=[0,0],I=Math.cos(Math.PI/4),J=Math.sin(Math.PI/4),Z=Math.sqrt(2);L=function(){function f(a){this._distanceAlongCorrection=a.distanceAlongCorrection}f.prototype.bridge=function(a,b,c){var e=b.vectors;b=b.lists[m.EXIT];
var g=c.vectors,h=c.lists[m.ENTRY];if(b.count===h.count+1){c=b.items;var d=e.items;var k=h.items;g=g.items}else if(h.count===b.count+1)c=h.items,d=g.items,k=b.items,g=e.items;else if(b.count===h.count)c=h.items,d=g.items,k=b.items,g=e.items;else{console.error("Cannot bridge "+b.count+" to "+h.count+".");a.count=0;return}e=b.count+h.count-2;a.count=e;P[0]=c;P[1]=k;Q[0]=d;Q[1]=g;for(b=0;b<e;++b)c=a.items[b],d=(b+0)%2,d=Q[d][P[d][Math.floor((b+0)/2)]],c.v1.vector[0]=d.vector[0],c.v1.vector[1]=d.vector[1],
c.v1.texCoords[0]=d.texCoords[0],c.v1.texCoords[1]=d.texCoords[1],c.v1.direction[0]=d.direction[0],c.v1.direction[1]=d.direction[1],c.v1.base=d.base,d=(b+1)%2,d=Q[d][P[d][Math.floor((b+1)/2)]],c.v2.vector[0]=d.vector[0],c.v2.vector[1]=d.vector[1],c.v2.texCoords[0]=d.texCoords[0],c.v2.texCoords[1]=d.texCoords[1],c.v2.direction[0]=d.direction[0],c.v2.direction[1]=d.direction[1],c.v2.base=d.base,d=(b+2)%2,d=Q[d][P[d][Math.floor((b+2)/2)]],c.v3.vector[0]=d.vector[0],c.v3.vector[1]=d.vector[1],c.v3.texCoords[0]=
d.texCoords[0],c.v3.texCoords[1]=d.texCoords[1],c.v3.direction[0]=d.direction[0],c.v3.direction[1]=d.direction[1],c.v3.base=d.base,d=c.v1.base&&c.v1.base.point||H,k=c.v2.base&&c.v2.base.point||H,g=c.v3.base&&c.v3.base.point||H,B[0]=d[0]+c.v1.vector[0],B[1]=d[1]+c.v1.vector[1],E[0]=k[0]+c.v2.vector[0],E[1]=k[1]+c.v2.vector[1],F[0]=g[0]+c.v3.vector[0],F[1]=g[1]+c.v3.vector[1],0>(E[0]-B[0])*(F[1]-B[1])-(F[0]-B[0])*(E[1]-B[1])||V(c.v2,c.v3)};f.prototype.pie=function(a,b){if(0===b.lists[m.CAP].count)a.count=
0;else if(1===b.lists[m.CAP].count)console.error("A single vector is not enough to define a pie."),a.count=0;else{a.count=b.lists[m.CAP].count-1;var c;for(c=0;c<a.count;++c){var e=a.items[c],g=b.vectors.items[b.lists[m.CAP].items[c]];e.v1.vector[0]=g.vector[0];e.v1.vector[1]=g.vector[1];e.v1.texCoords[0]=g.texCoords[0];e.v1.texCoords[1]=g.texCoords[1];e.v1.direction[0]=g.direction[0];e.v1.direction[1]=g.direction[1];e.v1.base=g.base;g=b.vectors.items[b.lists[m.CAP].items[c+1]];e.v2.vector[0]=g.vector[0];
e.v2.vector[1]=g.vector[1];e.v2.texCoords[0]=g.texCoords[0];e.v2.texCoords[1]=g.texCoords[1];e.v2.direction[0]=g.direction[0];e.v2.direction[1]=g.direction[1];e.v2.base=g.base;g=b.vectors.items[b.capCenter];e.v3.vector[0]=g.vector[0];e.v3.vector[1]=g.vector[1];e.v3.texCoords[0]=g.texCoords[0];e.v3.texCoords[1]=g.texCoords[1];e.v3.direction[0]=g.direction[0];e.v3.direction[1]=g.direction[1];e.v3.base=g.base;g=e.v1.base&&e.v1.base.point||H;var h=e.v2.base&&e.v2.base.point||H,d=e.v3.base&&e.v3.base.point||
H;B[0]=g[0]+e.v1.vector[0];B[1]=g[1]+e.v1.vector[1];E[0]=h[0]+e.v2.vector[0];E[1]=h[1]+e.v2.vector[1];F[0]=d[0]+e.v3.vector[0];F[1]=d[1]+e.v3.vector[1];0>(E[0]-B[0])*(F[1]-B[1])-(F[0]-B[0])*(E[1]-B[1])||V(e.v2,e.v3)}}};f.prototype.buttCap=function(a,b,c){this.fastMiterJoin(a,b,c)};f.prototype.roundCap=function(a,b,c,e,g,h){void 0===h&&(h=0);this.fastMiterJoin(a,b,c);c=e===O.START?0:1;e=e===O.START?1:0;a.capCenter=a.vectors.count;b=a.vectors.items[a.capCenter];b.vector[0]=0;b.vector[1]=0;b.texCoords[0]=
0;b.texCoords[1]=0;b.direction[0]=0;b.direction[1]=0;++a.vectors.count;X(u,a.vectors.items[c].vector,a.vectors.items[e].vector,g,!1);g=a.vectors.count;b=a.lists[m.CAP];b.items[0]=c;c=a.vectors.items[c].texCoords[1];var d=a.vectors.items[e].texCoords[1],k;for(k=0;k<u.count;++k){var r=h*(1-Math.abs(u.count/2-k)/(u.count/2)),y=c+k/(u.count-1)*(d-c),v=u.items[k],p=a.vectors.items[g+k];p.vector[0]=v[0];p.vector[1]=v[1];p.texCoords[0]=r;p.texCoords[1]=y;p.direction[0]=0;p.direction[1]=0;b.items[k+1]=g+
k}b.items[u.count+1]=e;b.count=u.count+2;a.vectors.count=g+u.count};f.prototype.squareCap=function(a,b,c,e){this.fastMiterJoin(a,b,c);b=e===O.START?0:1;c=e===O.START?1:0;var g=l[0],h=l[1],d=l[2],k=l[3];e=l[4];var r=a.vectors.items[b].vector;g[0]=I*r[0]-J*r[1];g[1]=J*r[0]+I*r[1];x(k,g,Z);h[0]=I*g[0]-J*g[1];h[1]=J*g[0]+I*g[1];d[0]=I*h[0]-J*h[1];d[1]=J*h[0]+I*h[1];x(e,d,Z);b=a.vectors.items[b];b.vector[0]=k[0];b.vector[1]=k[1];a=a.vectors.items[c];a.vector[0]=e[0];a.vector[1]=e[1]};f.prototype.fastMiterJoin=
function(a,b,c){c=z(l[0],c);b=t(l[1],c);var e=a.vectors.items[0];e.vector[0]=c[0];e.vector[1]=c[1];e.texCoords[0]=0;e.texCoords[1]=-1;e.direction[0]=0;e.direction[1]=0;c=a.vectors.items[1];c.vector[0]=b[0];c.vector[1]=b[1];c.texCoords[0]=0;c.texCoords[1]=1;c.direction[0]=0;c.direction[1]=0;a.vectors.count=2;b=a.lists[m.ENTRY];b.items[0]=0;b.items[1]=1;b.count=2;b=a.lists[m.EXIT];b.items[0]=0;b.items[1]=1;b.count=2;a.lists[m.CAP].count=0;a.capCenter=void 0};f.prototype.miterJoin=function(a,b,c){var e=
z(l[0],b),g=z(l[1],c),h=l[2];h[0]=e[0]+g[0];h[1]=e[1]+g[1];g=R(l[3],h);e=M(g,e);g=x(l[4],g,1/e);e=t(l[5],g);this._distanceAlongCorrection?(h=a.vectors.items[0],h.vector[0]=g[0],h.vector[1]=g[1],h.texCoords[0]=0,h.texCoords[1]=-1,h.direction[0]=b[0],h.direction[1]=b[1],h=a.vectors.items[1],h.vector[0]=e[0],h.vector[1]=e[1],h.texCoords[0]=0,h.texCoords[1]=1,h.direction[0]=b[0],h.direction[1]=b[1],b=a.vectors.items[2],b.vector[0]=g[0],b.vector[1]=g[1],b.texCoords[0]=0,b.texCoords[1]=-1,b.direction[0]=
c[0],b.direction[1]=c[1],b=a.vectors.items[3],b.vector[0]=e[0],b.vector[1]=e[1],b.texCoords[0]=0,b.texCoords[1]=1,b.direction[0]=c[0],b.direction[1]=c[1],a.vectors.count=4,c=a.lists[m.ENTRY],c.items[0]=0,c.items[1]=1,c.count=2,c=a.lists[m.EXIT],c.items[0]=2,c.items[1]=3):(h=a.vectors.items[0],h.vector[0]=g[0],h.vector[1]=g[1],h.texCoords[0]=0,h.texCoords[1]=-1,h.direction[0]=0,h.direction[1]=0,h=a.vectors.items[1],h.vector[0]=e[0],h.vector[1]=e[1],h.texCoords[0]=0,h.texCoords[1]=1,h.direction[0]=
0,h.direction[1]=0,a.vectors.count=2,c=a.lists[m.ENTRY],c.items[0]=0,c.items[1]=1,c.count=2,c=a.lists[m.EXIT],c.items[0]=0,c.items[1]=1);c.count=2;a.lists[m.CAP].count=0;a.capCenter=void 0};f.prototype.bevelJoin=function(a,b,c,e){var g=e*e;e=N(b,c);var h=0<e?[-1,1]:[1,-1],d=h[0];h=h[1];var k=0<e?t(l[0],z(l[1],b)):z(l[2],b),r=0<e?t(l[3],z(l[4],c)):z(l[5],c),y=l[6];y[0]=k[0]+r[0];y[1]=k[1]+r[1];var v=R(l[7],y),p=t(l[8],v),n=M(v,k);y=N(v,k);var D=Math.abs(y/n);y=1+D*D;var q=y<S?[D,this._distanceAlongCorrection]:
[Math.sqrt(S-1),!0],T=q[0];q=q[1];var K=y<g?[D,this._distanceAlongCorrection]:[Math.sqrt(g-1),!0];D=K[0];(K=K[1])&&q?(q=a.vectors.items[0],C(q.vector,t(l[9],k),x(l[10],t(l[11],b),T)),q.texCoords[0]=0,q.texCoords[1]=d,q.direction[0]=this._distanceAlongCorrection?b[0]:0,q.direction[1]=this._distanceAlongCorrection?b[1]:0,p=a.vectors.items[1],C(p.vector,t(l[12],r),x(l[13],c,T)),p.texCoords[0]=0,p.texCoords[1]=d,p.direction[0]=this._distanceAlongCorrection?c[0]:0,p.direction[1]=this._distanceAlongCorrection?
c[1]:0,d=a.vectors.items[2],d.vector[0]=0,d.vector[1]=0,d.texCoords[0]=0,d.texCoords[1]=0,d.direction[0]=0,d.direction[1]=0,d=a.vectors.items[3],C(d.vector,k,x(l[14],b,D)),d.texCoords[0]=0,d.texCoords[1]=h,d.direction[0]=this._distanceAlongCorrection?b[0]:0,d.direction[1]=this._distanceAlongCorrection?b[1]:0,b=a.vectors.items[4],C(b.vector,r,x(l[15],t(l[16],c),D)),b.texCoords[0]=0,b.texCoords[1]=h,b.direction[0]=this._distanceAlongCorrection?c[0]:0,b.direction[1]=this._distanceAlongCorrection?c[1]:
0,a.vectors.count=5,c=a.lists[m.ENTRY],c.items[0]=0,c.items[1]=2,c.items[2]=3,c.count=3,c=a.lists[m.EXIT],c.items[0]=1,c.items[1]=2,c.items[2]=4,c.count=3,y<g?(g=a.lists[m.CAP],g.count=0,a.capCenter=void 0):(g=a.lists[m.CAP],g.items[0]=3,g.items[1]=4,g.count=2,a.capCenter=2)):!K&&q?(q=a.vectors.items[0],C(q.vector,t(l[9],k),x(l[10],t(l[11],b),T)),q.texCoords[0]=0,q.texCoords[1]=d,q.direction[0]=this._distanceAlongCorrection?b[0]:0,q.direction[1]=this._distanceAlongCorrection?b[1]:0,p=a.vectors.items[1],
C(p.vector,t(l[12],r),x(l[13],c,T)),p.texCoords[0]=0,p.texCoords[1]=d,p.direction[0]=this._distanceAlongCorrection?c[0]:0,p.direction[1]=this._distanceAlongCorrection?c[1]:0,d=a.vectors.items[2],d.vector[0]=0,d.vector[1]=0,d.texCoords[0]=0,d.texCoords[1]=0,d.direction[0]=0,d.direction[1]=0,d=a.vectors.items[3],x(d.vector,v,1/n),d.texCoords[0]=0,d.texCoords[1]=h,d.direction[0]=0,d.direction[1]=0,a.vectors.count=4,c=a.lists[m.ENTRY],c.items[0]=0,c.items[1]=2,c.items[2]=3,c.count=3,c=a.lists[m.EXIT],
c.items[0]=1,c.items[1]=2,c.items[2]=3,c.count=3,a.lists[m.CAP].count=0,a.capCenter=void 0):K&&!q?(q=a.vectors.items[0],x(q.vector,p,1/n),q.texCoords[0]=0,q.texCoords[1]=d,q.direction[0]=0,q.direction[1]=0,p=a.vectors.items[1],p.vector[0]=0,p.vector[1]=0,p.texCoords[0]=0,p.texCoords[1]=0,p.direction[0]=0,p.direction[1]=0,d=a.vectors.items[2],C(d.vector,k,x(l[9],b,D)),d.texCoords[0]=0,d.texCoords[1]=h,d.direction[0]=this._distanceAlongCorrection?b[0]:0,d.direction[1]=this._distanceAlongCorrection?
b[1]:0,d=a.vectors.items[3],C(d.vector,r,x(l[10],t(l[11],c),D)),d.texCoords[0]=0,d.texCoords[1]=h,d.direction[0]=this._distanceAlongCorrection?c[0]:0,d.direction[1]=this._distanceAlongCorrection?c[1]:0,a.vectors.count=4,c=a.lists[m.ENTRY],c.items[0]=0,c.items[1]=1,c.items[2]=2,c.count=3,c=a.lists[m.EXIT],c.items[0]=0,c.items[1]=1,c.items[2]=3,c.count=3,y<g?(g=a.lists[m.CAP],g.count=0,a.capCenter=void 0):(g=a.lists[m.CAP],g.items[0]=2,g.items[1]=3,g.count=2,a.capCenter=1)):K||q||(q=a.vectors.items[0],
x(q.vector,p,1/n),q.texCoords[0]=0,q.texCoords[1]=d,q.direction[0]=0,q.direction[1]=0,p=a.vectors.items[1],x(p.vector,v,1/n),p.texCoords[0]=0,p.texCoords[1]=h,p.direction[0]=0,p.direction[1]=0,a.vectors.count=2,c=a.lists[m.ENTRY],c.items[0]=0,c.items[1]=1,c.count=2,c=a.lists[m.EXIT],c.items[0]=0,c.items[1]=1,c.count=2,a.lists[m.CAP].count=0,a.capCenter=void 0);0>e&&(G(a.lists[m.ENTRY]),G(a.lists[m.EXIT]))};f.prototype.roundJoin=function(a,b,c,e){var g=N(b,c),h=0<g?[-1,1]:[1,-1],d=h[0];h=h[1];var k=
0<g?t(l[0],z(l[1],b)):z(l[2],b),r=0<g?t(l[3],z(l[4],c)):z(l[5],c),y=l[6];y[0]=k[0]+r[0];y[1]=k[1]+r[1];var v=R(l[7],y);y=t(l[8],v);var p=M(v,k);v=N(v,k);v=Math.abs(v/p);var n=1+v*v<S?[v,this._distanceAlongCorrection]:[Math.sqrt(S-1),!0];v=n[0];n[1]?(n=a.vectors.items[0],n.vector[0]=k[0],n.vector[1]=k[1],n.texCoords[0]=0,n.texCoords[1]=h,n.direction[0]=0,n.direction[1]=0,n=a.vectors.items[1],n.vector[0]=r[0],n.vector[1]=r[1],n.texCoords[0]=0,n.texCoords[1]=h,n.direction[0]=0,n.direction[1]=0,n=a.vectors.items[2],
C(n.vector,t(l[9],k),x(l[10],t(l[11],b),v)),n.texCoords[0]=0,n.texCoords[1]=d,n.direction[0]=this._distanceAlongCorrection?b[0]:0,n.direction[1]=this._distanceAlongCorrection?b[1]:0,b=a.vectors.items[3],C(b.vector,t(l[12],r),x(l[13],c,v)),b.texCoords[0]=0,b.texCoords[1]=d,b.direction[0]=this._distanceAlongCorrection?c[0]:0,b.direction[1]=this._distanceAlongCorrection?c[1]:0,c=a.vectors.items[4],c.vector[0]=0,c.vector[1]=0,c.texCoords[0]=0,c.texCoords[1]=0,c.direction[0]=0,c.direction[1]=0,a.vectors.count=
5,c=a.lists[m.ENTRY],c.items[0]=2,c.items[1]=4,c.items[2]=0,c.count=3,c=a.lists[m.EXIT],c.items[0]=3,c.items[1]=4,c.items[2]=1,c.count=3,a.capCenter=4):(n=a.vectors.items[0],n.vector[0]=k[0],n.vector[1]=k[1],n.texCoords[0]=0,n.texCoords[1]=h,n.direction[0]=0,n.direction[1]=0,n=a.vectors.items[1],n.vector[0]=r[0],n.vector[1]=r[1],n.texCoords[0]=0,n.texCoords[1]=h,n.direction[0]=0,n.direction[1]=0,n=a.vectors.items[2],x(n.vector,y,1/p),n.texCoords[0]=0,n.texCoords[1]=d,n.direction[0]=0,n.direction[1]=
0,b=a.vectors.items[3],b.vector[0]=0,b.vector[1]=0,b.texCoords[0]=0,b.texCoords[1]=0,b.direction[0]=0,b.direction[1]=0,a.vectors.count=4,c=a.lists[m.ENTRY],c.items[0]=2,c.items[1]=3,c.items[2]=0,c.count=3,c=a.lists[m.EXIT],c.items[0]=2,c.items[1]=3,c.items[2]=1,c.count=3,a.capCenter=3);X(u,k,r,e,0>g);e=a.vectors.count;k=a.lists[m.CAP];for(r=k.items[0]=0;r<u.count;++r)c=u.items[r],d=a.vectors.items[e+r],d.vector[0]=c[0],d.vector[1]=c[1],d.texCoords[0]=0,d.texCoords[1]=h,d.direction[0]=0,d.direction[1]=
0,k.items[r+1]=e+r;k.items[u.count+1]=1;k.count=u.count+2;a.vectors.count=e+u.count;0>g&&(G(a.lists[m.ENTRY]),G(a.lists[m.EXIT]))};f.prototype.unitRoundJoin=function(a,b,c,e){var g=N(b,c),h=0<g?[-1,1]:[1,-1],d=h[0];h=h[1];b=0<g?t(l[0],z(l[1],b)):z(l[2],b);c=0<g?t(l[3],z(l[4],c)):z(l[5],c);var k=a.vectors.items[0];k.vector[0]=b[0];k.vector[1]=b[1];k.texCoords[0]=0;k.texCoords[1]=h;k.direction[0]=0;k.direction[1]=0;k=a.vectors.items[1];k.vector[0]=c[0];k.vector[1]=c[1];k.texCoords[0]=0;k.texCoords[1]=
h;k.direction[0]=0;k.direction[1]=0;k=a.vectors.items[2];t(k.vector,b);k.texCoords[0]=0;k.texCoords[1]=d;k.direction[0]=0;k.direction[1]=0;k=a.vectors.items[3];t(k.vector,c);k.texCoords[0]=0;k.texCoords[1]=d;k.direction[0]=0;k.direction[1]=0;d=a.vectors.items[4];d.vector[0]=0;d.vector[1]=0;d.texCoords[0]=0;d.texCoords[1]=0;d.direction[0]=0;d.direction[1]=0;a.vectors.count=5;d=a.lists[m.ENTRY];d.items[0]=2;d.items[1]=0;d.count=2;d=a.lists[m.EXIT];d.items[0]=3;d.items[1]=1;d.count=2;a.capCenter=4;X(u,
b,c,e,0>g);e=a.vectors.count;b=a.lists[m.CAP];for(d=b.items[0]=0;d<u.count;++d)c=u.items[d],k=a.vectors.items[e+d],k.vector[0]=c[0],k.vector[1]=c[1],k.texCoords[0]=0,k.texCoords[1]=h,k.direction[0]=0,k.direction[1]=0,b.items[d+1]=e+d;b.items[u.count+1]=1;b.count=u.count+2;a.vectors.count=e+u.count;0>g&&(G(a.lists[m.ENTRY]),G(a.lists[m.EXIT]))};f.prototype.rectJoin=function(a,b,c){b=z(l[0],b);c=z(l[1],c);var e=a.vectors.items[0];e.vector[0]=b[0];e.vector[1]=b[1];e.texCoords[0]=0;e.texCoords[1]=-1;
e.direction[0]=0;e.direction[1]=0;e=a.vectors.items[1];e.vector[0]=c[0];e.vector[1]=c[1];e.texCoords[0]=0;e.texCoords[1]=-1;e.direction[0]=0;e.direction[1]=0;e=a.vectors.items[2];t(e.vector,b);e.texCoords[0]=0;e.texCoords[1]=1;e.direction[0]=0;e.direction[1]=0;b=a.vectors.items[3];t(b.vector,c);b.texCoords[0]=0;b.texCoords[1]=1;b.direction[0]=0;b.direction[1]=0;a.vectors.count=4;b=a.lists[m.ENTRY];b.items[0]=0;b.items[1]=2;b.count=2;b=a.lists[m.EXIT];b.items[0]=1;b.items[1]=3;b.count=2;a.capCenter=
void 0};return f}();w.Tessellator=L});