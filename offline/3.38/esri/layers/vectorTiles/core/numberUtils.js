// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/core/numberUtils",["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(r,t){function u(c,a){return c-a}var v=/^-?(\d+)(\.(\d+))?$/i,w=new RegExp("\\"+t.decimal+"0+$","g"),x=/(\d)0*$/g,m={numDigits:function(c){var a=String(c),b=a.match(v);c={integer:0,fractional:0};b&&b[1]?(c.integer=b[1].split("").length,c.fractional=b[3]?b[3].split("").length:0):-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b&&(a=Number(a),b=Number(b),(c=0<b)||(b=Math.abs(b)),
a=m.numDigits(a),c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b),c=a));return c},percentChange:function(c,a,b,d){var l={previous:null,next:null};if(null!=b){var f=c-b;l.previous=Math.floor(Math.abs(100*(a-b-f)/f))}null!=d&&(f=d-c,l.next=Math.floor(Math.abs(100*(d-a-f)/f)));return l},round:function(c,a){c=c.slice(0);var b,d,l=a&&null!=a.tolerance?a.tolerance:2,f=a&&a.indexes,y=a&&null!=a.strictBounds?a.strictBounds:!1;if(f)f.sort(u);
else for(f=[],b=0;b<c.length;b++)f.push(b);for(b=0;b<f.length;b++){var h=f[b];a=c[h];var z=0===h?null:c[h-1];var A=h===c.length-1?null:c[h+1];var n=m.numDigits(a);if(n=n.fractional){var p=0;for(d=!1;p<=n&&!d;){var g=void 0;var e=void 0;g=a;d=p;e=Number(g.toFixed(d));e<g?g=e+1/Math.pow(10,d):(g=e,e-=1/Math.pow(10,d));e=Number(e.toFixed(d));g=Number(g.toFixed(d));e=[e,g];e=y&&0===b?e[1]:e[0];g=d=d=void 0;var q=l,k=m.percentChange(a,e,z,A);g=null==k.previous||k.previous<=q;d=null==k.next||k.next<=q;
d=g&&d||k.previous+k.next<=2*q;p++}d&&(c[h]=e)}}return c},format:function(c,a){a=a||{places:20,round:-1};(c=r.format(c,a))&&(c=c.replace(x,"$1").replace(w,""));return c}};return m});