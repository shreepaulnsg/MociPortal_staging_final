// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/core/workers/utils",["require","exports","dojo/has"],function(l,c,h){function f(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.CANCEL=7]="CANCEL";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT"})(c.MessageType||
(c.MessageType={}));var k=0;c.newJobId=function(){return k++};c.isTranferableResult=f;c.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};c.postMessage=function(a,d,b,e){2===arguments.length||void 0===b&&void 0===e?a.postMessage(d):(h("esri-workers-supports-transfer-arraybuffer")||(e?(e=e.filter(function(g){return!(g instanceof ArrayBuffer)}),e.length||(e=null)):f(b)&&b.transferList&&(b.transferList=
b.transferList.filter(function(g){return!(g instanceof ArrayBuffer)}),b.transferList.length||(b.transferList=null))),e?(d.data=b,a.postMessage(d,e)):f(b)?(d.data=b.result,b.transferList?a.postMessage(d,b.transferList):a.postMessage(d)):(d.data=b,a.postMessage(d)))};c.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}});