// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/core/lang","dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale dojo/i18n!../nls/common".split(" "),function(u,f,v,w,x,y){function n(a){return void 0!==a&&null!==a}function q(a){return n(a)?a:""}function l(a,c,b){var d=b.match(/([^\(]+)(\([^\)]+\))?/i),e=f.trim(d[1]);b=c[a];d=JSON.parse((d[2]?f.trim(d[2]):"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z_]+)\s*:/gi,'$1"$2":').replace(/"\s*:\s*'/gi,'":"').replace(/'\s*(,|\})/gi,
'"$1'));var g=d.utcOffset;if(-1===z.indexOf(e))e=f.getObject(e),f.isFunction(e)&&(b=e(b,a,c,d));else if("number"===typeof b||"string"===typeof b&&b&&!isNaN(Number(b)))switch(b=Number(b),e){case "NumberFormat":a=f.mixin({},d);c=parseFloat(a.places);if(isNaN(c)||0>c)a.places=Infinity;return w.format(b,a);case "DateString":b=new Date(b);if(d.local||d.systemLocale)return d.systemLocale?b.toLocaleDateString()+(d.hideTime?"":" "+b.toLocaleTimeString()):b.toDateString()+(d.hideTime?"":" "+b.toTimeString());
b=b.toUTCString();d.hideTime&&(b=b.replace(/\s+\d\d:\d\d:\d\d\s+(utc|gmt)/i,""));return b;case "DateFormat":return b=new Date(b),n(g)&&(b=v.add(b,"minute",b.getTimezoneOffset()-g)),x.format(b,d)}return q(b)}function r(a,c){var b;if(c)for(b in a)a.hasOwnProperty(b)&&(void 0===a[b]?delete a[b]:a[b]instanceof Object&&r(a[b],!0));else for(b in a)a.hasOwnProperty(b)&&void 0===a[b]&&delete a[b];return a}function p(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a instanceof Int8Array||a instanceof
Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array||a instanceof Date)return new a.constructor(a);if(a instanceof ArrayBuffer)return a.slice(0,a.byteLength);if("function"===typeof a.clone)a=a.clone();else if("function"===typeof a.map&&"function"===typeof a.forEach)a=a.map(p);else if("function"===typeof a.notifyChange&&"function"===typeof a.watch)a=a.clone();
else{var c={},b,d={};for(b in a){var e=a[b];var g=!(b in d)||d[b]!==e;if(!(b in c)||c[b]!==e&&g)c[b]=p?p(e):e}a=c}return a}var z=["NumberFormat","DateString","DateFormat"],t=/<\/?[^>]+>/g;return{equals:function(a,c){return a===c||"number"===typeof a&&isNaN(a)&&"number"===typeof c&&isNaN(c)||f.isFunction((a||{}).getTime)&&f.isFunction((c||{}).getTime)&&a.getTime()==c.getTime()||f.isFunction((a||{}).equals)&&a.equals(c)||f.isFunction((c||{}).equals)&&c.equals(a)||!1},mixin:f.mixin,valueOf:function(a,
c){for(var b in a)if(a[b]==c)return b;return null},stripTags:function(a){if(a){var c=typeof a;if("string"===c)a=a.replace(t,"");else if("object"===c)for(var b in a)(c=a[b])&&"string"===typeof c&&(c=c.replace(t,"")),a[b]=c}return a},substitute:function(a,c,b){if(n(b))if(f.isObject(b)){var d=b.first;var e=b.dateFormat;var g=b.numberFormat}else d=b;if(c&&"{*}"!==c)return f.replace(c,f.hitch({obj:a},function(m,h){m=h.split(":");return 1<m.length?(h=m[0],m.shift(),l(h,this.obj,m.join(":"))):e&&-1!==(e.properties||
[]).indexOf(h)?l(h,this.obj,e.formatter||"DateString"):g&&-1!==(g.properties||[]).indexOf(h)?l(h,this.obj,g.formatter||"NumberFormat"):q(this.obj[h])}));c=[];var k;c.push('\x3ctable class\x3d"esri-widget__table" summary\x3d"'+y.fieldsSummary+'"\x3e\x3ctbody\x3e');for(k in a)if(b=a[k],e&&-1!==(e.properties||[]).indexOf(k)?b=l(k,a,e.formatter||"DateString"):g&&-1!==(g.properties||[]).indexOf(k)&&(b=l(k,a,g.formatter||"NumberFormat")),c.push("\x3ctr\x3e\x3cth\x3e"+k+"\x3c/th\x3e\x3ctd\x3e"+q(b)+"\x3c/td\x3e\x3c/tr\x3e"),
d)break;c.push("\x3c/tbody\x3e\x3c/table\x3e");return c.join("")},filter:function(a,c,b){c=[f.isString(a)?a.split(""):a,b||u.global,f.isString(c)?new Function("item","index","array",c):c];b={};var d;a=c[0];for(d in a)c[2].call(c[d],a[d],d,a)&&(b[d]=a[d]);return b},startsWith:function(a,c,b){b=b||0;return a.indexOf(c,b)===b},endsWith:function(a,c,b){if("number"!==typeof b||!isFinite(b)||Math.floor(b)!==b||b>a.length)b=a.length;b-=c.length;a=a.indexOf(c,b);return-1!==a&&a===b},isDefined:n,fixJson:r,
clone:p}});