// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/arcade/functions/fieldStats",["require","exports","../languageUtils"],function(q,h,d){function m(c){for(var a=0,b=0;b<c.length;b++)a+=c[b];return a/c.length}function n(c){for(var a=m(c),b=0,f=0;f<c.length;f++)b+=Math.pow(a-c[f],2);return b/c.length}Object.defineProperty(h,"__esModule",{value:!0});h.calculateStat=h.decodeStatType=void 0;h.decodeStatType=function(c){switch(c.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";
case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};h.calculateStat=function(c,a,b){void 0===b&&(b=1E3);switch(c.toLowerCase()){case "distinct":a:{c=b;b=[];for(var f={},k=[],g=0;g<a.length;g++){if(void 0!==a[g]&&null!==a[g]&&a[g]!==d.voidOperation){var e=a[g];if(d.isNumber(e)||d.isString(e))void 0===f[e]&&(b.push(e),f[e]=1);else{for(var p=!1,l=0;l<k.length;l++)!0===d.equalityTest(k[l],e)&&(p=!0);!1===p&&(k.push(e),
b.push(e))}}if(b.length>=c&&-1!==c){a=b;break a}}a=b}return a;case "avg":case "mean":return m(d.toNumberArray(a));case "min":return Math.min.apply(Math,d.toNumberArray(a));case "sum":a=d.toNumberArray(a);for(b=c=0;b<a.length;b++)c+=a[b];return c;case "max":return Math.max.apply(Math,d.toNumberArray(a));case "stdev":case "stddev":return Math.sqrt(n(d.toNumberArray(a)));case "var":case "variance":return n(d.toNumberArray(a));case "count":return a.length}return 0}});