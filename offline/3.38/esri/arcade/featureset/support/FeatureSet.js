// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/arcade/featureset/support/FeatureSet","require exports ../support/FeatureSetIterator ../support/IdSet ../support/shared ./cache ./stats ../../polyfill/promiseUtils ../../polyfill/sql/WhereClause ../../../geometry/geometryEngineAsync ../../../SpatialReference ../../polyfill/sql/FieldsIndex".split(" "),function(A,B,x,w,m,t,p,k,q,u,y,z){return function(){function e(a){this.featureSetQueryInterceptor=this.recentlyUsedQueries=null;this._idstates=[];this._mainSetInUse=this._wset=this._parent=
null;this._maxProcessing=200;this._maxQuery=500;this._totalCount=-1;this._databaseType=m.FeatureServiceDatabaseType.NotEvaluated;this._databaseTypeProbed=null;this.declaredRootClass="esri.arcade.featureset.support.FeatureSet";this._featureCache=[];this.fields=this.types=null;this.globalIdField=this.objectIdField=this.geometryType="";this.spatialReference=null;this.loaded=this._transparent=this.hasZ=this.hasM=!1;this._fieldsIndex=this._loadPromise=null;a&&a.lrucache&&(this.recentlyUsedQueries=a.lrucache);
a&&a.interceptor&&(this.featureSetQueryInterceptor=a.interceptor)}e.prototype.optimisePagingFeatureQueries=function(a){this._parent&&this._parent.optimisePagingFeatureQueries(a)};e.prototype._hasMemorySource=function(){return!0};e.prototype.prop=function(a,b){if(void 0===b)return this[a];void 0!==this[a]&&(this[a]=b);return this};e.prototype.end=function(){return null!==this._parent&&!0===this._parent._transparent?this._parent.end():this._parent};e.prototype._ensureLoaded=function(){return this.load()};
e.prototype.load=function(){var a=this;null===this._loadPromise&&(this._loadPromise=k.create(function(b,d){!0===a._parent.loaded?(a._initialiseFeatureSet(),b(a)):a._parent.load().then(function(){try{a._initialiseFeatureSet(),b(a)}catch(c){d(c)}},d)}));return this._loadPromise};e.prototype._initialiseFeatureSet=function(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,
this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.globalIdField=this.objectIdField=this.typeIdField="",this.spatialReference=new y({wkid:4326}),this.geometryType=m.layerGeometryEsriConstants.point)};e.prototype.getField=function(a,b){var d;if(b=b||this.fields)a=a.toLowerCase(),b.some(function(c){c&&c.name.toLowerCase()===a&&(d=c);return!!d});return d};
e.prototype.getFieldsIndex=function(){null===this._fieldsIndex&&(this._fieldsIndex=new z(this.fields));return this._fieldsIndex};e.prototype._maxProcessingRate=function(){return null!==this._parent?Math.min(this._maxProcessing,this._parent._maxProcessingRate()):Math.min(this._maxProcessing,this._maxQueryRate())};e.prototype._maxQueryRate=function(){return null!==this._parent?Math.max(this._maxQuery,this._parent._maxQueryRate()):this._maxQuery};e.prototype._checkCancelled=function(a){if(null!==a&&
a.aborted)throw Error("Operation has been cancelled.");};e.prototype.nativeCapabilities=function(){return this._parent.nativeCapabilities()};e.prototype._canDoAggregates=function(a,b,d,c,f){return null===this._parent?k.resolve(!1):this._parent._canDoAggregates(a,b,d,c,f)};e.prototype._getAggregatePagesDataSourceDefinition=function(a,b,d,c,f,g,h){return null===this._parent?k.reject(Error("Should never be called")):this._parent._getAggregatePagesDataSourceDefinition(a,b,d,c,f,g,h)};e.prototype._getAgregagtePhysicalPage=
function(a,b,d){return null===this._parent?k.reject(Error("Should never be called")):this._parent._getAgregagtePhysicalPage(a,b,d)};e.prototype.databaseType=function(){var a=this;if(this._databaseType===m.FeatureServiceDatabaseType.NotEvaluated){if(null!==t.applicationCache){var b=t.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());if(null!==b)return b}if(null!==this._databaseTypeProbed)return this._databaseTypeProbed;var d=[{thetype:m.FeatureServiceDatabaseType.SqlServer,testwhere:"(CAST( '2015-01-01' as DATETIME) \x3d CAST( '2015-01-01' as DATETIME)) AND OBJECTID\x3c0"},
{thetype:m.FeatureServiceDatabaseType.Oracle,testwhere:"(TO_DATE('2003-11-18','YYYY-MM-DD') \x3d TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID\x3c0"},{thetype:m.FeatureServiceDatabaseType.StandardisedNoInterval,testwhere:"(date '2015-01-01 10:10:10' \x3d date '2015-01-01 10:10:10') AND OBJECTID\x3c0"}];b=k.create(function(c,f){a._getDatabaseTypeImpl(d,0).then(function(g){a._databaseType=g;c(a._databaseType)},function(g){f(g)})});null!==t.applicationCache&&(t.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(),
b),b=b.catch(function(c){t.applicationCache.clearDatabaseType(a._cacheableFeatureSetSourceKey());throw c;}));return this._databaseTypeProbed=b}return k.resolve(this._databaseType)};e.prototype._cacheableFeatureSetSourceKey=function(){return"MUSTBESET"};e.prototype._getDatabaseTypeImpl=function(a,b){var d=this;return b>=a.length?k.resolve(m.FeatureServiceDatabaseType.StandardisedNoInterval):this._runDatabaseProbe(a[b].testwhere).then(function(c){return!0===c?a[b].thetype:d._getDatabaseTypeImpl(a,b+
1)})};e.prototype._runDatabaseProbe=function(a){return null!==this._parent?this._parent._runDatabaseProbe(a):k.reject(Error("Not Implemented"))};e.prototype.isTable=function(){return this._parent.isTable()};e.prototype._featureFromCache=function(a){if(void 0!==this._featureCache[a])return this._featureCache[a]};e.prototype._isInFeatureSet=function(a){return m.IdState.Unknown};e.prototype._getSet=function(a){throw Error("Not implemented in abstract class");};e.prototype._getFeature=function(a,b,d){var c=
this;try{return this._checkCancelled(d),void 0!==this._featureFromCache(b)?k.resolve(this._featureFromCache(b)):this._getFeatures(a,b,this._maxProcessingRate(),d).then(function(){c._checkCancelled(d);return void 0!==c._featureFromCache(b)?c._featureFromCache(b):k.reject(Error("Feature Not Found"))})}catch(f){return k.reject(f)}};e.prototype._getFeatureBatch=function(a,b){var d=this;try{this._checkCancelled(b);var c=new w([],a,!1,null),f=[];return this._getFeatures(c,-1,a.length,b).then(function(){d._checkCancelled(b);
for(var g=0;g<a.length;g++){var h=a[g];void 0!==d._featureFromCache(h)&&f.push(d._featureFromCache(h))}return f})}catch(g){return k.reject(g)}};e.prototype._getFeatures=function(a,b,d,c){return k.resolve("success")};e.prototype._getFilteredSet=function(a,b,d,c,f){throw Error("Not implemented in abstract class");};e.prototype._refineSetBlock=function(a,b,d){var c=this;try{if(!0===this._checkIfNeedToExpandCandidatePage(a,this._maxQueryRate()))return this._expandPagedSet(a,this._maxQueryRate(),0,0,d).then(function(){return c._refineSetBlock(a,
b,d)});this._checkCancelled(d);var f=a._candidates.length;this._refineKnowns(a,b);var g=f-a._candidates.length;return 0===a._candidates.length||g>=b?k.resolve(a):this._refineIfParentKnown(a,b-g,d).then(function(){c._checkCancelled(d);c._refineKnowns(a,b-g);g=f-a._candidates.length;if(g<b&&0<a._candidates.length){var h=b-g,l=c._prepareFetchAndRefineSet(a._candidates);return c._fetchAndRefineFeatures(l,l.length>h?h:a._candidates.length,d).then(function(){c._checkCancelled(d);c._refineKnowns(a,b-g);
return a})}return a})}catch(h){return k.reject(h)}};e.prototype._fetchAndRefineFeatures=function(a,b,d){return null};e.prototype._prepareFetchAndRefineSet=function(a){for(var b=[],d=0;d<a.length;d++)this._isPhysicalFeature(a[d])&&b.push(a[d]);return b};e.prototype._isPhysicalFeature=function(a){return null===this._parent?!0:this._parent._isPhysicalFeature(a)};e.prototype._refineKnowns=function(a,b){var d=0,c=null,f=[];b=this._maxQueryRate();for(var g=0;g<a._candidates.length&&"GETPAGES"!==a._candidates[g];g++){var h=
!1,l=this._candidateIdTransform(a._candidates[g]);l!==a._candidates[g]&&(h=!0);var n=this._isInFeatureSet(l);if(n===m.IdState.InFeatureSet)!0===h?0>a._known.indexOf(l)&&(a._known.push(l),d+=1):(a._known.push(a._candidates[g]),d+=1),null===c?c={start:g,end:g}:c.end===g-1?c.end=g:(f.push(c),c={start:g,end:g});else if(n===m.IdState.NotInFeatureSet)null===c?c={start:g,end:g}:c.end===g-1?c.end=g:(f.push(c),c={start:g,end:g}),d+=1;else if(n===m.IdState.Unknown&&(d+=1,!0===a._ordered))break;if(d>=b)break}null!==
c&&f.push(c);for(b=f.length-1;0<=b;b--)a._candidates.splice(f[b].start,f[b].end-f[b].start+1)};e.prototype._refineIfParentKnown=function(a,b,d){var c=new w([],[],a._ordered,null);c._candidates=a._candidates.slice(0);return this._parent._refineSetBlock(c,b,d)};e.prototype._candidateIdTransform=function(a){return this._parent._candidateIdTransform(a)};e.prototype._checkIfNeedToExpandKnownPage=function(a,b){if(null===a.pagesDefinition)return!1;for(var d=0,c=a._lastFetchedIndex;c<a._known.length;c++){if("GETPAGES"===
a._known[c])return!0;if(void 0===this._featureCache[a._known[c]]&&(d+=1,d>=b))break}return!1};e.prototype._checkIfNeedToExpandCandidatePage=function(a,b){if(null===a.pagesDefinition)return!1;for(var d=0,c=0;c<a._candidates.length;c++){if("GETPAGES"===a._candidates[c])return!0;d+=1;if(d>=b)break}return!1};e.prototype._expandPagedSet=function(a,b,d,c,f){return null===this._parent?k.reject(Error("Parent Paging not implemented")):this._parent._expandPagedSet(a,b,d,c,f)};e.prototype._expandPagedSetFeatureSet=
function(a,b,d,c,f){var g=this;0<a._known.length&&"GETPAGES"===a._known[a._known.length-1]&&(c=1);0===c&&0<a._candidates.length&&"GETPAGES"===a._candidates[a._candidates.length-1]&&(c=2);return 0===c?k.resolve("finished"):this._getPage(a,c,f).then(function(h){return d+h<b?g._expandPagedSet(a,b,d+h,0,f):"success"})};e.prototype._getPage=function(a,b,d){var c=this,f=1===b?a._known:a._candidates;if(a.pagesDefinition.internal.set.length>a.pagesDefinition.resultOffset||!0===a.pagesDefinition.internal.fullyResolved){--f.length;
for(var g=0,h=0;h<a.pagesDefinition.resultRecordCount&&!(a.pagesDefinition.resultOffset+h>=a.pagesDefinition.internal.set.length);h++)f[f.length]=a.pagesDefinition.internal.set[a.pagesDefinition.resultOffset+h],g++;a.pagesDefinition.resultOffset+=g;h=!1;!0===a.pagesDefinition.internal.fullyResolved&&a.pagesDefinition.internal.set.length<=a.pagesDefinition.resultOffset&&(h=!0);!1===h&&f.push("GETPAGES");return k.resolve(g)}return this._getPhysicalPage(a,b,d).then(function(){return c._getPage(a,b,d)})};
e.prototype._getPhysicalPage=function(a,b,d){return null};e.prototype._clonePageDefinition=function(a){return null===this._parent?null:this._parent._clonePageDefinition(a)};e.prototype._first=function(a){return this.iterator(a).next()};e.prototype.first=function(a){return this._first(a)};e.prototype.calculateStatistic=function(a,b,d,c){var f=this;return this._ensureLoaded().then(function(){return f._stat(a,b,"",null,null,d,c).then(function(g){return!1===g.calculated?f._manualStat(a,b,d,c).then(function(h){return h.result}):
g.result})})};e.prototype._manualStat=function(a,b,d,c){switch(a.toLowerCase()){case "count":return p.count(this,c).then(function(f){return{calculated:!0,result:f}});case "distinct":return p.distinct(this,b,d).then(function(f){return{calculated:!0,result:f}});case "avg":case "mean":return p.mean(this,b,c).then(function(f){return{calculated:!0,result:f}});case "stdev":return p.stdev(this,b,c).then(function(f){return{calculated:!0,result:f}});case "variance":return p.variance(this,b,c).then(function(f){return{calculated:!0,
result:f}});case "sum":return p.sum(this,b,c).then(function(f){return{calculated:!0,result:f}});case "min":return p.min(this,b,c).then(function(f){return{calculated:!0,result:f}});case "max":return p.max(this,b,c).then(function(f){return{calculated:!0,result:f}});default:return k.resolve({calculated:!0,result:0})}};e.prototype._stat=function(a,b,d,c,f,g,h){var l=this;return this._parent._stat(a,b,d,c,f,g,h).then(function(n){return!1===n.calculated?null===f&&""===d&&null===c?l._manualStat(a,b,g,h):
{calculated:!1}:n})};e.prototype._unionAllGeomSelf=function(a){var b=this,d=this.iterator(this._defaultTracker(a)),c=[];return k.create(function(f,g){b._unionShapeInBatches(c,d,f,g)})};e.prototype._unionAllGeom=function(a){var b=this;return k.create(function(d,c){var f=b.iterator(b._defaultTracker(a));b._unionShapeInBatches([],f,d,c)})};e.prototype._unionShapeInBatches=function(a,b,d,c){var f=this;b.next().then(function(g){try{null!==g&&null!==g.geometry&&a.push(g.geometry),30<a.length||null===g&&
1<a.length?u.union(a).then(function(h){try{null===g?d(h):(a=[h],f._unionShapeInBatches(a,b,d,c))}catch(l){c(l)}},c):null===g?1===a.length?d(a[0]):d(null):f._unionShapeInBatches(a,b,d,c)}catch(h){c(h)}},c)};e.prototype.iterator=function(a){return new x(this,a)};e.prototype.intersection=function(a,b){void 0===b&&(b=!1);return e._featuresetFunctions.intersection.bind(this)(a,b)};e.prototype.difference=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!0);return e._featuresetFunctions.difference.bind(this)(a,
b,d)};e.prototype.symmetricDifference=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!0);return e._featuresetFunctions.symmetricDifference.bind(this)(a,b,d)};e.prototype.morphShape=function(a,b,d,c){void 0===d&&(d="unknown");void 0===c&&(c=null);return e._featuresetFunctions.morphShape.bind(this)(a,b,d,c)};e.prototype.morphShapeAndAttributes=function(a,b,d){void 0===d&&(d="unknown");return e._featuresetFunctions.morphShapeAndAttributes.bind(this)(a,b,d)};e.prototype.union=function(a,b){void 0===
b&&(b=!1);return e._featuresetFunctions.union.bind(this)(a,b)};e.prototype.intersects=function(a){return e._featuresetFunctions.intersects.bind(this)(a)};e.prototype.envelopeIntersects=function(a){return e._featuresetFunctions.envelopeIntersects.bind(this)(a)};e.prototype.contains=function(a){return e._featuresetFunctions.contains.bind(this)(a)};e.prototype.overlaps=function(a){return e._featuresetFunctions.overlaps.bind(this)(a)};e.prototype.relate=function(a,b){return e._featuresetFunctions.relate.bind(this)(a,
b)};e.prototype.within=function(a){return e._featuresetFunctions.within.bind(this)(a)};e.prototype.touches=function(a){return e._featuresetFunctions.touches.bind(this)(a)};e.prototype.top=function(a){return e._featuresetFunctions.top.bind(this)(a)};e.prototype.crosses=function(a){return e._featuresetFunctions.crosses.bind(this)(a)};e.prototype.buffer=function(a,b,d,c){void 0===c&&(c=!0);return e._featuresetFunctions.buffer.bind(this)(a,b,d,c)};e.prototype.filter=function(a,b){void 0===b&&(b=null);
return e._featuresetFunctions.filter.bind(this)(a,b)};e.prototype.orderBy=function(a){return e._featuresetFunctions.orderBy.bind(this)(a)};e.prototype.dissolve=function(a,b){return e._featuresetFunctions.dissolve.bind(this)(a,b)};e.prototype.groupby=function(a,b){return e._featuresetFunctions.groupby.bind(this)(a,b)};e.prototype.reduce=function(a,b,d){var c=this;void 0===b&&(b=null);return k.create(function(f,g){c._reduceImpl(c.iterator(c._defaultTracker(d)),a,b,0,f,g,0)})};e.prototype._reduceImpl=
function(a,b,d,c,f,g,h){var l=this;try{h++,1E3<h?setTimeout(function(){h=0;l._reduceImpl(a,b,d,c,f,g,h)}):a.next().then(function(n){try{if(null===n)f(d);else{var r=b(d,n,c,l);k.isPromiseLike(r)?r.then(function(v){l._reduceImpl(a,b,v,c+1,f,g,h)},g):l._reduceImpl(a,b,r,c+1,f,g,h)}}catch(v){g(v)}},g)}catch(n){g(n)}};e.prototype.removeField=function(a){return e._featuresetFunctions.removeField.bind(this)(a)};e.prototype.addField=function(a,b,d){void 0===d&&(d=null);return e._featuresetFunctions.addField.bind(this)(a,
b,d)};e.prototype.sumArea=function(a,b,d){void 0===b&&(b=!1);var c=m.convertSquareUnitsToCode(a);return this.reduce(function(f,g){return null===g.geometry?0:b?u.geodesicArea(g.geometry,c).then(function(h){return f+h}):u.planarArea(g.geometry,c).then(function(h){return f+h})},0,d)};e.prototype.sumLength=function(a,b,d){void 0===b&&(b=!1);var c=m.convertLinearUnitsToCode(a);return this.reduce(function(f,g){return null===g.geometry?0:b?u.geodesicLength(g.geometry,c).then(function(h){return f+h}):u.planarLength(g.geometry,
c).then(function(h){return f+h})},0,d)};e.prototype._substituteVars=function(a,b){if(null!==b){var d={},c;for(c in b)d[c.toLowerCase()]=b[c];a.parameters=d}};e.prototype.distinct=function(a,b,d,c){var f=this;void 0===b&&(b=1E3);void 0===d&&(d=null);return this.load().then(function(){var g=q.WhereClause.create(a,f.getFieldsIndex());f._substituteVars(g,d);return f.calculateStatistic("distinct",g,b,f._defaultTracker(c))})};e.prototype.min=function(a,b,d){var c=this;void 0===b&&(b=null);return this.load().then(function(){var f=
q.WhereClause.create(a,c.getFieldsIndex());c._substituteVars(f,b);return c.calculateStatistic("min",f,-1,c._defaultTracker(d))})};e.prototype.max=function(a,b,d){var c=this;void 0===b&&(b=null);return this.load().then(function(){var f=q.WhereClause.create(a,c.getFieldsIndex());c._substituteVars(f,b);return c.calculateStatistic("max",f,-1,c._defaultTracker(d))})};e.prototype.avg=function(a,b,d){var c=this;void 0===b&&(b=null);return this.load().then(function(){var f=q.WhereClause.create(a,c.getFieldsIndex());
c._substituteVars(f,b);return c.calculateStatistic("avg",f,-1,c._defaultTracker(d))})};e.prototype.sum=function(a,b,d){var c=this;void 0===b&&(b=null);return this.load().then(function(){var f=q.WhereClause.create(a,c.getFieldsIndex());c._substituteVars(f,b);return c.calculateStatistic("sum",f,-1,c._defaultTracker(d))})};e.prototype.stdev=function(a,b,d){var c=this;void 0===b&&(b=null);return this.load().then(function(){var f=q.WhereClause.create(a,c.getFieldsIndex());c._substituteVars(f,b);return c.calculateStatistic("stdev",
f,-1,c._defaultTracker(d))})};e.prototype.variance=function(a,b,d){var c=this;void 0===b&&(b=null);return this.load().then(function(){var f=q.WhereClause.create(a,c.getFieldsIndex());c._substituteVars(f,b);return c.calculateStatistic("variance",f,-1,c._defaultTracker(d))})};e.prototype.count=function(a){var b=this;return this.load().then(function(){return b.calculateStatistic("count",q.WhereClause.create("1",b.getFieldsIndex()),-1,b._defaultTracker(a))})};e.prototype._defaultTracker=function(a){return a?
a:{aborted:!1}};e.prototype.forEach=function(a,b){var d=this;return k.create(function(c,f){d._forEachImpl(d.iterator(d._defaultTracker(b)),a,d,c,f,0)})};e.prototype._forEachImpl=function(a,b,d,c,f,g){var h=this;try{g++,1E3<g?setTimeout(function(){g=0;h._forEachImpl(a,b,d,c,f,g)},0):a.next().then(function(l){try{if(null===l)c(d);else{var n=b(l);void 0===n||null===n?h._forEachImpl(a,b,d,c,f,g):k.isPromiseLike(n)?n.then(function(){try{h._forEachImpl(a,b,d,c,f,g)}catch(r){f(r)}},f):h._forEachImpl(a,b,
d,c,f,g)}}catch(r){f(r)}},f)}catch(l){f(l)}};e.prototype.convertToJSON=function(a){for(var b={layerDefinition:{geometryType:this.geometryType,fields:[]},featureSet:{features:[],geometryType:this.geometryType}},d=0;d<this.fields.length;d++)b.layerDefinition.fields.push(m.esriFieldToJson(this.fields[d]));return this.reduce(function(c,f){c={geometry:f.geometry&&f.geometry.toJson(),attributes:{}};for(var g in f.attributes)c.attributes[g]=f.attributes[g];b.featureSet.features.push(c);return 1},0,a).then(function(){return b})};
e.prototype.castToText=function(){return"object, FeatureSet"};e.prototype.queryAttachments=function(a,b,d,c,f){return this._parent.queryAttachments(a,b,d,c,f)};e.prototype.serviceUrl=function(){return this._parent.serviceUrl()};e.prototype.subtypes=function(){return this.typeIdField?{subtypeField:this.typeIdField,subtypes:this.types?this.types.map(function(a){return{name:a.name,code:a.id}}):[]}:null};e.prototype.relationshipMetaData=function(){return this._parent.relationshipMetaData()};Object.defineProperty(e.prototype,
"gdbVersion",{get:function(){return this._parent?this._parent.gdbVersion:""},enumerable:!1,configurable:!0});e.prototype.schema=function(){for(var a=[],b=0,d=this.fields;b<d.length;b++)a.push(m.esriFieldToJson(d[b]));return{objectIdField:this.objectIdField,globalIdField:this.globalIdField,geometryType:void 0===m.layerGeometryEsriRestConstants[this.geometryType]?"":m.layerGeometryEsriRestConstants[this.geometryType],fields:a}};e.prototype.convertToText=function(a,b){var d=this;return"schema"===a?this._ensureLoaded().then(function(){return JSON.stringify(d.schema())}):
"featureset"===a?this._ensureLoaded().then(function(){var c=[];return d.reduce(function(f,g){f={geometry:g.geometry?g.geometry.toJson():null,attributes:g.attributes};null!==f.geometry&&f.geometry.spatialReference&&delete f.geometry.spatialReference;c.push(f);return 1},0,b).then(function(){var f=d.schema();f.features=c;f.spatialReference=d.spatialReference.toJson();return JSON.stringify(f)})}):k.resolve(this.castToText())};e.prototype.getFeatureByObjectId=function(a,b){return this._parent.getFeatureByObjectId(a,
b)};e.prototype.getOwningSystemUrl=function(){return this._parent.getOwningSystemUrl()};e.prototype.getIdentityUser=function(){return this._parent.getIdentityUser()};e.prototype.getRootFeatureSet=function(){return null!==this._parent?this._parent.getRootFeatureSet():this};e.prototype.getDataSourceFeatureSet=function(){return null!==this._parent?this._parent.getDataSourceFeatureSet():this};e._featuresetFunctions={};return e}()});