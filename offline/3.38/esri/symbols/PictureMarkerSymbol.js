// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
define("esri/symbols/PictureMarkerSymbol","dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol".split(" "),function(e,f,k,d,l,m,n,p){var g={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};e=e(p,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(a,c,b){a?f.isString(a)?(this.url=a,c&&(this.width=c),b&&(this.height=b)):(this.width=d.pt2px(null==a.width?g.width:a.width),this.height=d.pt2px(null==
a.height?g.height:a.height),c=a.imageData,9>k("ie")||!c||(b=this.url,this.url="data:"+(a.contentType||"image")+";base64,"+c,this.imageData=b)):(f.mixin(this,g),this.width=d.pt2px(this.width),this.height=d.pt2px(this.height))},getStroke:function(){return null},getFill:function(){return null},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setUrl:function(a){a!==this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},getShapeDescriptors:function(){return{defaultShape:{type:"image",
x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var a=this.url,c=this.imageData;if(0===a.indexOf("data:")){var b=a;a=c;c=b.indexOf(";base64,")+8;c=b.substr(c)}!f.isString(a)||0!==a.indexOf("/")&&0!==a.indexOf("//")&&0!==a.indexOf("./")&&0!==a.indexOf("../")||(a=n.getAbsoluteUrl(a));b=d.px2pt(this.width);b=isNaN(b)?void 0:b;var h=d.px2pt(this.height);h=isNaN(h)?void 0:h;a=m.fixJson(f.mixin(this.inherited("toJson",
arguments),{type:"esriPMS",url:a,imageData:c,contentType:this.contentType,width:b,height:h}));delete a.color;delete a.size;a.imageData||delete a.imageData;return a}});e.defaultProps=g;k("extend-esri")&&(f.setObject("symbol.PictureMarkerSymbol",e,l),l.symbol.defaultPictureMarkerSymbol=g);return e});