//>>built
define("dojox/charting/plot2d/Scatter","dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/utils dojox/gfx/fx dojox/gfx/gradutils".split(" "),function(v,n,D,E,F,G,w,H,z,I,J){return D("dojox.charting.plot2d.Scatter",[F,G],{defaultParams:{shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",styleFunc:null},constructor:function(f,e){this.opt=
v.clone(v.mixin(this.opt,this.defaultParams));z.updateWithObject(this.opt,e);z.updateWithPattern(this.opt,e,this.optionalParams);this.animate=this.opt.animate},render:function(f,e){if(this.zoom&&!this.isDataDirty())return this.performZoom(f,e);this.resetEvents();this.dirty=this.isDirty();if(this.dirty){n.forEach(this.series,w.purgeGroup);this._eventSeries={};this.cleanGroup();var k=this.getGroup();H.forEachRev(this.series,function(a){a.cleanGroup(k)})}for(var p=this.chart.theme,K=this.events(),x=
0;x<this.series.length;x++){var b=this.series[x];if(this.dirty||b.dirty)if(b.cleanGroup(),b.data.length){var l=p.next("marker",[this.opt,b]),A=this._hScaler.scaler.getTransformerFromModel(this._hScaler),B=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(b.hidden)b.dyn.marker=l.symbol,b.dyn.markerFill=l.marker.fill,b.dyn.markerStroke=l.marker.stroke;else{k=b.group;var m="number"==typeof b.data[0]?n.map(b.data,function(a,c){return{x:A(c+1)+e.l,y:f.height-e.b-B(a)}},this):n.map(b.data,
function(a,c){return{x:A(a.x)+e.l,y:f.height-e.b-B(a.y)}},this);var t=Array(m.length),g=Array(m.length),u=Array(m.length);n.forEach(m,function(a,c){var q=b.data[c];if(this.opt.styleFunc||"number"!=typeof q){var d="number"!=typeof q?[q]:[];this.opt.styleFunc&&d.push(this.opt.styleFunc(q));d=p.addMixin(l,"marker",d,!0)}else d=p.post(l,"marker");var y="M"+a.x+" "+a.y+" "+d.symbol;d.marker.shadow&&(t[c]=k.createPath("M"+(a.x+d.marker.shadow.dx)+" "+(a.y+d.marker.shadow.dy)+" "+d.symbol).setStroke(d.marker.shadow).setFill(d.marker.shadow.color),
this.animate&&this._animateScatter(t[c],f.height-e.b));if(d.marker.outline){var h=w.makeStroke(d.marker.outline);h.width=2*h.width+(d.marker.stroke&&d.marker.stroke.width||0);u[c]=k.createPath(y).setStroke(h);this.animate&&this._animateScatter(u[c],f.height-e.b)}h=w.makeStroke(d.marker.stroke);var r=this._plotFill(d.marker.fill,f,e);!r||"linear"!==r.type&&"radial"!=r.type?g[c]=k.createPath(y).setStroke(h).setFill(r):(a=J.getColor(r,{x:a.x,y:a.y}),h&&(h.color=a),g[c]=k.createPath(y).setStroke(h).setFill(a));
this.opt.labels&&(a=g[c].getBoundingBox(),this.createLabel(k,q,a,d));this.animate&&this._animateScatter(g[c],f.height-e.b)},this);g.length&&(b.dyn.marker=l.symbol,b.dyn.markerStroke=g[g.length-1].getStroke(),b.dyn.markerFill=g[g.length-1].getFill());if(K){var C=Array(g.length);n.forEach(g,function(a,c){a={element:"marker",index:c,run:b,shape:a,outline:u&&u[c]||null,shadow:t&&t[c]||null,cx:m[c].x,cy:m[c].y};"number"==typeof b.data[0]?(a.x=c+1,a.y=b.data[c]):(a.x=b.data[c].x,a.y=b.data[c].y);this._connectEvents(a);
C[c]=a},this);this._eventSeries[b.name]=C}else delete this._eventSeries[b.name];b.dirty=!1}}else b.dirty=!1,p.skip();else p.skip(),this._reconnectEvents(b.name)}this.dirty=!1;E("dojo-bidi")&&this._checkOrientation(this.group,f,e);return this},_animateScatter:function(f,e){I.animateTransform(v.delegate({shape:f,duration:1200,transform:[{name:"translate",start:[0,e],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play()}})});