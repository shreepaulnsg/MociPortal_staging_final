//>>built
define("dojox/charting/plot2d/CartesianBase","dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(p,t,u,z,v,q,w,x,y){var r=function(){return!1};return t("dojox.charting.plot2d.CartesianBase",v,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(b,a){this.axes=["hAxis","vAxis"];this.zoom=null;
this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=a&&a.hAxis||"x";this.vAxis=a&&a.vAxis||"y";this.series=[];this.opt=p.clone(this.baseParams);y.updateWithObject(this.opt,a)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},cleanGroup:function(b,a){this.inherited(arguments);if(!a&&this.chart._nativeClip){var c=this.chart.offsets,d=this.chart.dim;this.group.setClip({x:c.l,y:c.t,width:Math.max(0,d.width-c.l-c.r),height:Math.max(0,
d.height-c.t-c.b)});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||this.group},setAxis:function(b){b&&(this[b.vertical?"_vAxis":"_hAxis"]=b);return this},toPage:function(b){var a=this._hAxis,c=this._vAxis,d=a.getScaler(),e=c.getScaler(),f=d.scaler.getTransformerFromModel(d),g=e.scaler.getTransformerFromModel(e),h=this.chart.getCoords(),k=this.chart.offsets,n=
this.chart.dim;d=function(l){var m={};m.x=f(l[a.name])+h.x+k.l;m.y=h.y+n.height-k.b-g(l[c.name]);return m};return b?d(b):d},toData:function(b){var a=this._hAxis,c=this._vAxis,d=a.getScaler(),e=c.getScaler(),f=d.scaler.getTransformerFromPlot(d),g=e.scaler.getTransformerFromPlot(e),h=this.chart.getCoords(),k=this.chart.offsets,n=this.chart.dim;d=function(l){var m={};m[a.name]=f(l.x-h.x-k.l);m[c.name]=g(h.y+n.height-l.y-k.b);return m};return b?d(b):d},isDirty:function(){return this.dirty||this._hAxis&&
this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(b,a,c,d){if(this.opt.labels){var e=this.opt.labelFunc?this.opt.labelFunc.apply(this,[a,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(a.y)?a:a.y);if("inside"==this.opt.labelStyle){var f=w._base._getTextBox(e,{font:d.series.font});a=c.x+c.width/2;var g=c.y+c.height/2+f.h/4;if(f.w>c.width||f.h>c.height)return}else a=c.x+c.width/2,g=c.y-this.opt.labelOffset;this.renderLabel(b,a,g,e,d,"inside"==this.opt.labelStyle)}},performZoom:function(b,
a){var c=this._vAxis.scale||1,d=this._hAxis.scale||1;b=b.height-a.b;var e=this._hScaler.bounds;e=(e.from-e.lower)*e.scale;var f=this._vScaler.bounds;f=(f.from-f.lower)*f.scale;var g=c/this.lastWindow.vscale,h=d/this.lastWindow.hscale,k=(this.lastWindow.xoffset-e)/(1==this.lastWindow.hscale?d:this.lastWindow.hscale),n=(f-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?c:this.lastWindow.vscale),l=this.getGroup();a=x.animateTransform(p.delegate({shape:l,duration:1200,transform:[{name:"translate",
start:[0,0],end:[a.l*(1-h),b*(1-g)]},{name:"scale",start:[1,1],end:[h,g]},{name:"original"},{name:"translate",start:[0,0],end:[k,n]}]},this.zoom));p.mixin(this.lastWindow,{vscale:c,hscale:d,xoffset:e,yoffset:f});this.zoomQueue.push(a);u.connect(a,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(b,a){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(a.hmin,
a.hmax,b.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=q.buildScaler(a.hmin,a.hmax,b.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(a.vmin,a.vmax,b.height),this._vScaler=this._vAxis.getScaler()):this._vScaler=q.buildScaler(a.vmin,a.vmax,b.height);return this},isNullValue:function(b){if(null===b||"undefined"==typeof b)return!0;var a=this._hAxis?this._hAxis.isNullValue:r,c=this._vAxis?this._vAxis.isNullValue:r;return"number"==typeof b?a(1)||c(b):a(isNaN(b.x)?1:b.x)||
null===b.y||c(b.y)}})});