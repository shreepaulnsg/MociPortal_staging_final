//>>built
define("dojox/charting/plot2d/common","dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(t,u,r,v,x,w){var q=t.getObject("dojox.charting.plot2d.common",!0);return t.mixin(q,{doIfLoaded:w.doIfLoaded,makeStroke:function(d){if(!d)return d;if("string"==typeof d||d instanceof r)d={color:d};return v.makeParameters(v.defaultStroke,d)},augmentColor:function(d,c){d=new r(d);c=new r(c);c.a=d.a;return c},augmentStroke:function(d,c){if(d=q.makeStroke(d))d.color=
q.augmentColor(d.color,c);return d},augmentFill:function(d,c){new r(c);return"string"==typeof d||d instanceof r?q.augmentColor(d,c):d},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(d,c){for(var a=t.delegate(q.defaultStats),b=0;b<d.length;++b)for(var e=d[b],f=0;f<e.data.length;f++)if(!c(e.data[f])){if("number"==typeof e.data[f]){f=a.vmin;var m=a.vmax;u.forEach(e.data,function(g,h){c(g)||
(h+=1,isNaN(g)&&(g=0),a.hmin=Math.min(a.hmin,h),a.hmax=Math.max(a.hmax,h),a.vmin=Math.min(a.vmin,g),a.vmax=Math.max(a.vmax,g))})}else{var k=a.hmin,l=a.hmax;f=a.vmin;m=a.vmax;"xmin"in e&&"xmax"in e&&"ymin"in e&&"ymax"in e||u.forEach(e.data,function(g,h){c(g)||(h="x"in g?g.x:h+1,g=g.y,isNaN(h)&&(h=0),isNaN(g)&&(g=0),a.hmin=Math.min(a.hmin,h),a.hmax=Math.max(a.hmax,h),a.vmin=Math.min(a.vmin,g),a.vmax=Math.max(a.vmax,g))});"xmin"in e&&(a.hmin=Math.min(k,e.xmin));"xmax"in e&&(a.hmax=Math.max(l,e.xmax))}"ymin"in
e&&(a.vmin=Math.min(f,e.ymin));"ymax"in e&&(a.vmax=Math.max(m,e.ymax));break}return a},calculateBarSize:function(d,c,a){a||(a=1);var b=(d-2*c.gap)/a;"minBarSize"in c&&(b=Math.max(b,c.minBarSize));"maxBarSize"in c&&(b=Math.min(b,c.maxBarSize));b=Math.max(b,1);return{size:b,gap:(d-b*a)/2}},collectStackedStats:function(d){var c=t.clone(q.defaultStats);if(d.length){c.hmin=Math.min(c.hmin,1);c.hmax=x.foldl(d,"seed, run -\x3e Math.max(seed, run.data.length)",c.hmax);for(var a=0;a<c.hmax;++a){var b=d[0].data[a];
b=b&&("number"==typeof b?b:b.y);isNaN(b)&&(b=0);c.vmin=Math.min(c.vmin,b);for(var e=1;e<d.length;++e){var f=d[e].data[a];f=f&&("number"==typeof f?f:f.y);isNaN(f)&&(f=0);b+=f}c.vmax=Math.max(c.vmax,b)}}return c},curve:function(d,c){var a=d.slice(0);"x"==c&&(a[a.length]=a[0]);return u.map(a,function(b,e){if(0==e)return"M"+b.x+","+b.y;if(!isNaN(c)){var f=b.x-a[e-1].x;return"C"+(b.x-f/c*(c-1))+","+a[e-1].y+" "+(b.x-f/c)+","+b.y+" "+b.x+","+b.y}if("X"==c||"x"==c||"S"==c){b=a[e-1];f=a[e];var m=1/6;if(1==
e){var k="x"==c?a[a.length-2]:b;m=1/3}else k=a[e-2];e==a.length-1?(e="x"==c?a[1]:f,m=1/3):e=a[e+1];var l=Math.sqrt((f.x-b.x)*(f.x-b.x)+(f.y-b.y)*(f.y-b.y));var g=Math.sqrt((f.x-k.x)*(f.x-k.x)+(f.y-k.y)*(f.y-k.y));var h=Math.sqrt((e.x-b.x)*(e.x-b.x)+(e.y-b.y)*(e.y-b.y));var n=g*m,p=h*m;n>l/2&&p>l/2?(n=l/2,p=l/2):n>l/2?(n=l/2,p=l/2*h/g):p>l/2&&(p=l/2,n=l/2*g/h);"S"==c&&(k==b&&(n=0),f==e&&(p=0));m=b.x+n*(f.x-k.x)/g;k=b.y+n*(f.y-k.y)/g;g=f.x-p*(e.x-b.x)/h;h=f.y-p*(e.y-b.y)/h}return"C"+(m+","+k+" "+g+
","+h+" "+f.x+","+f.y)}).join(" ")},getLabel:function(d,c,a){return w.doIfLoaded("dojo/number",function(b){return(c?b.format(d,{places:a}):b.format(d))||""},function(){return c?d.toFixed(a):d.toString()})},purgeGroup:function(d){return d.purgeGroup()}})});