//>>built
define("dojox/mvc/StatefulSeries",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojox/mvc/at"],function(l,m,e,n){return m("dojox.mvc.StatefulSeries",null,{constructor:function(c){function g(){d.series&&(d.series.chart.updateSeries(d.series.name,d),d.series.chart.delayedRender())}var d=this;this._handles=[];this.data=l.map(c,function(a,p){if("dojox.mvc.at"==(a||{}).atsignature){var b=a.target,f=a.targetProp;if(e.isString(b))throw Error("Literal-based dojox/mvc/at is not supported in dojox/mvc/StatefulSeries.");
!a.bindDirection||a.bindDirection&n.from||console.warn("Data binding bindDirection option is ignored in dojox/mvc/StatefulSeries.");if(f&&e.isFunction(b.set)&&e.isFunction(b.watch)){a=a.converter;var h=(a||{}).format&&e.hitch({target:b,source:this},a.format);this._handles.push(b.watch(f,function(q,r,k){d.data[p]=h?h(k):k;g()}))}return f?e.isFunction(b.get)?b.get(f):b[f]:b}return a},this);g()},destroy:function(){for(var c=null;c=this._handles.pop();)c.unwatch()},setSeriesObject:function(c){this.series=
c}})});