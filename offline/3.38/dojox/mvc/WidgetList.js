//>>built
define("dojox/mvc/WidgetList","require dojo/_base/array dojo/_base/lang dojo/_base/declare dijit/_Container dijit/_WidgetBase ./Templated".split(" "),function(v,l,c,w,n,B,C){function r(b){return eval("({"+b+"})")}function x(b){for(var e=null;e=(b._handles||[]).pop();)e.unwatch()}function D(b){var e=[];l.forEach(b,function(f){[].push.apply(e,f)});return e}function y(b,e){if(this.childClz)e(this.childClz);else if(this.childType){var f=c.isFunction(this.childType)||c.isFunction(this.childMixins)?l.map(b,
function(a){var g=c.isFunction(this.childType)?this.childType.call(a,this):this.childType;a=c.isFunction(this.childMixins)?this.childMixins.call(a,this):this.childMixins;return g?[g].concat(c.isArray(a)?a:a?a.split(","):[]):["dojox/mvc/Templated"]},this):[[this.childType].concat(this.childMixins&&this.childMixins.split(",")||[])];v(l.filter(l.map(D(f),function(a){return c.getObject(a)?z:a}),function(a){return a!==z}),function(){e.apply(this,l.map(f,function(a){a=l.map(a,function(g){return c.getObject(g)||
v(g)});return 1<a.length?w(a,{}):a[0]}))})}else e(C)}var z;n=w("dojox.mvc.WidgetList",[B,n],{childClz:null,childType:"",childMixins:"",childParams:null,childBindings:null,children:null,partialRebuild:!1,_relTargetProp:"children",postMixInProperties:function(){this.inherited(arguments);this["data-mvc-child-type"]&&(this.childType=this["data-mvc-child-type"]);this["data-mvc-child-mixins"]&&(this.childMixins=this["data-mvc-child-mixins"])},startup:function(){this.inherited(arguments);this._setChildrenAttr(this.children)},
_setChildrenAttr:function(b){var e=this.children;this._set("children",b);if(this._started&&(!this._builtOnce||e!=b)&&(this._builtOnce=!0,this._buildChildren(b),c.isArray(b))){var f=this;b.watch!=={}.watch&&(this._handles=this._handles||[]).push(b.watch(function(a,g,t){isNaN(a)||(a=f.getChildren()[a-0])&&a.set(a._relTargetProp||"target",t)}))}},_buildChildren:function(b){function e(q){if(!(this._beingDestroyed||this._buildChildrenSeq>t)){var m=[].slice.call(arguments,1);q.clz=c.isFunction(this.childType)||
c.isFunction(this.childMixins)?m:m[0];for(var d=null;d=u.shift();){if(!d.clz){u.unshift(d);break}m=0;for(var E=(d.removals||[]).length;m<E;++m)this.removeChild(d.idx);l.forEach(l.map(d.adds,function(p,k){var h={ownerDocument:this.ownerDocument,parent:this,indexAtStartup:d.idx+k};k=c.isArray(d.clz)?d.clz[k]:d.clz;h[(c.isFunction(this.childParams)&&this.childParams.call(h,this)||this.childParams||this["data-mvc-child-props"]&&r.call(h,this["data-mvc-child-props"])||{})._relTargetProp||k.prototype._relTargetProp||
"target"]=p;p=this.childParams||this["data-mvc-child-props"]&&r.call(h,this["data-mvc-child-props"]);var A=this.childBindings||this["data-mvc-child-bindings"]&&r.call(h,this["data-mvc-child-bindings"]);!this.templateString||h.templateString||k.prototype.templateString||(h.templateString=this.templateString);!A||h.bindings||k.prototype.bindings||(h.bindings=A);return new k(c.delegate(c.isFunction(p)?p.call(h,this):p,h))},this),function(p,k){this.addChild(p,d.idx+k)},this)}}}x(this);for(var f=this.getChildren(),
a=null;a=f.pop();)this.removeChild(a),a.destroy();if(c.isArray(b)){var g=this,t=this._buildChildrenSeq=(this._buildChildrenSeq||0)+1;f={idx:0,removals:[],adds:[].concat(b)};var u=[f];c.isFunction(b.watchElements)&&(this._handles=this._handles||[]).push(b.watchElements(function(q,m,d){m&&d&&g.partialRebuild?(q={idx:q,removals:m,adds:d},u.push(q),y.call(g,d,c.hitch(g,e,q))):g._buildChildren(b)}));y.call(this,b,c.hitch(this,e,f))}},destroy:function(){x(this);this.inherited(arguments)}});n.prototype["data-mvc-child-type"]=
n.prototype["data-mvc-child-mixins"]=n.prototype["data-mvc-child-props"]=n.prototype["data-mvc-child-bindings"]="";return n});