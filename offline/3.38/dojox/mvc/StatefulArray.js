//>>built
define("dojox/mvc/StatefulArray",["dojo/_base/lang","dojo/Stateful"],function(g,m){function p(h){h._watchElementCallbacks&&h._watchElementCallbacks(void 0,[],[]);return h}var k=function(h){h=g._toArray(h||[]);h.constructor=k;return g.mixin(h,{pop:function(){return this.splice(this.get("length")-1,1)[0]},push:function(){this.splice.apply(this,[this.get("length"),0].concat(g._toArray(arguments)));return this.get("length")},reverse:function(){return p([].reverse.apply(this,g._toArray(arguments)))},shift:function(){return this.splice(0,
1)[0]},sort:function(){return p([].sort.apply(this,g._toArray(arguments)))},splice:function(a,b){var c=this.get("length");a+=0>a?c:0;var d=Math.min(a,c),f=this.slice(a,a+b),e=g._toArray(arguments).slice(2);[].splice.apply(this,[a,b].concat(Array(e.length)));for(var l=0;l<e.length;l++)this[d+l]=e[l];this._watchElementCallbacks&&this._watchElementCallbacks(a,f,e);this._watchCallbacks&&this._watchCallbacks("length",c,c-f.length+e.length);return f},unshift:function(){this.splice.apply(this,[0,0].concat(g._toArray(arguments)));
return this.get("length")},concat:function(a){return new k([].concat.apply(this,arguments))},join:function(a){for(var b=[],c=this.get("length"),d=0;d<c;d++)b.push(this.get(d));return b.join(a)},slice:function(a,b){var c=this.get("length");b=(void 0===b?c:b)+(0>b?c:0);var d=[];for(a=a+(0>a?c:0)||0;a<Math.min(b,this.get("length"));a++)d.push(this.get(a));return new k(d)},watchElements:function(a){var b=this._watchElementCallbacks,c=this;b||(b=this._watchElementCallbacks=function(f,e,l){for(var q=[].concat(b.list),
n=0;n<q.length;n++)q[n].call(c,f,e,l)},b.list=[]);b.list.push(a);var d={};d.unwatch=d.remove=function(){for(var f=b.list,e=0;e<f.length;e++)if(f[e]==a){f.splice(e,1);break}};return d}},m.prototype,{set:function(a,b){if("length"==a)a=this.get("length"),a<b?this.splice.apply(this,[a,0].concat(Array(b-a))):b<a&&this.splice.apply(this,[b,a-b]);else{var c=this.length;m.prototype.set.call(this,a,b);c!=this.length&&m.prototype.set.call(this,"length",this.length)}return this},isInstanceOf:function(a){return m.prototype.isInstanceOf.apply(this,
arguments)||a==k}})};k._meta={bases:[m]};return g.setObject("dojox.mvc.StatefulArray",k)});