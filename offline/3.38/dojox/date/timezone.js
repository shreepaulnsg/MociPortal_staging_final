//>>built
define("dojox/date/timezone","dojo/_base/array dojo/_base/config dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/date dojo/date/locale dojo/request dojo/request/handlers".split(" "),function(A,B,m,Q,C,k,w,R,S){function I(a){a=a||{};p=C.mixin(p,a.zones||{});x=C.mixin(x,a.rules||{})}function y(a){z[a]=!0;R.get(require.toUrl((B.timezoneFileBasePath||"dojox/date/zoneinfo")+"/"+a),{handleAs:"olson_zoneinfo",sync:!0}).then(I,function(b){console.error("Error loading zone file:",b);throw b;})}function J(a){throw Error('Timezone "'+
a+'" is either incorrect, or not loaded in the timezone registry.');}function D(a){var b=T[a];if(!b&&(b=a.split("/")[0],b=U[b],!b)){var d=p[a];if("string"==typeof d)return D(d);if(z.backward)J(a);else return y("backward"),D(a)}return b}function E(a){a=a.match(/(\d+)(?::0*(\d*))?(?::0*(\d*))?([su])?$/);if(!a)return null;a[1]=parseInt(a[1],10);a[2]=a[2]?parseInt(a[2],10):0;a[3]=a[3]?parseInt(a[3],10):0;return a}function u(a,b,d,e,c,f,g){return Date.UTC(a,b,d,e,c,f)+6E4*(g||0)}function r(a){var b=E(a);
if(null===b)return 0;b=1E3*(0===a.indexOf("-")?-1:1)*(60*(60*b[1]+b[2])+b[3]);return-b/60/1E3}function K(a,b,d){var e=L[a[3].substr(0,3).toLowerCase()],c=a[4],f=E(a[5]);"u"==f[4]&&(d=0);if(isNaN(c)){if("last"==c.substr(0,4))return c=M[c.substr(4,3).toLowerCase()],a=new Date(u(b,e+1,1,f[1]-24,f[2],f[3],d)),d=k.add(a,"minute",-d).getUTCDay(),c=c>d?c-d-7:c-d,0!==c&&(a=k.add(a,"hour",24*c)),a;c=M[c.substr(0,3).toLowerCase()];if("undefined"!=c){if("\x3e\x3d"==a[4].substr(3,2))return a=new Date(u(b,e,parseInt(a[4].substr(5),
10),f[1],f[2],f[3],d)),d=k.add(a,"minute",-d).getUTCDay(),c=c<d?c-d+7:c-d,0!==c&&(a=k.add(a,"hour",24*c)),a;if("\x3c\x3d"==c.substr(3,2))return a=new Date(u(b,e,parseInt(a[4].substr(5),10),f[1],f[2],f[3],d)),d=k.add(a,"minute",-d).getUTCDay(),c=c>d?c-d-7:c-d,0!==c&&(a=k.add(a,"hour",24*c)),a}}else return a=new Date(u(b,e,parseInt(c,10),f[1],f[2],f[3],d));return null}function V(a,b){var d=[];A.forEach(x[a[1]]||[],function(e){for(var c=0;2>c;c++)switch(e[c]){case "min":e[c]=1835;break;case "max":e[c]=
2038;break;case "only":break;default:if(e[c]=parseInt(e[c],10),isNaN(e[c]))throw Error("Invalid year found on rule");}"string"==typeof e[6]&&(e[6]=r(e[6]));(e[0]<=b&&e[1]>=b||e[0]==b&&"only"==e[1])&&d.push({r:e,d:K(e,b,a[0])})});return d}function W(a,b){a=F[a]=[];for(var d=0;d<b.length;d++){var e=b[d],c=a[d]=[],f=null,g=null,n=[];"string"==typeof e[0]&&(e[0]=r(e[0]));0===d?c[0]=Date.UTC(1835,0,1,0,0,0,0):(c[0]=a[d-1][1],f=b[d-1],g=a[d-1],n=g[2]);for(var l=(new Date(c[0])).getUTCFullYear(),v=e[3]?
parseInt(e[3],10):2038,q=[];l<=v;l++)q=q.concat(V(e,l));q.sort(function(G,t){return k.compare(G.d,t.d)});var h;l=0;for(h;h=q[l];l++)v=0<l?q[l-1]:null,0>h.r[5].indexOf("u")&&0>h.r[5].indexOf("s")&&(0===l&&0<d?n.length?h.d=k.add(h.d,"minute",n[n.length-1].r[6]):0===k.compare(new Date(g[1]),h.d,"date")?h.d=new Date(g[1]):h.d=k.add(h.d,"minute",r(f[1])):0<l&&(h.d=k.add(h.d,"minute",v.r[6])));c[2]=q;if(e[3]){g=parseInt(e[3],10);n=L[(e[4]||"Jan").substr(0,3).toLowerCase()];v=parseInt(e[5]||"1",10);f=E(e[6]||
"0");var H=c[1]=u(g,n,v,f[1],f[2],f[3],"u"==f[4]?0:e[0]);isNaN(H)&&(H=c[1]=K([0,0,0,e[4],e[5],e[6]||"0"],g,"u"==f[4]?0:e[0]).getTime());g=A.filter(q,function(G,t){t=0<t?6E4*q[t-1].r[6]:0;return G.d.getTime()<H+t});"u"!=f[4]&&"s"!=f[4]&&(c[1]=g.length?c[1]+6E4*g[g.length-1].r[6]:c[1]+6E4*r(e[1]))}else c[1]=Date.UTC(2038,11,31,23,59,59,999)}}function N(a,b){for(var d=b,e=p[d];"string"==typeof e;)d=e,e=p[d];if(!e){if(!z.backward)return y("backward",!0),N(a,b);J(d)}F[b]||W(b,e);d=F[b];for(var c=a.getTime(),
f=0,g;g=d[f];f++)if(c>=g[0]&&c<g[1])return{zone:e[f],range:d[f],idx:f};throw Error('No Zone found for "'+b+'" on '+a);}Q.experimental("dojox.date.timezone");m="africa antarctica asia australasia backward etcetera europe northamerica pacificnew southamerica".split(" ");var z={},p={},F={},x={},O=B.timezoneLoadingScheme||"preloadAll";m=B.defaultZoneFile||("preloadAll"==O?m:"northamerica");S.register("olson_zoneinfo",function(a){a=a.text.split("\n");var b=[],d="",e=null;d=null;for(var c={zones:{},rules:{}},
f=0;f<a.length;f++)if(b=a[f],b.match(/^\s/)&&(b="Zone "+e+b),b=b.split("#")[0],3<b.length)switch(b=b.split(/\s+/),d=b.shift(),d){case "Zone":e=b.shift();b[0]&&(c.zones[e]||(c.zones[e]=[]),c.zones[e].push(b));break;case "Rule":d=b.shift();c.rules[d]||(c.rules[d]=[]);c.rules[d].push(b);break;case "Link":if(c.zones[b[1]])throw Error("Error with Link "+b[1]);c.zones[b[1]]=b[0]}return c});var L={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},M={sun:0,mon:1,tue:2,wed:3,thu:4,
fri:5,sat:6},U={EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:"northamerica",Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},T={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa",
"Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe",
"Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/Cordoba":"southamerica","America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica","America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica",
"America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica","America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica","America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica",
"America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica","America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica","America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica",
"America/Montevideo":"southamerica","America/Caracas":"southamerica"},P={US:"S",Chatham:"S",NZ:"S",NT_YK:"S",Edm:"S",Salv:"S",Canada:"S",StJohns:"S",TC:"S",Guat:"S",Mexico:"S",Haiti:"S",Barb:"S",Belize:"S",CR:"S",Moncton:"S",Swift:"S",Hond:"S",Thule:"S",NZAQ:"S",Zion:"S",ROK:"S",PRC:"S",Taiwan:"S",Ghana:"GMT",SL:"WAT",Chicago:"S",Detroit:"S",Vanc:"S",Denver:"S",Halifax:"S",Cuba:"S",Indianapolis:"S",Starke:"S",Marengo:"S",Pike:"S",Perry:"S",Vincennes:"S",Pulaski:"S",Louisville:"S",CA:"S",Nic:"S",Menominee:"S",
Mont:"S",Bahamas:"S",NYC:"S",Regina:"S",Resolute:"ES",DR:"S",Toronto:"S",Winn:"S"};C.setObject("dojox.date.timezone",{getTzInfo:function(a,b){if("lazyLoad"==O){var d=D(b);if(d)z[d]||y(d);else throw Error("Not a valid timezone ID.");}var e=N(a,b);d=e.zone[0];var c=-1;var f=e.range[2]||[];a=a.getTime();for(var g=0,n;n=f[g];g++)a>=n.d.getTime()&&(c=g);f=0<=c?f[c].r:null;d=f?d+f[6]:x[e.zone[1]]&&0<e.idx?d+r(p[b][e.idx-1][1]):d+r(e.zone[1]);a=e.zone;c=a[2];-1<c.indexOf("%s")?(f?(b=f[7],"-"==b&&(b="")):
a[1]in P?b=P[a[1]]:0<e.idx?(b=p[b][e.idx-1][2],b=0>b.indexOf("%s")?c.replace("%s","S")==b?"S":"":""):b="",b=c.replace("%s",b)):-1<c.indexOf("/")?(b=c.split("/"),b=f?b[0===f[6]?0:1]:b[0]):b=c;return{tzOffset:d,tzAbbr:b}},loadZoneData:function(a){I(a)},getAllZones:function(){var a=[],b;for(b in p)a.push(b);a.sort();return a}});"string"==typeof m&&m&&(m=[m]);m instanceof Array&&A.forEach(m,y);var X=w.format,Y=w._getZone;w.format=function(a,b){b=b||{};b.timezone&&!b._tzInfo&&(b._tzInfo=dojox.date.timezone.getTzInfo(a,
b.timezone));if(b._tzInfo){var d=a.getTimezoneOffset()-b._tzInfo.tzOffset;a=new Date(a.getTime()+6E4*d)}return X.call(this,a,b)};w._getZone=function(a,b,d){return d._tzInfo?b?d._tzInfo.tzAbbr:d._tzInfo.tzOffset:Y.call(this,a,b,d)};return dojox.date.timezone});