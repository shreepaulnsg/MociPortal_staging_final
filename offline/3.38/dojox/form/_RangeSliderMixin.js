//>>built
define("dojox/form/_RangeSliderMixin","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),function(l,f,z,p,g,q,A,h,m,u,n,v,B,r,C){var t=function(b,a){return b-a};u=l("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);
this.value=z.map(this.value,function(b){return parseInt(b,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(t);var b=this,a=l(D,{constructor:function(){this.widget=b}});this._movableMax=new v(this.sliderHandleMax,{mover:a});this.sliderHandle.setAttribute("aria-valuemin",this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);a=l(E,
{constructor:function(){this.widget=b}});this._movableBar=new v(this.progressBar,{mover:a});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();this._movableBar.destroy()},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey)){var a=b.target===this.sliderHandleMax,c=b.target===this.progressBar,d=f.delegate(m,
this.isLeftToRight()?{PREV_ARROW:m.LEFT_ARROW,NEXT_ARROW:m.RIGHT_ARROW}:{PREV_ARROW:m.RIGHT_ARROW,NEXT_ARROW:m.LEFT_ARROW}),e=0,k=!1;switch(b.keyCode){case d.HOME:this._setValueAttr(this.minimum,!0,a);g.stop(b);return;case d.END:this._setValueAttr(this.maximum,!0,a);g.stop(b);return;case d.PREV_ARROW:case d.DOWN_ARROW:k=!0;case d.NEXT_ARROW:case d.UP_ARROW:e=1;break;case d.PAGE_DOWN:k=!0;case d.PAGE_UP:e=this.pageIncrement;break;default:this.inherited(arguments);return}k&&(e=-e);e&&(c?this._bumpValue([{change:e,
useMaxValue:!1},{change:e,useMaxValue:!0}]):this._bumpValue(e,a),g.stop(b))}},_onHandleClickMax:function(b){this.disabled||this.readOnly||(q("ie")||r.focus(this.sliderHandleMax),g.stop(b))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,a){b=f.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,a);this._setValueAttr(b,!0,a)},_getBumpValue:function(b,
a){var c=a?1:0;a=A.getComputedStyle(this.sliderBarContainer);var d=h.getContentBox(this.sliderBarContainer,a);a=this.discreteValues;c=this.value[c];if(1>=a||Infinity==a)a=d[this._pixelCount];a--;b=this.maximum>this.minimum?(c-this.minimum)*a/(this.maximum-this.minimum)+b:0;0>b&&(b=0);b>a&&(b=a);return b*(this.maximum-this.minimum)/a+this.minimum},_onBarClick:function(b){this.disabled||this.readOnly||(q("ie")||r.focus(this.progressBar),g.stop(b))},_onRemainingBarClick:function(b){if(!this.disabled&&
!this.readOnly){q("ie")||r.focus(this.progressBar);var a=h.position(this.sliderBarContainer,!0),c=h.position(this.progressBar,!0),d=b[this._mousePixelCoord],e=c[this._startingPixelCoord];c=e+c[this._pixelCount];e=this._isReversed()?d<=e:d>=c;d=this._isReversed()?a[this._pixelCount]-d+a[this._startingPixelCoord]:d-a[this._startingPixelCoord];this._setPixelValue(d,a[this._pixelCount],!0,e);g.stop(b)}},_setPixelValue:function(b,a,c,d){this.disabled||this.readOnly||(b=this._getValueByPixelValue(b,a),
this._setValueAttr(b,c,d))},_getValueByPixelValue:function(b,a){var c=this.discreteValues;if(1>=c||Infinity==c)c=a;c--;return(this.maximum-this.minimum)*Math.round((0>b?0:a<b?a:b)/(a/c))/c+this.minimum},_setValueAttr:function(b,a,c){var d=f.clone(this.value);f.isArray(b)?d=b:d[c?1:0]=b;this._lastValueReported="";this.valueNode.value=b=d;d.sort(t);this.sliderHandle.setAttribute("aria-valuenow",d[0]);this.sliderHandleMax.setAttribute("aria-valuenow",d[1]);B.prototype._setValueAttr.apply(this,arguments);
this._printSliderBar(a,c)},_printSliderBar:function(b,a){a=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0;var c=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,d=a;a>c&&(a=c,c=d);var e=this._isReversed()?100*(1-a):100*a,k=this._isReversed()?100*(1-c):100*c,w=this._isReversed()?100*(1-c):100*a;if(b&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),
b=this.slideDuration/10,0!==b){0>b&&(b=0-b);var x={},y={};d={};x[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:e,units:"%"};y[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:k,units:"%"};d[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],end:w,units:"%"};d[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(c-a),units:"%"};a=p.animateProperty({node:this.sliderHandle.parentNode,
duration:b,properties:x});c=p.animateProperty({node:this.sliderHandleMax.parentNode,duration:b,properties:y});b=p.animateProperty({node:this.progressBar,duration:b,properties:d});C.combine([a,c,b]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=e+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=k+"%",this.progressBar.style[this._handleOffsetCoord]=w+"%",this.progressBar.style[this._progressPixelSize]=100*(c-a)+"%"}});var D=l("dijit.form._SliderMoverMax",
n,{onMouseMove:function(b){var a=this.widget,c=a._abspos;c||(c=a._abspos=h.position(a.sliderBarContainer,!0),a._setPixelValue_=f.hitch(a,"_setPixelValue"),a._isReversed_=a._isReversed());b=b[a._mousePixelCoord]-c[a._startingPixelCoord];a._setPixelValue_(a._isReversed_?c[a._pixelCount]-b:b,c[a._pixelCount],!1,!0)},destroy:function(b){n.prototype.destroy.apply(this,arguments);var a=this.widget;a._abspos=null;a._setValueAttr(a.value,!0)}}),E=l("dijit.form._SliderBarMover",n,{onMouseMove:function(b){var a=
this.widget;if(!a.disabled&&!a.readOnly){var c=a._abspos,d=a._bar,e=a._mouseOffset;c||(c=a._abspos=h.position(a.sliderBarContainer,!0),a._setPixelValue_=f.hitch(a,"_setPixelValue"),a._getValueByPixelValue_=f.hitch(a,"_getValueByPixelValue"),a._isReversed_=a._isReversed());d||(d=a._bar=h.position(a.progressBar,!0));e||(e=a._mouseOffset=b[a._mousePixelCoord]-d[a._startingPixelCoord]);b=b[a._mousePixelCoord]-c[a._startingPixelCoord]-e;pixelValues=[b,b+d[a._pixelCount]];pixelValues.sort(t);0>=pixelValues[0]&&
(pixelValues[0]=0,pixelValues[1]=d[a._pixelCount]);pixelValues[1]>=c[a._pixelCount]&&(pixelValues[1]=c[a._pixelCount],pixelValues[0]=c[a._pixelCount]-d[a._pixelCount]);c=[a._getValueByPixelValue(a._isReversed_?c[a._pixelCount]-pixelValues[0]:pixelValues[0],c[a._pixelCount]),a._getValueByPixelValue(a._isReversed_?c[a._pixelCount]-pixelValues[1]:pixelValues[1],c[a._pixelCount])];a._setValueAttr(c,!1,!1)}},destroy:function(){n.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;
b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});return u});