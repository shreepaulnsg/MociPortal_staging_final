//>>built
define("dojox/form/manager/_Mixin","dojo/_base/window dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-class dijit/_base/manager dijit/_Widget dijit/form/_FormWidget dijit/form/Button dijit/form/CheckBox dojo/_base/declare".split(" "),function(n,g,f,q,r,x,l,y,t,z,A,p){n=g.getObject("dojox.form.manager",!0);var B=n.actionAdapter=function(a){return function(b,e,c){g.isArray(e)?f.forEach(e,function(d){a.call(this,b,d,c)},this):a.apply(this,arguments)}};n.inspectorAdapter=function(a){return function(b,
e,c){return a.call(this,b,g.isArray(e)?e[0]:e,c)}};var C={domNode:1,containerNode:1,srcNodeRef:1,bgIframe:1},D=n._keys=function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(e);return b},u=function(a){var b=a.get("name");if(b&&a.isInstanceOf(t))if(b in this.formWidgets){var e=this.formWidgets[b].widget;g.isArray(e)?e.push(a):this.formWidgets[b].widget=[e,a]}else this.formWidgets[b]={widget:a,connections:[]};else b=null;return b},v=function(a){var b={};B(function(e,c){(e=c.get("data-dojo-observer")||
c.get("observer"))&&"string"==typeof e&&f.forEach(e.split(","),function(d){(d=g.trim(d))&&g.isFunction(this[d])&&(b[d]=1)},this)}).call(this,null,this.formWidgets[a].widget);return D(b)},w=function(a,b){var e=this.formWidgets[a],c=e.widget,d=e.connections;d.length&&(f.forEach(d,function(h){h.remove()}),d=e.connections=[]);if(g.isArray(c))f.forEach(c,function(h){f.forEach(b,function(m){d.push(q(h,"change",g.hitch(this,function(E){if(this.watching&&r.get(h.focusNode,"checked"))this[m](h.get("value"),
a,h,E)})))},this)},this);else{var k=c.isInstanceOf(z)?"click":"change";f.forEach(b,function(h){d.push(q(c,k,g.hitch(this,function(m){if(this.watching)this[h](c.get("value"),a,c,m)})))},this)}};p=p("dojox.form.manager._Mixin",null,{watching:!0,startup:function(){this._started||(this.formWidgets={},this.formNodes={},this.registerWidgetDescendants(this),this.inherited(arguments))},destroy:function(){for(var a in this.formWidgets)f.forEach(this.formWidgets[a].connections,function(b){b.remove()});this.formWidgets=
{};this.inherited(arguments)},registerWidget:function(a){"string"==typeof a?a=l.byId(a):a.tagName&&a.cloneNode&&(a=l.byNode(a));(a=u.call(this,a))&&w.call(this,a,v.call(this,a));return this},unregisterWidget:function(a){a in this.formWidgets&&(f.forEach(this.formWidgets[a].connections,function(b){b.remove()}),delete this.formWidgets[a]);return this},registerWidgetDescendants:function(a){"string"==typeof a?a=l.byId(a):a.tagName&&a.cloneNode&&(a=l.byNode(a));var b=f.map(a.getDescendants(),u,this);f.forEach(b,
function(e){e&&w.call(this,e,v.call(this,e))},this);return this.registerNodeDescendants?this.registerNodeDescendants(a.domNode):this},unregisterWidgetDescendants:function(a){"string"==typeof a?a=l.byId(a):a.tagName&&a.cloneNode&&(a=l.byNode(a));f.forEach(f.map(a.getDescendants(),function(b){return b instanceof t&&b.get("name")||null}),function(b){b&&this.unregisterWidget(b)},this);return this.unregisterNodeDescendants?this.unregisterNodeDescendants(a.domNode):this},formWidgetValue:function(a,b){var e=
2==arguments.length&&void 0!==b,c;"string"==typeof a&&(a=this.formWidgets[a])&&(a=a.widget);if(!a)return null;if(g.isArray(a)){if(e)return f.forEach(a,function(d){d.set("checked",!1,!this.watching)},this),f.forEach(a,function(d){d.set("checked",d.value===b,!this.watching)},this),this;f.some(a,function(d){return r.get(d.focusNode,"checked")?(c=d,!0):!1});return c?c.get("value"):""}return a.isInstanceOf&&a.isInstanceOf(A)?e?(a.set("value",!!b,!this.watching),this):!!a.get("value"):e?(a.set("value",
b,!this.watching),this):a.get("value")},formPointValue:function(a,b){a&&"string"==typeof a&&(a=this[a]);return a&&a.tagName&&a.cloneNode&&x.contains(a,"dojoFormValue")?2==arguments.length&&void 0!==b?(a.innerHTML=b,this):a.innerHTML:null},inspectFormWidgets:function(a,b,e){var c,d={};if(b)if(g.isArray(b))f.forEach(b,function(k){k in this.formWidgets&&(d[k]=a.call(this,k,this.formWidgets[k].widget,e))},this);else for(c in b)c in this.formWidgets&&(d[c]=a.call(this,c,this.formWidgets[c].widget,b[c]));
else for(c in this.formWidgets)d[c]=a.call(this,c,this.formWidgets[c].widget,e);return d},inspectAttachedPoints:function(a,b,e){var c,d,k={};if(b)if(g.isArray(b))f.forEach(b,function(h){(d=this[h])&&d.tagName&&d.cloneNode&&(k[h]=a.call(this,h,d,e))},this);else for(c in b)(d=this[c])&&d.tagName&&d.cloneNode&&(k[c]=a.call(this,c,d,b[c]));else for(c in this)c in C||(d=this[c])&&d.tagName&&d.cloneNode&&(k[c]=a.call(this,c,d,e));return k},inspect:function(a,b,e){var c=this.inspectFormWidgets(function(d,
k,h){return g.isArray(k)?a.call(this,d,f.map(k,function(m){return m.domNode}),h):a.call(this,d,k.domNode,h)},b,e);this.inspectFormNodes&&g.mixin(c,this.inspectFormNodes(a,b,e));return g.mixin(c,this.inspectAttachedPoints(a,b,e))}});g.extend(y,{observer:""});return p});