//>>built
define("dojox/mobile/common","dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/window dojo/_base/kernel dojo/dom dojo/dom-class dojo/dom-construct dojo/domReady dojo/ready dojo/touch dijit/registry ./sniff ./uacss".split(" "),function(u,l,m,r,d,z,A,p,v,B,C,E,D,f){var a=r.getObject("dojox.mobile",!0);d.doc.dojoClick=!0;f("touch")&&(f.add("clicks-prevented",!(4.1<=f("android")||10===f("ie")||!f("ie")&&6<f("trident"))),f("clicks-prevented")&&(a._sendClick=function(b,c){for(var e=
b;e;e=e.parentNode)if(e.dojoClick)return;e=d.doc.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,d.global,1,c.screenX,c.screenY,c.clientX,c.clientY);b.dispatchEvent(e)}));a.getScreenSize=function(){return{h:d.global.innerHeight||d.doc.documentElement.clientHeight,w:d.global.innerWidth||d.doc.documentElement.clientWidth}};a.updateOrient=function(){var b=a.getScreenSize();p.replace(d.doc.documentElement,b.h>b.w?"dj_portrait":"dj_landscape",b.h>b.w?"dj_landscape":"dj_portrait")};a.updateOrient();
a.tabletSize=500;a.detectScreenSize=function(b){var c=a.getScreenSize(),e=Math.min(c.w,c.h);if(e>=a.tabletSize&&(b||!this._sz||this._sz<a.tabletSize)){var h="phone";var g="tablet"}else e<a.tabletSize&&(b||!this._sz||this._sz>=a.tabletSize)&&(h="tablet",g="phone");g&&(p.replace(d.doc.documentElement,"dj_"+g,"dj_"+h),m.publish("/dojox/mobile/screenSize/"+g,[c]));this._sz=e};a.detectScreenSize();a.hideAddressBarWait="number"===typeof l.mblHideAddressBarWait?l.mblHideAddressBarWait:1500;a.hide_1=function(){scrollTo(0,
1);a._hidingTimer=0==a._hidingTimer?200:2*a._hidingTimer;setTimeout(function(){a.isAddressBarHidden()||a._hidingTimer>a.hideAddressBarWait?(a.resizeAll(),a._hiding=!1):setTimeout(a.hide_1,a._hidingTimer)},50)};a.hideAddressBar=function(b){a.disableHideAddressBar||a._hiding||(a._hiding=!0,a._hidingTimer=f("ios")?200:0,b=screen.availHeight,f("android")&&(b=outerHeight/devicePixelRatio,0==b&&(a._hiding=!1,setTimeout(function(){a.hideAddressBar()},200)),b<=innerHeight&&(b=outerHeight),3>f("android")&&
(d.doc.documentElement.style.overflow=d.body().style.overflow="visible")),d.body().offsetHeight<b&&(d.body().style.minHeight=b+"px",a._resetMinHeight=!0),setTimeout(a.hide_1,a._hidingTimer))};a.isAddressBarHidden=function(){return 1===pageYOffset};a.resizeAll=function(b,c){if(!a.disableResizeAll){m.publish("/dojox/mobile/resizeAll",[b,c]);m.publish("/dojox/mobile/beforeResizeAll",[b,c]);a._resetMinHeight&&(d.body().style.minHeight=a.getScreenSize().h+"px");a.updateOrient();a.detectScreenSize();var e=
function(g){var k=g.getParent&&g.getParent();return!(k&&k.resize||!g.resize)},h=function(g){u.forEach(g.getChildren(),function(k){e(k)&&k.resize();h(k)})};c?(c.resize&&c.resize(),h(c)):u.forEach(u.filter(D.toArray(),e),function(g){g.resize()});m.publish("/dojox/mobile/afterResizeAll",[b,c])}};a.openWindow=function(b,c){d.global.open(b,c||"_blank")};a._detectWindowsTheme=function(){navigator.userAgent.match(/IEMobile\/10\.0/)&&v.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},d.doc.head);
var b=function(){p.add(d.doc.documentElement,"windows_theme");z.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.")},c=f("windows-theme");if(void 0!==c)c&&b();else{var e,h=function(q){return q&&-1!==q.indexOf("/windows/")?(f.add("windows-theme",!0),b(),!0):!1},g=d.doc.styleSheets;for(c=0;c<g.length;c++)if(!g[c].href){var k=g[c].cssRules||g[c].imports;if(k)for(e=0;e<k.length;e++)if(h(k[e].href))return}e=d.doc.getElementsByTagName("link");for(c=
0;c<e.length&&!h(e[c].href);c++);}};!1!==l.mblApplyPageStyles&&p.add(d.doc.documentElement,"mobile");f("chrome")&&p.add(d.doc.documentElement,"dj_chrome");if(d.global._no_dojo_dm){r=d.global._no_dojo_dm;for(var x in r)a[x]=r[x];a.deviceTheme.setDm(a)}f.add("mblAndroidWorkaround",!1!==l.mblAndroidWorkaround&&3>f("android"),void 0,!0);f.add("mblAndroid3Workaround",!1!==l.mblAndroid3Workaround&&3<=f("android"),void 0,!0);a._detectWindowsTheme();a.setSelectable=function(b,c){b=A.byId(b);if(9>=f("ie")){var e=
b.getElementsByTagName("*");var h=e.length;if(c)for(b.removeAttribute("unselectable");h--;)e[h].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");h--;)"INPUT"!==e[h].tagName&&e[h].setAttribute("unselectable","on")}else p.toggle(b,"unselectable",!c)};var y=f("pointer-events")?"touchAction":f("MSPointer")?"msTouchAction":null;a._setTouchAction=y?function(b,c){b.style[y]=c}:function(){};B(function(){!1!==l.mblApplyPageStyles&&p.add(d.body(),"mblBackground")});C(function(){a.detectScreenSize(!0);
!1!==l.mblAndroidWorkaroundButtonStyle&&f("android")&&v.create("style",{innerHTML:"BUTTON,INPUT[type\x3d'button'],INPUT[type\x3d'submit'],INPUT[type\x3d'reset'],INPUT[type\x3d'file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},d.doc.head,"first");f("mblAndroidWorkaround")&&
v.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},d.doc.head,"last");var b=a.resizeAll,c=-1!=navigator.appVersion.indexOf("Mobile")&&!(7<=f("ios"));if(!1!==l.mblHideAddressBar&&c||!0===l.mblForceHideAddressBar)a.hideAddressBar(),!0===l.mblAlwaysHideAddressBar&&(b=a.hideAddressBar);var e=6<=f("ios");if((f("android")||e)&&void 0!==d.global.onorientationchange){var h=b;if(e){var g=d.doc.documentElement.clientWidth;var k=d.doc.documentElement.clientHeight}else{b=
function(w){var n=m.connect(null,"onresize",null,function(t){m.disconnect(n);h(t)})};var q=a.getScreenSize()}m.connect(null,"onresize",null,function(w){if(e){var n=d.doc.documentElement.clientWidth,t=d.doc.documentElement.clientHeight;n==g&&t!=k&&h(w);g=n;k=t}else n=a.getScreenSize(),n.w==q.w&&100<=Math.abs(n.h-q.h)&&h(w),q=n})}m.connect(null,void 0!==d.global.onorientationchange?"onorientationchange":"onresize",null,b);d.body().style.visibility="visible"});return a});