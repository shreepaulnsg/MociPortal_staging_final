//>>built
require({cache:{"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(t,y,w,E,C,k,l,p,v,e){function x(c,g){for(var m=c.length-1;g<m;)c[g]=c[++g];c.length=m}var r=t.shape={};r.Shape=w("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;
if(C("gfxRegistry")){var c=r.register(this);this.getUID=function(){return c}}},destroy:function(){C("gfxRegistry")&&r.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},
getTransformedBoundingBox:function(){var c=this.getBoundingBox();if(!c)return null;var g=this._getRealMatrix();return[e.multiplyPoint(g,c.x,c.y),e.multiplyPoint(g,c.x+c.width,c.y),e.multiplyPoint(g,c.x+c.width,c.y+c.height),e.multiplyPoint(g,c.x,c.y+c.height)]},getEventSource:function(){return this.rawNode},setClip:function(c){this.clip=c},getClip:function(){return this.clip},setShape:function(c){this.shape=t.makeParameters(this.shape,c);this.bbox=null;return this},setFill:function(c){if(!c)return this.fillStyle=
null,this;var g=null;if("object"==typeof c&&"type"in c)switch(c.type){case "linear":g=t.makeParameters(t.defaultLinearGradient,c);break;case "radial":g=t.makeParameters(t.defaultRadialGradient,c);break;case "pattern":g=t.makeParameters(t.defaultPattern,c)}else g=t.normalizeColor(c);this.fillStyle=g;return this},setStroke:function(c){if(!c)return this.strokeStyle=null,this;if("string"==typeof c||y.isArray(c)||c instanceof v)c={color:c};c=this.strokeStyle=t.makeParameters(t.defaultStroke,c);c.color=
t.normalizeColor(c.color);return this},setTransform:function(c){this.matrix=e.clone(c?e.normalize(c):e.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var c=this.getParent();c&&(c._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var c=this.getParent();c&&(c._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(c){return c?this.setTransform([this.matrix,
c]):this},applyLeftTransform:function(c){return c?this.setTransform([c,this.matrix]):this},applyTransform:function(c){return c?this.setTransform([this.matrix,c]):this},removeShape:function(c){this.parent&&this.parent.remove(this,c);return this},_setParent:function(c,g){this.parent=c;return this._updateParentMatrix(g)},_updateParentMatrix:function(c){this.parentMatrix=c?e.clone(c):null;return this._applyTransform()},_getRealMatrix:function(){for(var c=this.matrix,g=this.parent;g;)g.matrix&&(c=e.multiply(g.matrix,
c)),g=g.parent;return c}});r._eventsProcessing={on:function(c,g){return k(this.getEventSource(),c,r.fixCallback(this,t.fixTarget,g))},connect:function(c,g,m){"on"==c.substring(0,2)&&(c=c.substring(2));return this.on(c,m?y.hitch(g,m):g)},disconnect:function(c){return c.remove()}};r.fixCallback=function(c,g,m,z){z||(z=m,m=null);if(y.isString(z)){m=m||E.global;if(!m[z])throw['dojox.gfx.shape.fixCallback: scope["',z,'"] is null (scope\x3d"',m,'")'].join("");return function(n){return g(n,c)?m[z].apply(m,
arguments||[]):void 0}}return m?function(n){return g(n,c)?z.apply(m,arguments||[]):void 0}:function(n){return g(n,c)?z.apply(m,arguments):void 0}};y.extend(r.Shape,r._eventsProcessing);r.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(c){var g=c.getParent();g&&g.remove(c,!0);this.children.push(c);return c._setParent(this,this._getRealMatrix())},remove:function(c,g){for(var m=0;m<this.children.length;++m)if(this.children[m]==
c){g||(c.parent=null,c.parentMatrix=null);x(this.children,m);break}return this},clear:function(c){for(var g,m=0;m<this.children.length;++m)g=this.children[m],g.parent=null,g.parentMatrix=null,c&&g.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var c=null;l.forEach(this.children,function(g){var m=g.getBoundingBox();m&&((g=g.getTransform())&&(m=e.multiplyRectangle(g,m)),c?(c.x=Math.min(c.x,m.x),c.y=Math.min(c.y,m.y),c.endX=Math.max(c.endX,m.x+m.width),c.endY=Math.max(c.endY,
m.y+m.height)):c={x:m.x,y:m.y,endX:m.x+m.width,endY:m.y+m.height})});c&&(c.width=c.endX-c.x,c.height=c.endY-c.y);return c}return null},_moveChildToFront:function(c){for(var g=0;g<this.children.length;++g)if(this.children[g]==c){x(this.children,g);this.children.push(c);break}return this},_moveChildToBack:function(c){for(var g=0;g<this.children.length;++g)if(this.children[g]==c){x(this.children,g);this.children.unshift(c);break}return this}};r.Surface=w("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=
this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){l.forEach(this._nodes,p.destroy);this._nodes=[];l.forEach(this._events,function(c){c&&c.remove()});this._events=[];this.rawNode=null;if(C("ie"))for(;this._parent.lastChild;)p.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(c){},whenLoaded:function(c,g){var m=y.hitch(c,g);if(this.isLoaded)m(this);
else k.once(this,"load",function(z){m(z)})}});y.extend(r.Surface,r._eventsProcessing);r.Rect=w("dojox.gfx.shape.Rect",r.Shape,{constructor:function(c){this.shape=t.getDefault("Rect");this.rawNode=c},getBoundingBox:function(){return this.shape}});r.Ellipse=w("dojox.gfx.shape.Ellipse",r.Shape,{constructor:function(c){this.shape=t.getDefault("Ellipse");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-c.rx,y:c.cy-c.ry,width:2*c.rx,height:2*c.ry}}return this.bbox}});
r.Circle=w("dojox.gfx.shape.Circle",r.Shape,{constructor:function(c){this.shape=t.getDefault("Circle");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-c.r,y:c.cy-c.r,width:2*c.r,height:2*c.r}}return this.bbox}});r.Line=w("dojox.gfx.shape.Line",r.Shape,{constructor:function(c){this.shape=t.getDefault("Line");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:Math.min(c.x1,c.x2),y:Math.min(c.y1,c.y2),width:Math.abs(c.x2-
c.x1),height:Math.abs(c.y2-c.y1)}}return this.bbox}});r.Polyline=w("dojox.gfx.shape.Polyline",r.Shape,{constructor:function(c){this.shape=t.getDefault("Polyline");this.rawNode=c},setShape:function(c,g){c&&c instanceof Array?(this.inherited(arguments,[{points:c}]),g&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[c]);return this},_normalizePoints:function(){var c=this.shape.points,g=c&&c.length;if(g&&"number"==typeof c[0]){for(var m=[],z=0;z<g;z+=
2)m.push({x:c[z],y:c[z+1]});this.shape.points=m}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var c=this.shape.points,g=c.length,m=c[0],z=m.x,n=m.y,D=m.x,G=m.y,A=1;A<g;++A)m=c[A],z>m.x&&(z=m.x),D<m.x&&(D=m.x),n>m.y&&(n=m.y),G<m.y&&(G=m.y);this.bbox={x:z,y:n,width:D-z,height:G-n}}return this.bbox}});r.Image=w("dojox.gfx.shape.Image",r.Shape,{constructor:function(c){this.shape=t.getDefault("Image");this.rawNode=c},getBoundingBox:function(){return this.shape},setStroke:function(){return this},
setFill:function(){return this}});r.Text=w(r.Shape,{constructor:function(c){this.fontStyle=null;this.shape=t.getDefault("Text");this.rawNode=c},getFont:function(){return this.fontStyle},setFont:function(c){this.fontStyle="string"==typeof c?t.splitFontString(c):t.makeParameters(t.defaultFont,c);this._setFont();return this},getBoundingBox:function(){var c=null;this.getShape().text&&(c=t._base._computeTextBoundingBox(this));return c}});r.Creator={createShape:function(c){switch(c.type){case t.defaultPath.type:return this.createPath(c);
case t.defaultRect.type:return this.createRect(c);case t.defaultCircle.type:return this.createCircle(c);case t.defaultEllipse.type:return this.createEllipse(c);case t.defaultLine.type:return this.createLine(c);case t.defaultPolyline.type:return this.createPolyline(c);case t.defaultImage.type:return this.createImage(c);case t.defaultText.type:return this.createText(c);case t.defaultTextPath.type:return this.createTextPath(c)}return null},createGroup:function(){return this.createObject(t.Group)},createRect:function(c){return this.createObject(t.Rect,
c)},createEllipse:function(c){return this.createObject(t.Ellipse,c)},createCircle:function(c){return this.createObject(t.Circle,c)},createLine:function(c){return this.createObject(t.Line,c)},createPolyline:function(c){return this.createObject(t.Polyline,c)},createImage:function(c){return this.createObject(t.Image,c)},createText:function(c){return this.createObject(t.Text,c)},createPath:function(c){return this.createObject(t.Path,c)},createTextPath:function(c){return this.createObject(t.TextPath,{}).setText(c)},
createObject:function(c,g){return null}};return r})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(t,y,w,E,C){C=w("dojox.gfx.path.Path",C.Shape,{constructor:function(k){this.shape=y.clone(t.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=k;this.segmented=!1},setAbsoluteMode:function(k){this._confirmSegmented();this.absolute="string"==typeof k?"absolute"==k:k;return this},getAbsoluteMode:function(){this._confirmSegmented();
return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var k=this.bbox,l=this._getRealMatrix();this.bbox=null;for(var p=0,v=this.segments.length;p<v;++p)this._updateWithSegment(this.segments[p],l);l=this.bbox;this.bbox=k;return this.tbbox=l?[{x:l.l,y:l.t},{x:l.r,y:l.t},{x:l.r,
y:l.b},{x:l.l,y:l.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(k,l,p){p&&(l=E.multiplyPoint(p,k,l),k=l.x,l=l.y);this.bbox&&"l"in this.bbox?(this.bbox.l>k&&(this.bbox.l=k),this.bbox.r<k&&(this.bbox.r=k),this.bbox.t>l&&(this.bbox.t=l),this.bbox.b<l&&(this.bbox.b=l)):this.bbox={l:k,b:l,r:k,t:l}},_updateWithSegment:function(k,l){var p=k.args,v=p.length,
e;switch(k.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(e=0;e<v;e+=2)this._updateBBox(p[e],p[e+1],l);this.last.x=p[v-2];this.last.y=p[v-1];this.absolute=!0;break;case "H":for(e=0;e<v;++e)this._updateBBox(p[e],this.last.y,l);this.last.x=p[v-1];this.absolute=!0;break;case "V":for(e=0;e<v;++e)this._updateBBox(this.last.x,p[e],l);this.last.y=p[v-1];this.absolute=!0;break;case "m":e=0;"x"in this.last||(this._updateBBox(this.last.x=p[0],this.last.y=p[1],l),e=2);for(;e<v;e+=2)this._updateBBox(this.last.x+=
p[e],this.last.y+=p[e+1],l);this.absolute=!1;break;case "l":case "t":for(e=0;e<v;e+=2)this._updateBBox(this.last.x+=p[e],this.last.y+=p[e+1],l);this.absolute=!1;break;case "h":for(e=0;e<v;++e)this._updateBBox(this.last.x+=p[e],this.last.y,l);this.absolute=!1;break;case "v":for(e=0;e<v;++e)this._updateBBox(this.last.x,this.last.y+=p[e],l);this.absolute=!1;break;case "c":for(e=0;e<v;e+=6)this._updateBBox(this.last.x+p[e],this.last.y+p[e+1],l),this._updateBBox(this.last.x+p[e+2],this.last.y+p[e+3],l),
this._updateBBox(this.last.x+=p[e+4],this.last.y+=p[e+5],l);this.absolute=!1;break;case "s":case "q":for(e=0;e<v;e+=4)this._updateBBox(this.last.x+p[e],this.last.y+p[e+1],l),this._updateBBox(this.last.x+=p[e+2],this.last.y+=p[e+3],l);this.absolute=!1;break;case "A":for(e=0;e<v;e+=7)this._updateBBox(p[e+5],p[e+6],l);this.last.x=p[v-2];this.last.y=p[v-1];this.absolute=!0;break;case "a":for(e=0;e<v;e+=7)this._updateBBox(this.last.x+=p[e+5],this.last.y+=p[e+6],l);this.absolute=!1}k=[k.action];for(e=0;e<
v;++e)k.push(t.formatNumber(p[e],!0));if("string"==typeof this.shape.path)this.shape.path+=k.join("");else for(e=0,v=k.length;e<v;++e)this.shape.path.push(k[e])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(k,l){this.tbbox=null;var p=this._validSegments[k.toLowerCase()];"number"==typeof p&&(p?l.length>=p&&(k={action:k,args:l.slice(0,l.length-l.length%p)},this.segments.push(k),this._updateWithSegment(k)):(k={action:k,args:[]},this.segments.push(k),this._updateWithSegment(k)))},
_collectArgs:function(k,l){for(var p=0;p<l.length;++p){var v=l[p];"boolean"==typeof v?k.push(v?1:0):"number"==typeof v?k.push(v):v instanceof Array?this._collectArgs(k,v):"x"in v&&"y"in v&&k.push(v.x,v.y)}},moveTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"M":"m",k);return this},lineTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"L":"l",k);return this},hLineTo:function(){this._confirmSegmented();
var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"H":"h",k);return this},vLineTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"V":"v",k);return this},curveTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"C":"c",k);return this},smoothCurveTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"S":
"s",k);return this},qCurveTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"Q":"q",k);return this},qSmoothCurveTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"T":"t",k);return this},arcTo:function(){this._confirmSegmented();var k=[];this._collectArgs(k,arguments);this._pushSegment(this.absolute?"A":"a",k);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",
[]);return this},_confirmSegmented:function(){if(!this.segmented){var k=this.shape.path;this.shape.path=[];this._setPath(k);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(k){k=y.isArray(k)?k:k.match(t.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(k){for(var l="",p=[],v=k.length,e=0;e<v;++e){var x=k[e],r=parseFloat(x);isNaN(r)?(l&&this._pushSegment(l,p),p=[],l=x):p.push(r)}this._pushSegment(l,p)}},setShape:function(k){this.inherited(arguments,
["string"==typeof k?{path:k}:k]);this.segmented=!1;this.segments=[];t.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});w=w("dojox.gfx.path.TextPath",C,{constructor:function(k){"text"in this||(this.text=y.clone(t.defaultTextPath));"fontStyle"in this||(this.fontStyle=y.clone(t.defaultFont))},getText:function(){return this.text},setText:function(k){this.text=t.makeParameters(this.text,"string"==typeof k?{text:k}:k);this._setText();return this},getFont:function(){return this.fontStyle},
setFont:function(k){this.fontStyle="string"==typeof k?t.splitFontString(k):t.makeParameters(t.defaultFont,k);this._setFont();return this}});return t.path={Path:C,TextPath:w}})},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(t,y,w){function E(e){var x=Math.cos(e);e=Math.sin(e);var r={x:x+4/3*(1-x),y:e-4/3*x*(1-x)/e};return{s:{x:x,y:-e},c1:{x:r.x,y:-r.y},c2:r,e:{x:x,y:e}}}var C=2*Math.PI,k=Math.PI/4,l=Math.PI/8,p=k+l,v=E(l);return t.arc={unitArcAsBezier:E,curvePI4:v,
arcAsBezier:function(e,x,r,c,g,m,z,n){g=!!g;m=!!m;var D=w._degToRad(c);c=x*x;var G=r*r,A=w.multiplyPoint(w.rotate(-D),{x:(e.x-z)/2,y:(e.y-n)/2}),H=A.x*A.x,a=A.y*A.y;c=Math.sqrt((c*G-c*a-G*H)/(c*a+G*H));isNaN(c)&&(c=0);c={x:c*x*A.y/r,y:-c*r*A.x/x};g==m&&(c={x:-c.x,y:-c.y});c=w.multiplyPoint([w.translate((e.x+z)/2,(e.y+n)/2),w.rotate(D)],c);x=w.normalize([w.translate(c.x,c.y),w.rotate(D),w.scale(x,r)]);c=w.invert(x);e=w.multiplyPoint(c,e);n=w.multiplyPoint(c,z,n);z=Math.atan2(e.y,e.x);c=z-Math.atan2(n.y,
n.x);m&&(c=-c);0>c?c+=C:c>C&&(c-=C);r=l;n=v;r=m?r:-r;e=[];for(g=c;0<g;g-=k)g<p&&(r=g/2,n=E(r),r=m?r:-r,g=0),A=w.normalize([x,w.rotate(z+r)]),m?(c=w.multiplyPoint(A,n.c1),D=w.multiplyPoint(A,n.c2),A=w.multiplyPoint(A,n.e)):(c=w.multiplyPoint(A,n.c2),D=w.multiplyPoint(A,n.c1),A=w.multiplyPoint(A,n.s)),e.push([c.x,c.y,D.x,D.y,A.x,A.y]),z+=2*r;return e}}})},"dojox/gfx/gradient":function(){define(["dojo/_base/lang","./matrix","dojo/_base/Color"],function(t,y,w){function E(l,p,v,e,x,r){l=y.multiplyPoint(v,
l,p);e=y.multiplyPoint(e,l);return{r:l,p:e,o:y.multiplyPoint(x,e).x/r}}function C(l,p){return l.o-p.o}var k=t.getObject("dojox.gfx.gradient",!0);k.rescale=function(l,p,v){var e=l.length,x=v<p;if(x){var r=p;p=v;v=r}if(!e)return[];if(v<=l[0].offset)r=[{offset:0,color:l[0].color},{offset:1,color:l[0].color}];else if(p>=l[e-1].offset)r=[{offset:0,color:l[e-1].color},{offset:1,color:l[e-1].color}];else{var c=v-p,g;r=[];0>p&&r.push({offset:0,color:new w(l[0].color)});for(g=0;g<e;++g){var m=l[g];if(m.offset>=
p)break}if(g){var z=l[g-1];r.push({offset:0,color:w.blendColors(new w(z.color),new w(m.color),(p-z.offset)/(m.offset-z.offset))})}else r.push({offset:0,color:new w(m.color)});for(;g<e;++g){m=l[g];if(m.offset>=v)break;r.push({offset:(m.offset-p)/c,color:new w(m.color)})}g<e?(z=l[g-1],r.push({offset:1,color:w.blendColors(new w(z.color),new w(m.color),(v-z.offset)/(m.offset-z.offset))})):r.push({offset:1,color:new w(l[e-1].color)})}if(x)for(r.reverse(),g=0,e=r.length;g<e;++g)m=r[g],m.offset=1-m.offset;
return r};k.project=function(l,p,v,e,x,r){l=l||y.identity;var c=y.multiplyPoint(l,p.x1,p.y1),g=y.multiplyPoint(l,p.x2,p.y2);x=Math.atan2(g.y-c.y,g.x-c.x);r=y.project(g.x-c.x,g.y-c.y);c=y.multiplyPoint(r,c);g=y.multiplyPoint(r,g);c=new y.Matrix2D([y.rotate(-x),{dx:-c.x,dy:-c.y}]);g=y.multiplyPoint(c,g).x;l=[E(v.x,v.y,l,r,c,g),E(e.x,e.y,l,r,c,g),E(v.x,e.y,l,r,c,g),E(e.x,v.y,l,r,c,g)].sort(C);p=k.rescale(p.colors,l[0].o,l[3].o);return{type:"linear",x1:l[0].p.x,y1:l[0].p.y,x2:l[3].p.x,y2:l[3].p.y,colors:p,
angle:x}};return k})},"*noref":1}});
define("dojox/gfx/vml","dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/sniff dojo/_base/config dojo/dom dojo/dom-geometry dojo/_base/kernel ./_base ./shape ./path ./arc ./gradient ./matrix".split(" "),function(t,y,w,E,C,k,l,p,v,e,x,r,c,g,m){function z(a,b,d){d=d||v.global;b.call(d,a);(a instanceof e.Surface||a instanceof e.Group)&&w.forEach(a.children,function(f){z(f,b,d)})}var n=e.vml={};n.xmlns="urn:schemas-microsoft-com:vml";document.namespaces.add("v",n.xmlns);
g="* group roundrect oval shape rect imagedata path textpath text".split(" ");var D=0,G=1,A=document.createStyleSheet();8<=C("ie")&&(D=1,G=g.length);for(;D<G;++D)A.addRule("v\\:"+g[D],"behavior:url(#default#VML); display:inline-block");n.text_alignment={start:"left",middle:"center",end:"right"};n._parseFloat=function(a){return a.match(/^\d+f$/i)?parseInt(a)/65536:parseFloat(a)};n._bool={t:1,"true":1};n._reparentEvents=function(a,b){for(var d in b)"on"==d.substr(0,2).toLowerCase()&&(a[d]=b[d],b[d]=
null)};n.Shape=y("dojox.gfx.vml.Shape",x.Shape,{setFill:function(a){if(!a)return this.fillStyle=null,this.rawNode.filled="f",this;var b;if("object"==typeof a&&"type"in a){switch(a.type){case "linear":var d=this._getRealMatrix(),f=this.getBoundingBox(),h=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();var q=[];this.fillStyle!==a&&(this.fillStyle=e.makeParameters(e.defaultLinearGradient,a));a=e.gradient.project(d,this.fillStyle,{x:f.x,y:f.y},{x:f.x+f.width,y:f.y+f.height},h[0],
h[2]);var u=a.colors;"0.00000"!=u[0].offset.toFixed(5)&&q.push("0 "+e.normalizeColor(u[0].color).toHex());for(b=0;b<u.length;++b)q.push(u[b].offset.toFixed(5)+" "+e.normalizeColor(u[b].color).toHex());b=u.length-1;"1.00000"!=u[b].offset.toFixed(5)&&q.push("1 "+e.normalizeColor(u[b].color).toHex());b=this.rawNode.fill;b.colors.value=q.join(";");b.method="sigma";b.type="gradient";b.angle=(270-m._radToDeg(a.angle))%360;b.on=!0;break;case "radial":this.fillStyle=a=e.makeParameters(e.defaultRadialGradient,
a);d=parseFloat(this.rawNode.style.left);f=parseFloat(this.rawNode.style.top);h=parseFloat(this.rawNode.style.width);var B=parseFloat(this.rawNode.style.height),I=isNaN(h)?1:2*a.r/h;u=[];0<a.colors[0].offset&&u.push({offset:1,color:e.normalizeColor(a.colors[0].color)});w.forEach(a.colors,function(F,K){u.push({offset:1-F.offset*I,color:e.normalizeColor(F.color)})});for(b=u.length-1;0<=b&&0>u[b].offset;)--b;if(b<u.length-1){q=u[b];var J=u[b+1];J.color=E.blendColors(q.color,J.color,q.offset/(q.offset-
J.offset));for(J.offset=0;2<u.length-b;)u.pop()}b=u.length-1;q=[];for(0<u[b].offset&&q.push("0 "+u[b].color.toHex());0<=b;--b)q.push(u[b].offset.toFixed(5)+" "+u[b].color.toHex());b=this.rawNode.fill;b.colors.value=q.join(";");b.method="sigma";b.type="gradientradial";isNaN(h)||isNaN(B)||isNaN(d)||isNaN(f)?b.focusposition="0.5 0.5":b.focusposition=((a.cx-d)/h).toFixed(5)+" "+((a.cy-f)/B).toFixed(5);b.focussize="0 0";b.on=!0;break;case "pattern":this.fillStyle=a=e.makeParameters(e.defaultPattern,a),
b=this.rawNode.fill,b.type="tile",b.src=a.src,a.width&&a.height&&(b.size.x=e.px2pt(a.width),b.size.y=e.px2pt(a.height)),b.alignShape="f",b.position.x=0,b.position.y=0,b.origin.x=a.width?a.x/a.width:0,b.origin.y=a.height?a.y/a.height:0,b.on=!0}this.rawNode.fill.opacity=1;return this}this.fillStyle=e.normalizeColor(a);(b=this.rawNode.fill)||(b=this.rawNode.ownerDocument.createElement("v:fill"));b.method="any";b.type="solid";b.opacity=this.fillStyle.a;if(q=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"])q.opacity=
Math.round(100*this.fillStyle.a);this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=!0;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this.rawNode.stroked="f",this;if("string"==typeof a||t.isArray(a)||a instanceof E)a={color:a};a=this.strokeStyle=e.makeParameters(e.defaultStroke,a);a.color=e.normalizeColor(a.color);var b=this.rawNode;b.stroked=!0;b.strokecolor=a.color.toCss();b.strokeweight=a.width+"px";b.stroke&&(b.stroke.opacity=a.color.a,b.stroke.endcap=this._translate(this._capMap,
a.cap),"number"==typeof a.join?(b.stroke.joinstyle="miter",b.stroke.miterlimit=a.join):b.stroke.joinstyle=a.join,b.stroke.dashstyle="none"==a.style?"Solid":a.style);return this},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(a,b){return b in a?a[b]:b},_applyTransform:function(){var a=this._getRealMatrix();if(a){var b=this.rawNode.skew;if("undefined"==typeof b)for(var d=0;d<this.rawNode.childNodes.length;++d)if("skew"==this.rawNode.childNodes[d].tagName){b=this.rawNode.childNodes[d];
break}if(b){b.on="f";d=a.xx.toFixed(8)+" "+a.xy.toFixed(8)+" "+a.yx.toFixed(8)+" "+a.yy.toFixed(8)+" 0 0";a=Math.floor(a.dx).toFixed()+"px "+Math.floor(a.dy).toFixed()+"px";var f=this.rawNode.style,h=parseFloat(f.left),q=parseFloat(f.top),u=parseFloat(f.width);f=parseFloat(f.height);isNaN(h)&&(h=0);isNaN(q)&&(q=0);if(isNaN(u)||!u)u=1;if(isNaN(f)||!f)f=1;h=(-h/u-.5).toFixed(8)+" "+(-q/f-.5).toFixed(8);b.matrix=d;b.origin=h;b.offset=a;b.on=!0}}this.fillStyle&&"linear"==this.fillStyle.type&&this.setFill(this.fillStyle);
this.clip&&this.setClip(this.clip);return this},_setDimensions:function(a,b){return this},setRawNode:function(a){a.stroked="f";a.filled="f";this.rawNode=a;this.rawNode.__gfxObject__=this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){var a=this.rawNode,b=a.parentNode,d=b.firstChild;b.insertBefore(a,d);"rect"==d.tagName&&d.swapNode(a);return this},_getRealMatrix:function(){return this.parentMatrix?new m.Matrix2D([this.parentMatrix,this.matrix]):
this.matrix},setClip:function(a){this.inherited(arguments);var b=this.rawNode.style;if(!a)b.position="absolute",b.clip="rect(0px "+b.width+" "+b.height+" 0px)";else if("width"in a){var d=this._getRealMatrix(),f=parseFloat(b.left),h=parseFloat(b.top);isNaN(f)&&(f=0);isNaN(h)&&(h=0);var q=m.multiplyRectangle(d,a);d=m.multiplyPoint(d,{x:f,y:h});b.clip="rect("+Math.round(q.y-d.y)+"px "+Math.round(q.x-d.x+q.width)+"px "+Math.round(q.y-d.y+q.height)+"px "+Math.round(q.x-d.x)+"px)"}return this}});n.Group=
y("dojox.gfx.vml.Group",n.Shape,{constructor:function(){x.Container._init.call(this)},_applyTransform:function(){for(var a=this._getRealMatrix(),b=0;b<this.children.length;++b)this.children[b]._updateParentMatrix(a);this.clip&&this.setClip(this.clip);return this},_setDimensions:function(a,b){var d=this.rawNode,f=d.style,h=this.bgNode.style;f.width=a;f.height=b;d.coordsize=a+" "+b;h.width=a;h.height=b;for(d=0;d<this.children.length;++d)this.children[d]._setDimensions(a,b);return this},setClip:function(a){this.clip=
a;var b=this.rawNode.style;if(!a)b.position="absolute",b.clip="rect(0px "+b.width+" "+b.height+" 0px)";else if("width"in a){var d=this._getRealMatrix();a=m.multiplyRectangle(d,a);var f=this.getBoundingBox();d=(f=f?m.multiplyRectangle(d,f):null)&&0>f.x?f.x:0;f=f&&0>f.y?f.y:0;b.position="absolute";b.clip="rect("+Math.round(a.y-f)+"px "+Math.round(a.x+a.width-d)+"px "+Math.round(a.y+a.height-f)+"px "+Math.round(a.x-d)+"px)"}return this},destroy:function(){this.clear(!0);n.Shape.prototype.destroy.apply(this,
arguments)}});n.Group.nodeType="group";n.Rect=y("dojox.gfx.vml.Rect",[n.Shape,x.Rect],{setShape:function(a){a=this.shape=e.makeParameters(this.shape,a);this.bbox=null;var b=Math.min(1,a.r/Math.min(parseFloat(a.width),parseFloat(a.height))).toFixed(8),d=this.rawNode.parentNode,f=null;if(d){if(d.lastChild!==this.rawNode)for(var h=0;h<d.childNodes.length;++h)if(d.childNodes[h]===this.rawNode){f=d.childNodes[h+1];break}d.removeChild(this.rawNode)}7<C("ie")?(h=this.rawNode.ownerDocument.createElement("v:roundrect"),
h.arcsize=b,h.style.display="inline-block",n._reparentEvents(h,this.rawNode),this.rawNode=h,this.rawNode.__gfxObject__=this):this.rawNode.arcsize=b;d&&(f?d.insertBefore(this.rawNode,f):d.appendChild(this.rawNode));b=this.rawNode.style;b.left=a.x.toFixed();b.top=a.y.toFixed();b.width="string"==typeof a.width&&0<=a.width.indexOf("%")?a.width:Math.max(a.width.toFixed(),0);b.height="string"==typeof a.height&&0<=a.height.indexOf("%")?a.height:Math.max(a.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle)}});
n.Rect.nodeType="roundrect";n.Ellipse=y("dojox.gfx.vml.Ellipse",[n.Shape,x.Ellipse],{setShape:function(a){a=this.shape=e.makeParameters(this.shape,a);this.bbox=null;var b=this.rawNode.style;b.left=(a.cx-a.rx).toFixed();b.top=(a.cy-a.ry).toFixed();b.width=(2*a.rx).toFixed();b.height=(2*a.ry).toFixed();return this.setTransform(this.matrix)}});n.Ellipse.nodeType="oval";n.Circle=y("dojox.gfx.vml.Circle",[n.Shape,x.Circle],{setShape:function(a){a=this.shape=e.makeParameters(this.shape,a);this.bbox=null;
var b=this.rawNode.style;b.left=(a.cx-a.r).toFixed();b.top=(a.cy-a.r).toFixed();b.width=(2*a.r).toFixed();b.height=(2*a.r).toFixed();return this}});n.Circle.nodeType="oval";n.Line=y("dojox.gfx.vml.Line",[n.Shape,x.Line],{constructor:function(a){a&&a.setAttribute("dojoGfxType","line")},setShape:function(a){a=this.shape=e.makeParameters(this.shape,a);this.bbox=null;this.rawNode.path.v="m"+a.x1.toFixed()+" "+a.y1.toFixed()+"l"+a.x2.toFixed()+" "+a.y2.toFixed()+"e";return this.setTransform(this.matrix)}});
n.Line.nodeType="shape";n.Polyline=y("dojox.gfx.vml.Polyline",[n.Shape,x.Polyline],{constructor:function(a){a&&a.setAttribute("dojoGfxType","polyline")},setShape:function(a,b){a&&a instanceof Array?(this.shape=e.makeParameters(this.shape,{points:a}),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=e.makeParameters(this.shape,a);this.bbox=null;this._normalizePoints();a=[];b=this.shape.points;if(0<b.length&&(a.push("m"),a.push(b[0].x.toFixed(),b[0].y.toFixed()),
1<b.length)){a.push("l");for(var d=1;d<b.length;++d)a.push(b[d].x.toFixed(),b[d].y.toFixed())}a.push("e");this.rawNode.path.v=a.join(" ");return this.setTransform(this.matrix)}});n.Polyline.nodeType="shape";n.Image=y("dojox.gfx.vml.Image",[n.Shape,x.Image],{setShape:function(a){a=this.shape=e.makeParameters(this.shape,a);this.bbox=null;this.rawNode.firstChild.src=a.src;return this.setTransform(this.matrix)},_applyTransform:function(){var a=this._getRealMatrix(),b=this.rawNode,d=b.style,f=this.shape;
a=a?m.multiply(a,{dx:f.x,dy:f.y}):m.normalize({dx:f.x,dy:f.y});if(0==a.xy&&0==a.yx&&0<a.xx&&0<a.yy)d.filter="",d.width=Math.floor(a.xx*f.width),d.height=Math.floor(a.yy*f.height),d.left=Math.floor(a.dx),d.top=Math.floor(a.dy);else{var h=b.parentNode.style;d.left="0px";d.top="0px";d.width=h.width;d.height=h.height;a=m.multiply(a,{xx:f.width/parseInt(d.width),yy:f.height/parseInt(d.height)});(b=b.filters["DXImageTransform.Microsoft.Matrix"])?(b.M11=a.xx,b.M12=a.xy,b.M21=a.yx,b.M22=a.yy,b.Dx=a.dx,b.Dy=
a.dy):d.filter="progid:DXImageTransform.Microsoft.Matrix(M11\x3d"+a.xx+", M12\x3d"+a.xy+", M21\x3d"+a.yx+", M22\x3d"+a.yy+", Dx\x3d"+a.dx+", Dy\x3d"+a.dy+")"}return this},_setDimensions:function(a,b){var d=this.rawNode;return d.filters["DXImageTransform.Microsoft.Matrix"]?(d=d.style,d.width=a,d.height=b,this._applyTransform()):this}});n.Image.nodeType="rect";n.Text=y("dojox.gfx.vml.Text",[n.Shape,x.Text],{constructor:function(a){a&&a.setAttribute("dojoGfxType","text");this.fontStyle=null},_alignment:{start:"left",
middle:"center",end:"right"},setShape:function(a){this.shape=e.makeParameters(this.shape,a);this.bbox=null;var b=this.rawNode;a=this.shape;var d=a.x,f=a.y.toFixed();switch(a.align){case "middle":d-=5;break;case "end":d-=10}f="m"+d.toFixed()+","+f+"l"+(d+10).toFixed()+","+f+"e";var h=null;d=null;for(var q=b.childNodes,u=0;u<q.length;++u){var B=q[u].tagName;if("path"==B){if(h=q[u],d)break}else if("textpath"==B&&(d=q[u],h))break}h||(h=b.ownerDocument.createElement("v:path"),b.appendChild(h));d||(d=b.ownerDocument.createElement("v:textpath"),
b.appendChild(d));h.v=f;h.textPathOk=!0;d.on=!0;b=n.text_alignment[a.align];d.style["v-text-align"]=b?b:"left";d.style["text-decoration"]=a.decoration;d.style["v-rotate-letters"]=a.rotated;d.style["v-text-kern"]=a.kerning;d.string=a.text;return this.setTransform(this.matrix)},_setFont:function(){for(var a=this.fontStyle,b=this.rawNode.childNodes,d=0;d<b.length;++d)if("textpath"==b[d].tagName){b[d].style.font=e.makeFontString(a);break}this.setTransform(this.matrix)},_getRealMatrix:function(){var a=
this.inherited(arguments);a&&(a=m.multiply(a,{dy:.35*-e.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")}));return a},getTextWidth:function(){var a=this.rawNode,b=a.style.display;a.style.display="inline";var d=e.pt2px(parseFloat(a.currentStyle.width));a.style.display=b;return d}});n.Text.nodeType="shape";n.Path=y("dojox.gfx.vml.Path",[n.Shape,r.Path],{constructor:function(a){a&&!a.getAttribute("dojoGfxType")&&a.setAttribute("dojoGfxType","path");this.vmlPath="";this.lastControl={}},_updateWithSegment:function(a){var b=
t.clone(this.last);this.inherited(arguments);1<arguments.length||(b=this[this.renderers[a.action]](a,b),"string"==typeof this.vmlPath?(this.vmlPath+=b.join(""),this.rawNode.path.v=this.vmlPath+" r0,0 e"):Array.prototype.push.apply(this.vmlPath,b))},setShape:function(a){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},
renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(a,b,d,f){for(b=b instanceof Array?b:b.args;d<f;++d)a.push(" ",b[d].toFixed())},_adjustRelCrd:function(a,b,d){b=b instanceof Array?b:b.args;var f=b.length,h=Array(f),q=0,u=
a.x;a=a.y;"number"!=typeof u&&(h[0]=u=b[0],h[1]=a=b[1],q=2);if("number"==typeof d&&2!=d)for(var B=d;B<=f;){for(;q<B;q+=2)h[q]=u+b[q],h[q+1]=a+b[q+1];u=h[B-2];a=h[B-1];B+=d}else for(;q<f;q+=2)h[q]=u+=b[q],h[q+1]=a+=b[q+1];return h},_adjustRelPos:function(a,b){b=b instanceof Array?b:b.args;for(var d=b.length,f=Array(d),h=0;h<d;++h)f[h]=a+=b[h];return f},_moveToA:function(a){var b=[" m"];a=a instanceof Array?a:a.args;var d=a.length;this._addArgs(b,a,0,2);2<d&&(b.push(" l"),this._addArgs(b,a,2,d));this.lastControl.type=
"";return b},_moveToR:function(a,b){return this._moveToA(this._adjustRelCrd(b,a))},_lineToA:function(a){var b=[" l"];a=a instanceof Array?a:a.args;this._addArgs(b,a,0,a.length);this.lastControl.type="";return b},_lineToR:function(a,b){return this._lineToA(this._adjustRelCrd(b,a))},_hLineToA:function(a,b){var d=[" l"];b=" "+b.y.toFixed();a=a instanceof Array?a:a.args;for(var f=a.length,h=0;h<f;++h)d.push(" ",a[h].toFixed(),b);this.lastControl.type="";return d},_hLineToR:function(a,b){return this._hLineToA(this._adjustRelPos(b.x,
a),b)},_vLineToA:function(a,b){var d=[" l"];b=" "+b.x.toFixed();a=a instanceof Array?a:a.args;for(var f=a.length,h=0;h<f;++h)d.push(b," ",a[h].toFixed());this.lastControl.type="";return d},_vLineToR:function(a,b){return this._vLineToA(this._adjustRelPos(b.y,a),b)},_curveToA:function(a){var b=[];a=a instanceof Array?a:a.args;for(var d=a.length,f=this.lastControl,h=0;h<d;h+=6)b.push(" c"),this._addArgs(b,a,h,h+6);f.x=a[d-4];f.y=a[d-3];f.type="C";return b},_curveToR:function(a,b){return this._curveToA(this._adjustRelCrd(b,
a,6))},_smoothCurveToA:function(a,b){var d=[];a=a instanceof Array?a:a.args;var f=a.length,h=this.lastControl,q=0;"C"!=h.type&&(d.push(" c"),this._addArgs(d,[b.x,b.y],0,2),this._addArgs(d,a,0,4),h.x=a[0],h.y=a[1],h.type="C",q=4);for(;q<f;q+=4)d.push(" c"),this._addArgs(d,[2*b.x-h.x,2*b.y-h.y],0,2),this._addArgs(d,a,q,q+4),h.x=a[q],h.y=a[q+1];return d},_smoothCurveToR:function(a,b){return this._smoothCurveToA(this._adjustRelCrd(b,a,4),b)},_qCurveToA:function(a){var b=[];a=a instanceof Array?a:a.args;
for(var d=a.length,f=this.lastControl,h=0;h<d;h+=4)b.push(" qb"),this._addArgs(b,a,h,h+4);f.x=a[d-4];f.y=a[d-3];f.type="Q";return b},_qCurveToR:function(a,b){return this._qCurveToA(this._adjustRelCrd(b,a,4))},_qSmoothCurveToA:function(a,b){var d=[];a=a instanceof Array?a:a.args;var f=a.length,h=this.lastControl,q=0;"Q"!=h.type&&(d.push(" qb"),this._addArgs(d,[h.x=b.x,h.y=b.y],0,2),h.type="Q",this._addArgs(d,a,0,2),q=2);for(;q<f;q+=2)d.push(" qb"),this._addArgs(d,[h.x=2*b.x-h.x,h.y=2*b.y-h.y],0,2),
this._addArgs(d,a,q,q+2);return d},_qSmoothCurveToR:function(a,b){return this._qSmoothCurveToA(this._adjustRelCrd(b,a,2),b)},_arcTo:function(a,b){var d=[],f=a.args,h=f.length;a="a"==a.action;for(var q=0;q<h;q+=7){var u=f[q+5],B=f[q+6];a&&(u+=b.x,B+=b.y);for(var I=c.arcAsBezier(b,f[q],f[q+1],f[q+2],f[q+3]?1:0,f[q+4]?1:0,u,B),J=0;J<I.length;++J){d.push(" c");var F=I[J];this._addArgs(d,F,0,F.length);this._updateBBox(F[0],F[1]);this._updateBBox(F[2],F[3]);this._updateBBox(F[4],F[5])}b.x=u;b.y=B}this.lastControl.type=
"";return d},_closePath:function(){this.lastControl.type="";return["x"]},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;"string"==typeof this.shape.path&&(this.shape.path="");return this.inherited(arguments)}});n.Path.nodeType="shape";n.TextPath=y("dojox.gfx.vml.TextPath",[n.Path,r.TextPath],{constructor:function(a){a&&a.setAttribute("dojoGfxType","textpath");this.fontStyle=null;"text"in this||(this.text=t.clone(e.defaultTextPath));"fontStyle"in this||(this.fontStyle=
t.clone(e.defaultFont))},setText:function(a){this.text=e.makeParameters(this.text,"string"==typeof a?{text:a}:a);this._setText();return this},setFont:function(a){this.fontStyle="string"==typeof a?e.splitFontString(a):e.makeParameters(e.defaultFont,a);this._setFont();return this},_setText:function(){this.bbox=null;for(var a=this.rawNode,b=this.text,d=null,f=null,h=a.childNodes,q=0;q<h.length;++q){var u=h[q].tagName;if("path"==u){if(d=h[q],f)break}else if("textpath"==u&&(f=h[q],d))break}d||(d=this.rawNode.ownerDocument.createElement("v:path"),
a.appendChild(d));f||(f=this.rawNode.ownerDocument.createElement("v:textpath"),a.appendChild(f));d.textPathOk=!0;f.on=!0;a=n.text_alignment[b.align];f.style["v-text-align"]=a?a:"left";f.style["text-decoration"]=b.decoration;f.style["v-rotate-letters"]=b.rotated;f.style["v-text-kern"]=b.kerning;f.string=b.text},_setFont:function(){for(var a=this.fontStyle,b=this.rawNode.childNodes,d=0;d<b.length;++d)if("textpath"==b[d].tagName){b[d].style.font=e.makeFontString(a);break}}});n.TextPath.nodeType="shape";
n.Surface=y("dojox.gfx.vml.Surface",x.Surface,{constructor:function(){x.Container._init.call(this)},destroy:function(){this.clear(!0);this.inherited(arguments)},setDimensions:function(a,b){this.width=e.normalizedLength(a);this.height=e.normalizedLength(b);if(!this.rawNode)return this;var d=this.clipNode.style,f=this.rawNode,h=f.style,q=this.bgNode.style,u=this._parent.style;u.width=a;u.height=b;d.width=a;d.height=b;d.clip="rect(0px "+a+"px "+b+"px 0px)";h.width=a;h.height=b;f.coordsize=a+" "+b;q.width=
a;q.height=b;for(d=0;d<this.children.length;++d)this.children[d]._setDimensions(a,b);return this},getDimensions:function(){var a=this.rawNode?{width:e.normalizedLength(this.rawNode.style.width),height:e.normalizedLength(this.rawNode.style.height)}:null;0>=a.width&&(a.width=this.width);0>=a.height&&(a.height=this.height);return a}});n.createSurface=function(a,b,d){if(!b&&!d){var f=p.position(a);b=b||f.w;d=d||f.h}"number"==typeof b&&(b+="px");"number"==typeof d&&(d+="px");f=new n.Surface;a=l.byId(a);
var h=f.clipNode=a.ownerDocument.createElement("div"),q=f.rawNode=a.ownerDocument.createElement("v:group"),u=h.style,B=q.style;7<C("ie")&&(B.display="inline-block");f._parent=a;f._nodes.push(h);a.style.width=b;a.style.height=d;u.position="absolute";u.width=b;u.height=d;u.clip="rect(0px "+b+" "+d+" 0px)";B.position="absolute";B.width=b;B.height=d;q.coordsize=("100%"===b?b:parseFloat(b))+" "+("100%"===d?d:parseFloat(d));q.coordorigin="0 0";u=f.bgNode=q.ownerDocument.createElement("v:rect");var I=u.style;
I.left=I.top=0;I.width=B.width;I.height=B.height;u.filled=u.stroked="f";q.appendChild(u);h.appendChild(q);a.appendChild(h);f.width=e.normalizedLength(b);f.height=e.normalizedLength(d);return f};y=function(a){if(this!=a.getParent()){var b=a.getParent();b&&b.remove(a);this.rawNode.appendChild(a.rawNode);H.add.apply(this,arguments);z(this,function(d){"function"==typeof d.getFont&&(d.setShape(d.getShape()),d.setFont(d.getFont()));"function"==typeof d.setFill&&(d.setFill(d.getFill()),d.setStroke(d.getStroke()))})}return this};
r=function(a){this!=a.getParent()&&(this.rawNode.appendChild(a.rawNode),a.getParent()||(a.setFill(a.getFill()),a.setStroke(a.getStroke())),H.add.apply(this,arguments));return this};var H=x.Container;k={add:!0===k.fixVmlAdd?y:r,remove:function(a,b){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),H.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.firstChild!=a.lastChild;)a.firstChild!=this.bgNode&&a.removeChild(a.firstChild),
a.lastChild!=this.bgNode&&a.removeChild(a.lastChild);return H.clear.apply(this,arguments)},getBoundingBox:H.getBoundingBox,_moveChildToFront:H._moveChildToFront,_moveChildToBack:H._moveChildToBack};y={createGroup:function(){var a=this.createObject(n.Group,null),b=a.rawNode.ownerDocument.createElement("v:rect");b.style.left=b.style.top=0;b.style.width=a.rawNode.style.width;b.style.height=a.rawNode.style.height;b.filled=b.stroked="f";a.rawNode.appendChild(b);a.bgNode=b;return a},createImage:function(a){if(!this.rawNode)return null;
var b=new n.Image,d=this.rawNode.ownerDocument,f=d.createElement("v:rect");f.stroked="f";f.style.width=this.rawNode.style.width;f.style.height=this.rawNode.style.height;d=d.createElement("v:imagedata");f.appendChild(d);b.setRawNode(f);this.rawNode.appendChild(f);b.setShape(a);this.add(b);return b},createRect:function(a){if(!this.rawNode)return null;var b=new n.Rect,d=this.rawNode.ownerDocument.createElement("v:roundrect");7<C("ie")&&(d.style.display="inline-block");b.setRawNode(d);this.rawNode.appendChild(d);
b.setShape(a);this.add(b);return b},createObject:function(a,b){if(!this.rawNode)return null;var d=new a,f=this.rawNode.ownerDocument.createElement("v:"+a.nodeType);d.setRawNode(f);this.rawNode.appendChild(f);switch(a){case n.Group:case n.Line:case n.Polyline:case n.Image:case n.Text:case n.Path:case n.TextPath:this._overrideSize(f)}d.setShape(b);this.add(d);return d},_overrideSize:function(a){var b=this.rawNode.style,d=b.width;b=b.height;a.style.width=d;a.style.height=b;a.coordsize=parseInt(d)+" "+
parseInt(b)}};t.extend(n.Group,k);t.extend(n.Group,x.Creator);t.extend(n.Group,y);t.extend(n.Surface,k);t.extend(n.Surface,x.Creator);t.extend(n.Surface,y);n.fixTarget=function(a,b){a.gfxTarget||(a.gfxTarget=a.target.__gfxObject__);return!0};return n});