//>>built
define("dojox/calendar/_RendererMixin",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/Stateful"],function(k,l,f,g,m){return k("dojox.calendar._RendererMixin",m,{item:null,owner:null,edited:!1,focused:!1,hovered:!1,selected:!1,storeState:!1,moveEnabled:!0,resizeEnabled:!0,_orientation:"vertical",_displayValue:"block",_displayValueMap:{},visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:45,endTimeLabel:50},_setSelectedAttr:function(a){this._setState("selected",
a,"Selected")},_setFocusedAttr:function(a){this._setState("focused",a,"Focused")},_setEditedAttr:function(a){this._setState("edited",a,"Edited")},_setHoveredAttr:function(a){this._setState("hovered",a,"Hovered")},_setStoreStateAttr:function(a){var c=null;switch(a){case "storing":c="Storing";break;case "unstored":c="Unstored";break;default:c=null}var d=this.stateNode||this.domNode;g.remove(d,"Storing");g.remove(d,"Unstored");this._set("storeState",a);null!=c&&g.add(d,c)},_setState:function(a,c,d){this[a]!=
c&&(g[c?"add":"remove"](this.stateNode||this.domNode,d),this._set(a,c))},_setItemAttr:function(a){null==a?(this.item&&this.item.cssClass&&g.remove(this.domNode,this.item.cssClass),this.item=null):(null!=this.item?(this.item.cssClass!=a.cssClass&&this.item.cssClass&&g.remove(this.domNode,this.item.cssClass),this.item=l.mixin(this.item,a)):this.item=a,a.cssClass&&g.add(this.domNode,a.cssClass))},_setText:function(a,c,d){this.owner&&this.owner._setText(a,c,d)},_isElementVisible:function(a,c,d,e){var b=
this.visibilityLimits[a];switch(a){case "moveHandle":var h=this.moveEnabled;break;case "resizeStartHandle":h=this.mobile?this.resizeEnabled&&!c&&this.edited&&(-1==b||e>b):this.resizeEnabled&&!c&&(-1==b||e>b);break;case "resizeEndHandle":h=this.mobile?this.resizeEnabled&&!d&&this.edited&&(-1==b||e>b):this.resizeEnabled&&!d&&(-1==b||e>b);break;case "startTimeLabel":h=this.mobile?!c&&(!this.edited||this.edited&&(-1==b||e>b)):!c&&(-1==b||e>b);break;case "endTimeLabel":h=this.edited&&!d&&(-1==b||e>b);
break;case "summaryLabel":h=this.mobile?!this.edited||this.edited&&(-1==b||e>b):-1==b||e>b}return h},_formatTime:function(a,c){if(this.owner){var d=this.owner.get("formatItemTimeFunc");if(null!=d&&"function"===typeof d)return d(c,a,this.owner,this.item)}return a.dateLocaleModule.format(c,{selector:"time"})},getDisplayValue:function(a){return this._displayValue},updateRendering:function(a,c){c=c||this.item.h;a=a||this.item.w;if(c||a){this.item.h=c;this.item.w=a;a="vertical"==this._orientation?c:a;
c=this.owner.renderData;var d=0!=c.dateModule.compare(this.item.range[0],this.item.startTime),e=0!=c.dateModule.compare(this.item.range[1],this.item.endTime);if(null!=this.beforeIcon){var b="horizontal"!=this._orientation||this.isLeftToRight()?d:e;f.set(this.beforeIcon,"display",b?this.getDisplayValue("beforeIcon"):"none")}null!=this.afterIcon&&(b="horizontal"!=this._orientation||this.isLeftToRight()?e:d,f.set(this.afterIcon,"display",b?this.getDisplayValue("afterIcon"):"none"));this.moveHandle&&
(b=this._isElementVisible("moveHandle",d,e,a),f.set(this.moveHandle,"display",b?this.getDisplayValue("moveHandle"):"none"));this.resizeStartHandle&&(b=this._isElementVisible("resizeStartHandle",d,e,a),f.set(this.resizeStartHandle,"display",b?this.getDisplayValue("resizeStartHandle"):"none"));this.resizeEndHandle&&(b=this._isElementVisible("resizeEndHandle",d,e,a),f.set(this.resizeEndHandle,"display",b?this.getDisplayValue("resizeEndHandle"):"none"));this.startTimeLabel&&(b=this._isElementVisible("startTimeLabel",
d,e,a),f.set(this.startTimeLabel,"display",b?this.getDisplayValue("startTimeLabel"):"none"),b&&this._setText(this.startTimeLabel,this._formatTime(c,this.item.startTime)));this.endTimeLabel&&(b=this._isElementVisible("endTimeLabel",d,e,a),f.set(this.endTimeLabel,"display",b?this.getDisplayValue("endTimeLabel"):"none"),b&&this._setText(this.endTimeLabel,this._formatTime(c,this.item.endTime)));this.summaryLabel&&(b=this._isElementVisible("summaryLabel",d,e,a),f.set(this.summaryLabel,"display",b?this.getDisplayValue("summaryLabel"):
"none"),b&&this._setText(this.summaryLabel,this.item.summary,!0))}}})});