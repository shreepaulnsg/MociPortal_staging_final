/*
	Copyright (c) 2004-2016, The JS Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
define("dojo/parser","require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(F,C,z,B,O,P,Q,R,M,S,T,G,H,N,U,V){function I(b){return eval("("+b+")")}function W(b){var a=b._nameCaseMap,f=b.prototype;if(!a||a._extendCnt<D){a=b._nameCaseMap={};for(var h in f)"_"!==h.charAt(0)&&(a[h.toLowerCase()]=h);a._extendCnt=D}return a}function J(b,a){a||(a=F);var f=a._dojoParserCtorMap||
(a._dojoParserCtorMap={}),h=b.join();if(!f[h]){for(var g=[],c=0,n=b.length;c<n;c++){var t=b[c];g[g.length]=f[t]=f[t]||z.getObject(t)||~t.indexOf("/")&&a(t)}b=g.shift();f[h]=g.length?b.createSubclass?b.createSubclass(g):b.extend.apply(b,g):b}return f[h]}new Date("X");var D=0;M.after(z,"extend",function(){D++},!0);var L={_clearCache:function(){D++;_ctorMap={}},_functionFromScript:function(b,a){var f="",h="",g=b.getAttribute(a+"args")||b.getAttribute("args");a=b.getAttribute("with");g=(g||"").split(/\s*,\s*/);
a&&a.length&&B.forEach(a.split(/\s*,\s*/),function(c){f+="with("+c+"){";h+="}"});return new Function(g,f+b.innerHTML+h)},instantiate:function(b,a,f){a=a||{};f=f||{};var h=(f.scope||C._scopeName)+"Type",g="data-"+(f.scope||C._scopeName)+"-",c=g+"type",n=g+"mixins",t=[];B.forEach(b,function(q){var r=h in a?a[h]:q.getAttribute(c)||q.getAttribute(h);if(r){var k=q.getAttribute(n);r=k?[r].concat(k.split(/\s*,\s*/)):[r];t.push({node:q,types:r})}});return this._instantiate(t,a,f)},_instantiate:function(b,
a,f,h){function g(c){a._started||f.noStart||B.forEach(c,function(n){"function"!==typeof n.startup||n._started||n.startup()});return c}b=B.map(b,function(c){var n=c.ctor||J(c.types,f.contextRequire);if(!n)throw Error("Unable to resolve constructor for: '"+c.types.join()+"'");return this.construct(n,c.node,a,f,c.scripts,c.inherited)},this);return h?S(b).then(g):g(b)},construct:function(b,a,f,h,g,c){function n(v){w&&z.setObject(w,v);for(e=0;e<p.length;e++)M[p[e].advice||"after"](v,p[e].method,z.hitch(v,
p[e].func),!0);for(e=0;e<y.length;e++)y[e].call(v);for(e=0;e<A.length;e++)v.watch(A[e].prop,A[e].func);for(e=0;e<E.length;e++)U(v,E[e].event,E[e].func);return v}var t=b&&b.prototype;h=h||{};var q={};h.defaults&&z.mixin(q,h.defaults);c&&z.mixin(q,c);if(H("dom-attributes-explicit"))var r=a.attributes;else H("dom-attributes-specified-flag")?r=B.filter(a.attributes,function(v){return v.specified}):(c=(/^input$|^img$/i.test(a.nodeName)?a:a.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,
"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),r=B.map(c.split(/\s+/),function(v){var K=v.toLowerCase();return{name:v,value:"LI"==a.nodeName&&"value"==v||"enctype"==K?a.getAttribute(K):a.getAttributeNode(K).value}}));var k=h.scope||C._scopeName;c="data-"+k+"-";var d={};"dojo"!==k&&(d[c+"props"]="data-dojo-props",d[c+"type"]="data-dojo-type",d[c+"mixins"]="data-dojo-mixins",d[k+"type"]="dojotype",d[c+"id"]="data-dojo-id");var e=0,l;k=[];for(var w,x;l=r[e++];){var u=l.name,m=u.toLowerCase();
l=l.value;switch(d[m]||m){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":x=l;break;case "data-dojo-id":case "jsid":w=l;break;case "data-dojo-attach-point":case "dojoattachpoint":q.dojoAttachPoint=l;break;case "data-dojo-attach-event":case "dojoattachevent":q.dojoAttachEvent=l;break;case "class":q["class"]=a.className;break;case "style":q.style=a.style&&a.style.cssText;break;default:if(u in t||(u=W(b)[m]||u),u in t)switch(typeof t[u]){case "string":q[u]=
l;break;case "number":q[u]=l.length?Number(l):NaN;break;case "boolean":q[u]="false"!=l.toLowerCase();break;case "function":""===l||-1!=l.search(/[^\w\.]+/i)?q[u]=new Function(l):q[u]=z.getObject(l,!1)||new Function(l);k.push(u);break;default:m=t[u],q[u]=m&&"length"in m?l?l.split(/\s*,\s*/):[]:m instanceof Date?""==l?new Date(""):"now"==l?new Date:T.fromISOString(l):m instanceof R?C.baseUrl+l:I(l)}else q[u]=l}}for(r=0;r<k.length;r++)d=k[r].toLowerCase(),a.removeAttribute(d),a[d]=null;if(x)try{x=I.call(h.propsThis,
"{"+x+"}"),z.mixin(q,x)}catch(v){throw Error(v.toString()+" in data-dojo-props\x3d'"+x+"'");}z.mixin(q,f);g||(g=b&&(b._noScript||t._noScript)?[]:N("\x3e script[type^\x3d'dojo/']",a));var p=[],y=[],A=[],E=[];if(g)for(e=0;e<g.length;e++)d=g[e],a.removeChild(d),f=d.getAttribute(c+"event")||d.getAttribute("event"),h=d.getAttribute(c+"prop"),x=d.getAttribute(c+"method"),k=d.getAttribute(c+"advice"),r=d.getAttribute("type"),d=this._functionFromScript(d,c),f?"dojo/connect"==r?p.push({method:f,func:d}):"dojo/on"==
r?E.push({event:f,func:d}):q[f]=d:"dojo/aspect"==r?p.push({method:x,advice:k,func:d}):"dojo/watch"==r?A.push({prop:h,func:d}):y.push(d);b=(g=b.markupFactory||t.markupFactory)?g(q,a,b):new b(q,a);return b.then?b.then(n):n(b)},scan:function(b,a){function f(m){if(!m.inherited){m.inherited={};var p=m.node,y=f(m.parent);p={dir:p.getAttribute("dir")||y.dir,lang:p.getAttribute("lang")||y.lang,textDir:p.getAttribute(r)||y.textDir};for(var A in p)p[A]&&(m.inherited[A]=p[A])}return m.inherited}var h=[],g=[],
c={},n=(a.scope||C._scopeName)+"Type",t="data-"+(a.scope||C._scopeName)+"-",q=t+"type",r=t+"textdir";t+="mixins";var k=b.firstChild,d=a.inherited;if(!d){d=function A(p,y){return p.getAttribute&&p.getAttribute(y)||p.parentNode&&A(p.parentNode,y)};d={dir:d(b,"dir"),lang:d(b,"lang"),textDir:d(b,r)};for(var e in d)d[e]||delete d[e]}e={inherited:d};for(var l,w;;)if(k)if(1!=k.nodeType)k=k.nextSibling;else if(l&&"script"==k.nodeName.toLowerCase())(d=k.getAttribute("type"))&&/^dojo\/\w/i.test(d)&&l.push(k),
k=k.nextSibling;else if(w)k=k.nextSibling;else if(d=k.getAttribute(q)||k.getAttribute(n),b=k.firstChild,d||b&&(3!=b.nodeType||b.nextSibling)){w=null;if(d){var x=k.getAttribute(t);l=x?[d].concat(x.split(/\s*,\s*/)):[d];try{w=J(l,a.contextRequire)}catch(m){}w||B.forEach(l,function(m){~m.indexOf("/")&&!c[m]&&(c[m]=!0,g[g.length]=m)});x=w&&!w.prototype._noScript?[]:null;e={types:l,ctor:w,parent:e,node:k,scripts:x};e.inherited=f(e);h.push(e)}else e={node:k,scripts:l,parent:e};l=x;w=k.stopParser||w&&w.prototype.stopParser&&
!a.template;k=b}else k=k.nextSibling;else{if(!e||!e.node)break;k=e.node.nextSibling;w=!1;e=e.parent;l=e.scripts}var u=new G;g.length?(H("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+g.join(", ")),(a.contextRequire||F)(g,function(){u.resolve(B.filter(h,function(m){if(!m.ctor)try{m.ctor=J(m.types,a.contextRequire)}catch(A){}for(var p=m.parent;p&&!p.types;)p=p.parent;var y=m.ctor&&m.ctor.prototype;m.instantiateChildren=!(y&&y.stopParser&&!a.template);m.instantiate=!p||
p.instantiate&&p.instantiateChildren;return m.instantiate}))})):u.resolve(h);return u.promise},_require:function(b,a){b=I("{"+b.innerHTML+"}");var f=[],h=[],g=new G;a=a&&a.contextRequire||F;for(var c in b)f.push(c),h.push(b[c]);a(h,function(){for(var n=0;n<f.length;n++)z.setObject(f[n],arguments[n]);g.resolve(arguments)});return g.promise},_scanAmd:function(b,a){var f=new G,h=f.promise;f.resolve(!0);var g=this;N("script[type\x3d'dojo/require']",b).forEach(function(c){h=h.then(function(){return g._require(c,
a)});c.parentNode.removeChild(c)});return h},parse:function(b,a){!b||"string"==typeof b||"nodeType"in b||(a=b,b=a.rootNode);var f=b?P.byId(b):Q.body();a=a||{};var h=a.template?{template:!0}:{},g=[],c=this;b=this._scanAmd(f,a).then(function(){return c.scan(f,a)}).then(function(n){return c._instantiate(n,h,a,!0)}).then(function(n){return g=g.concat(n)}).otherwise(function(n){console.error("dojo/parser::parse() error",n);throw n;});z.mixin(g,b);return g}};C.parser=L;O.parseOnLoad&&V(100,L,"parse");return L});